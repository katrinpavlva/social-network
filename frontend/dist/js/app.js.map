{"version":3,"file":"js/app.1a9ef442.js","mappings":"6FACOA,GAAG,O,0EAARC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAeC,I,CAKnB,OACEC,KAAM,MACNC,OAAAA,GACEC,KAAKC,aACP,EACAC,QAAS,CACPD,WAAAA,GACE,MAAME,EAAkBC,SAASC,OAAOC,MAAM,KAAKC,MAAKC,GAAOA,EAAIC,OAAOC,WAAW,iBAChFP,IACHQ,aAAaC,QACbZ,KAAKa,OAAOC,SAAS,UACrBd,KAAKe,QAAQC,KAAK,YAEtB,I,QCbJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,Q,kBCJA,MAAMC,EAAsBR,aAAaS,QAAQ,cAEjD,OAAeC,EAAAA,EAAAA,IAAY,CACzBC,MAAO,CACLC,aAAYJ,GAAsBK,KAAKC,MAAMN,IAE/CO,UAAW,CACTC,WAAAA,CAAYL,EAAOM,GACjBN,EAAMC,WAAaK,EAGnBjB,aAAakB,QAAQ,aAAcL,KAAKM,UAAUF,GACpD,GAEFG,QAAS,CACPC,KAAAA,EAAM,OAAEC,IACNA,EAAO,eAAe,GACtBC,GAAOlB,KAAK,IACd,EACAmB,MAAAA,EAAO,OAAEF,IACPA,EAAO,eAAe,GACtBC,GAAOlB,KAAK,WACd,K,yEC3BJoB,IAAA,EACOC,MAAM,S,GACJA,MAAM,kB,GACJA,MAAM,Q,UAOXC,EAAAA,EAAAA,GAAgB,UAAZ,WAAO,K,UAGXA,EAAAA,EAAAA,GAAsC,UAA9BC,KAAK,UAAS,WAAO,K,UAC7BD,EAAAA,EAAAA,GAAI,qB,GAdVF,IAAA,EAe8BC,MAAM,iB,UAK9BC,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,K,GApBlBF,IAAA,G,UA6BUE,EAAAA,EAAAA,GAAwD,UAAhDE,MAAM,UAAS,4BAAwB,K,UAC/CF,EAAAA,EAAAA,GAA0D,UAAlDE,MAAM,WAAU,6BAAyB,K,GADjDC,EACAC,G,UAGFJ,EAAAA,EAAAA,GAAI,qB,GAjCZF,IAAA,EAkCgCC,MAAM,iB,GAlCtCD,IAAA,G,UAuCQE,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,K,UAIVA,EAAAA,EAAAA,GAAyD,UAAjDE,MAAM,GAAGG,SAAA,GAASC,SAAA,GAASC,OAAA,IAAO,UAAM,K,UAChDP,EAAAA,EAAAA,GAA2C,UAAnCE,MAAM,IAAG,qBAAiB,K,UAClCF,EAAAA,EAAAA,GAAkC,UAA1BE,MAAM,QAAO,QAAI,K,UACzBF,EAAAA,EAAAA,GAAsC,UAA9BE,MAAM,UAAS,UAAM,K,GAH7BM,EACAC,EACAC,EACAC,G,UAIFX,EAAAA,EAAAA,GAAsC,UAA9BC,KAAK,UAAS,WAAO,K,UAC7BD,EAAAA,EAAAA,GAAI,qB,GAnDZF,IAAA,EAoDgCC,MAAM,iB,+BAnDXa,EAAAC,YAAS,WAAlCzD,EAAAA,EAAAA,IAuDM,MAvDNC,EAuDM,EAtDJ2C,EAAAA,EAAAA,GAqDM,MArDNc,EAqDM,EApDJd,EAAAA,EAAAA,GAGI,MAHJe,EAGI,EAFJf,EAAAA,EAAAA,GAAqG,OAAhGD,OAJXiB,EAAAA,EAAAA,IAAA,CAIiB,MAAK,CAAAC,OAA+B,WAAbL,EAAAM,YAAyBC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAM,SAAW,WAAU,WAAQ,IAC/FlB,EAAAA,EAAAA,GAAkG,OAA7FD,OALXiB,EAAAA,EAAAA,IAAA,CAKiB,MAAK,CAAAC,OAA+B,WAAbL,EAAAM,YAAyBC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAM,SAAW,WAAU,QAAK,KAIrE,WAAbN,EAAAM,WAAQ,WAApB9D,EAAAA,EAAAA,IAOO,QAhBX0C,IAAA,EASwCwB,SAAMF,EAAA,KAAAA,EAAA,IAT9CG,EAAAA,EAAAA,KAAA,IAAAC,IASwDC,EAAAC,cAAAD,EAAAC,gBAAAF,IAAY,cAAEzB,MAAM,gB,CACtE4B,GAAgB,SAChB3B,EAAAA,EAAAA,GAA8G,SAAvGC,KAAK,OAAO2B,YAAY,oBAXrC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAWkET,EAAAiB,WAAWC,WAAUT,GAAE7D,KAAK,aAAauE,SAAA,I,iBAAzCnB,EAAAiB,WAAWC,eAAU,SACjF9B,EAAAA,EAAAA,GAAqG,SAA9FC,KAAK,WAAW2B,YAAY,WAZzC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAY6DT,EAAAiB,WAAWG,SAAQX,GAAE7D,KAAK,WAAWuE,SAAA,I,iBAArCnB,EAAAiB,WAAWG,YAClEC,EACAC,EACWtB,EAAAuB,cAAW,WAAtB/E,EAAAA,EAAAA,IAAqE,MAArEgF,GAAqEC,EAAAA,EAAAA,IAApBzB,EAAAuB,aAAW,KAflEG,EAAAA,EAAAA,IAAA,cAAAA,EAAAA,EAAAA,IAAA,OAmB6B,WAAb1B,EAAAM,WAAQ,WAApB9D,EAAAA,EAAAA,IAmCO,QAtDX0C,IAAA,EAmBwCwB,SAAMF,EAAA,MAAAA,EAAA,KAnB9CG,EAAAA,EAAAA,KAAA,IAAAC,IAmBwDC,EAAAc,cAAAd,EAAAc,gBAAAf,IAAY,cAAEzB,MAAM,gB,CACtEyC,EAE0B,IAAf5B,EAAA6B,aAAU,WAArBrF,EAAAA,EAAAA,IAaM,MAnCZsF,EAAA,WAuBQ1C,EAAAA,EAAAA,GAA4E,SAArEC,KAAK,QAAQ2B,YAAY,QAvBxC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAuByDT,EAAA+B,WAAWC,MAAKvB,GAAEU,SAAA,I,iBAAlBnB,EAAA+B,WAAWC,UAAK,SACjE5C,EAAAA,EAAAA,GAAqF,SAA9EC,KAAK,WAAW2B,YAAY,WAxB3C,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAwB+DT,EAAA+B,WAAWX,SAAQX,GAAEU,SAAA,I,iBAArBnB,EAAA+B,WAAWX,aAAQ,SAC1EhC,EAAAA,EAAAA,GAAoF,SAA7EC,KAAK,OAAO2B,YAAY,aAzBvC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAyB6DT,EAAA+B,WAAWE,UAASxB,GAAEU,SAAA,I,iBAAtBnB,EAAA+B,WAAWE,cAAS,SACzE7C,EAAAA,EAAAA,GAAkF,SAA3EC,KAAK,OAAO2B,YAAY,YA1BvC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GA0B4DT,EAAA+B,WAAWG,SAAQzB,GAAEU,SAAA,I,iBAArBnB,EAAA+B,WAAWG,aAAQ,SACvE9C,EAAAA,EAAAA,GAAyF,SAAlFC,KAAK,OAAO2B,YAAY,gBA3BvC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GA2BgET,EAAA+B,WAAWI,YAAW1B,GAAEU,SAAA,I,iBAAxBnB,EAAA+B,WAAWI,gBAAW,SAC9E/C,EAAAA,EAAAA,GAGS,UA/BjB,sBAAAoB,EAAA,MAAAA,EAAA,IAAAC,GA4ByBT,EAAA+B,WAAWK,eAAc3B,IA5BlD4B,EAAA,YA4ByBrC,EAAA+B,WAAWK,mBAI5BhD,EAAAA,EAAAA,GAAqD,UAA7CC,KAAK,SAAUkB,QAAKC,EAAA,MAAAA,EAAA,QAAAI,IAAEC,EAAAyB,UAAAzB,EAAAyB,YAAA1B,KAAU,QACxC2B,EACWvC,EAAAwC,cAAW,WAAtBhG,EAAAA,EAAAA,IAAqE,MAArEiG,GAAqEhB,EAAAA,EAAAA,IAApBzB,EAAAwC,aAAW,KAlCpEd,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,OAsCgC,IAAf1B,EAAA6B,aAAU,WAArBrF,EAAAA,EAAAA,IAeM,MArDZkG,EAAA,CAuCQC,GACAvD,EAAAA,EAAAA,GAA8C,SAAvCC,KAAK,OAAQuD,SAAMpC,EAAA,MAAAA,EAAA,QAAAI,IAAEC,EAAAgC,kBAAAhC,EAAAgC,oBAAAjC,K,mBAC5BxB,EAAAA,EAAAA,GAAwE,SAAjEC,KAAK,OAAO2B,YAAY,WAzCvC,sBAAAR,EAAA,MAAAA,EAAA,IAAAC,GAyC2DT,EAAA+B,WAAWe,SAAQrC,I,iBAAnBT,EAAA+B,WAAWe,aAAQ,SACtE1D,EAAAA,EAAAA,GAKS,UA/CjB,sBAAAoB,EAAA,MAAAA,EAAA,IAAAC,GA0CyBT,EAAA+B,WAAWgB,OAAMtC,IA1C1CuC,EAAA,YA0CyBhD,EAAA+B,WAAWgB,WAAM,SAMlC3D,EAAAA,EAAAA,GAAyE,YAA/D4B,YAAY,WAhD9B,sBAAAR,EAAA,MAAAA,EAAA,IAAAC,GAgDkDT,EAAA+B,WAAWkB,QAAOxC,I,iBAAlBT,EAAA+B,WAAWkB,YACrD7D,EAAAA,EAAAA,GAA6D,UAArDC,KAAK,SAAUkB,QAAKC,EAAA,MAAAA,EAAA,QAAAI,IAAEC,EAAAqC,cAAArC,EAAAqC,gBAAAtC,KAAc,YAC5CuC,EACAC,EACWpD,EAAAwC,cAAW,WAAtBhG,EAAAA,EAAAA,IAAqE,MAArE6G,GAAqE5B,EAAAA,EAAAA,IAApBzB,EAAAwC,aAAW,KApDpEd,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,cAAAA,EAAAA,EAAAA,IAAA,aAAAA,EAAAA,EAAAA,IAAA,M,CA8DA,OACE4B,IAAAA,GACE,MAAO,CACLrD,WAAW,EACXK,SAAU,SACVW,WAAY,CACVC,WAAY,GACZE,SAAU,IAEZS,WAAY,EACZE,WAAY,CACVC,MAAO,GACPZ,SAAU,GACVa,UAAW,GACXC,SAAU,GACVC,YAAa,KACboB,OAAQ,KACRT,SAAU,GACVG,QAAS,GACTb,eAAgB,SAChBW,OAAQ,IAEVxB,YAAa,GACbiB,YAAa,GAEjB,EACAgB,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,gBAEfzG,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,QAAS,WACxBpB,QAAAA,GACExF,KAAK+E,YACP,EACAqB,YAAAA,GACEpG,KAAK+E,YACP,EACAgB,gBAAAA,CAAiBc,GACf,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChChH,KAAKiF,WAAWwB,OAASK,CAC3B,EACA9C,YAAAA,GACEhE,KAAKiH,OAAOC,KAAK,aAAc,CAC7B9C,WAAYpE,KAAKmE,WAAWC,WAC5BE,SAAUtE,KAAKmE,WAAWG,WACzB6C,MAAKC,IACNpH,KAAKgC,QACLhC,KAAKmD,WAAY,EACjB,MAAM,KAAEkE,GAASD,EAASZ,KAC1B7F,aAAakB,QAAQ,OAAQL,KAAKM,UAAUuF,IAC5CrH,KAAKyE,YAAc,GACnB6C,QAAQC,IAAI,mBAAoBH,EAAS,IAExCI,OAAMC,IACPH,QAAQG,MAAM,iBAAkBA,GAChCzH,KAAKyE,YAAcgD,EAAML,SAASZ,KAAKiB,OAAS,mCAAmC,GAGvF,EAEA5C,YAAAA,GACE,MAAM6C,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS5H,KAAKiF,WAAWC,OACzCwC,EAASE,OAAO,WAAY5H,KAAKiF,WAAWX,UAC5CoD,EAASE,OAAO,YAAa5H,KAAKiF,WAAWE,WAC7CuC,EAASE,OAAO,WAAY5H,KAAKiF,WAAWG,UAC5CsC,EAASE,OAAO,cAAe5H,KAAKiF,WAAWI,aAC/CqC,EAASE,OAAO,iBAAkB5H,KAAKiF,WAAWK,gBAClDoC,EAASE,OAAO,SAAU5H,KAAKiF,WAAWgB,QACtCjG,KAAKiF,WAAWwB,QAClBiB,EAASE,OAAO,iBAAkB5H,KAAKiF,WAAWwB,QAEpDiB,EAASE,OAAO,WAAY5H,KAAKiF,WAAWe,UAC5C0B,EAASE,OAAO,UAAW5H,KAAKiF,WAAWkB,SAE3CnG,KAAKiH,OAAOC,KAAK,gBAAiBQ,GAAUP,MAAKC,IAC/CE,QAAQC,IAAIH,GACZpH,KAAKwD,SAAW,SAChBxD,KAAK0F,YAAc,GAEnB1F,KAAKmE,WAAWC,WAAapE,KAAKiF,WAAWC,MAC7ClF,KAAKmE,WAAWG,SAAWtE,KAAKiF,WAAWX,QAAQ,IAClDkD,OAAMC,IACPH,QAAQG,MAAMA,GACdzH,KAAK0F,YAAc+B,EAAML,SAASZ,KAAKiB,OAAS,wCAAwC,GAE5F,IC7IJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCPInF,EAAAA,EAAAA,GAEM,OAFDD,MAAM,0BAAwB,EACjCC,EAAAA,EAAAA,GAAiC,UAA7B,8BAAwB,G,GAEzBD,MAAM,0B,GACJA,MAAM,U,GAORA,MAAM,0B,GAIRA,MAAM,kB,GACJA,MAAM,mB,GACAA,MAAM,gB,GAMRA,MAAM,0B,GAaNA,MAAM,a,IACXC,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,G,GAvCpB,Y,GAAA,Q,IAAAF,IAAA,EA4C8CC,MAAM,oB,IAMvCA,MAAM,gB,IACNA,MAAM,+B,IAKNA,MAAM,8B,IAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,4qBAO6C,G,IAdzDxF,I,IAoBFR,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,G,IAEdD,MAAM,qB,IAhFnBD,IAAA,G,IAAAA,IAAA,EAmF8CC,MAAM,wB,IACnCA,MAAM,wB,IAIJA,MAAM,oB,GAxFzB,Y,GAAA,Y,IAAAD,IAAA,G,IAgGiBC,MAAM,wB,IAIJA,MAAM,oB,GApGzB,Y,GAAA,Y,IAAAD,IAAA,G,IA2GiBC,MAAM,0B,IAGJA,MAAM,oB,GA9GzB,Y,GAAA,Y,IAAAD,IAAA,G,IAqHiBC,MAAM,8B,IAGJA,MAAM,oB,GAxHzB,Y,GAAA,Y,mIAAA3C,EAAAA,EAAAA,IAAA6I,EAAAA,GAAA,OACEjG,EAAAA,EAAAA,GAeS,eAdP3C,GAGA2C,EAAAA,EAAAA,GAOM,MAPNc,EAOM,EANJd,EAAAA,EAAAA,GAKM,MALNe,EAKM,EAJJzD,EAAAA,EAAAA,IAAuD4I,EAAA,CAA1CC,GAAG,IAAIpG,MAAM,Y,CAPlCqG,SAAAC,EAAAA,EAAAA,KAO6C,IAAI,EAPjDC,EAAAA,EAAAA,IAO6C,WAP7CC,EAAA,KAQQjJ,EAAAA,EAAAA,IAA+D4I,EAAA,CAAlDC,GAAG,UAAUpG,MAAM,Y,CARxCqG,SAAAC,EAAAA,EAAAA,KAQmD,IAAM,EARzDC,EAAAA,EAAAA,IAQmD,aARnDC,EAAA,KASQjJ,EAAAA,EAAAA,IAA6D4I,EAAA,CAAhDC,GAAG,SAASpG,MAAM,Y,CATvCqG,SAAAC,EAAAA,EAAAA,KASkD,IAAK,EATvDC,EAAAA,EAAAA,IASkD,YATlDC,EAAA,KAUQjJ,EAAAA,EAAAA,IAAqF4I,EAAA,CAAvEC,GAAE,YAAc1E,EAAA+E,gBAAiBzG,MAAM,Y,CAV7DqG,SAAAC,EAAAA,EAAAA,KAUwE,IAAO,EAV/EC,EAAAA,EAAAA,IAUwE,cAVxEC,EAAA,G,eAaIvG,EAAAA,EAAAA,GAEM,MAFN2B,EAEM,EADJ3B,EAAAA,EAAAA,GAA8C,UAArCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAgF,cAAAhF,EAAAgF,gBAAAjF,KAAc,gBAGlCxB,EAAAA,EAAAA,GAgHM,MAhHNiC,EAgHM,EA/GJjC,EAAAA,EAAAA,GA8GM,MA9GNkC,EA8GM,EA7GJlC,EAAAA,EAAAA,GAkBU,UAlBVoC,EAkBU,EAhBR9E,EAAAA,EAAAA,IAEEoJ,EAAA,CADDF,cAAe/E,EAAA+E,eAAa,2BAG7BxG,EAAAA,EAAAA,GAWM,MAXNwC,EAWM,gBAVJpF,EAAAA,EAAAA,IASE6I,EAAAA,GAAA,MAnCZU,EAAAA,EAAAA,IA2B+BlF,EAAAmF,mBAAZC,K,WADTC,EAAAA,EAAAA,IASEC,EAAA,CAPCjH,IAAK+G,EAASG,OACdC,cAAeJ,EAASG,OACxBE,SAAUtG,EAAAsG,SAASC,QAAOC,GAAKA,EAAEC,SAAWR,EAASG,SACrDR,cAAe/E,EAAA+E,cACfc,oBAAqB7F,EAAA8F,gBACrBC,YAAW/F,EAAAgG,gBACZ1H,MAAM,e,uGAIZC,EAAAA,EAAAA,GAWQ,QAXR0C,EAWQ,CAVNvC,IACAH,EAAAA,EAAAA,GAQK,0BAPH5C,EAAAA,EAAAA,IAMK6I,EAAAA,GAAA,MA/CfU,EAAAA,EAAAA,IAyCiC/F,EAAA8G,iBAAZb,K,WAAXzJ,EAAAA,EAAAA,IAMK,MANoC0C,IAAK+G,EAASc,OAASxG,QAAKE,GAAEI,EAAAmG,gBAAgBf,I,EACrF7G,EAAAA,EAAAA,GAAmG,OAA7F6H,IAAKhB,EAASiB,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OA1C/FkD,KAAAqD,EAAAA,EAAAA,IA0C+G,KACnGjE,EAAAA,EAAAA,IAAIwE,EAASoB,UAAY,IAAMpB,EAASqB,UAAY,IACpD,GAAYrB,EAASsB,cAAW,WAAhC/K,EAAAA,EAAAA,IAEO,OAFP+F,IAEOd,EAAAA,EAAAA,IADFwE,EAASsB,aAAW,KA7CrC7F,EAAAA,EAAAA,IAAA,UAAAlC,O,WAkDMJ,EAAAA,EAAAA,GAIQ,QAJRqD,GAIQ,EAHNrD,EAAAA,EAAAA,GAEM,MAFNsD,GAEM,EADJtD,EAAAA,EAAAA,GAAwE,UAA/DmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAA2G,6BAA4B,4BAGhDpI,EAAAA,EAAAA,GAwEQ,SAxEDD,OAvDbiB,EAAAA,EAAAA,IAAA,CAuDmB,sBAAqB,cAAyBJ,EAAAyH,gC,EACzDrI,EAAAA,EAAAA,GAuBM,MAvBNuD,GAuBM,EAtBJvD,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAET,EAAAyH,6BAA8B,EAAOzH,EAAA0H,cAAgB,EAAE,IAzDjF7H,IA8EUC,MAEFV,EAAAA,EAAAA,GA8CM,MA9CNW,GA8CM,gBA7CJvD,EAAAA,EAAAA,IA4CM6I,EAAAA,GAAA,MA7HhBU,EAAAA,EAAAA,IAiFsC/F,EAAA0H,eAAhBC,K,WAAZnL,EAAAA,EAAAA,IA4CM,OA5CsC0C,IAAKyI,EAAapL,GAAI4C,MAAM,gB,CACrC,gBAAtBwI,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAUM,MA5FlBwG,GAAA,CAmFyBhD,EAAA4H,sBAAmB,WAA9BpL,EAAAA,EAAAA,IAA4F,MAA5F2G,IAA4F1B,EAAAA,EAAAA,IAA5BzB,EAAA4H,qBAAmB,KAnFjGlG,EAAAA,EAAAA,IAAA,QAoFctC,EAAAA,EAAAA,GAGI,IAHJgE,GAGI,EAvFlBsC,EAAAA,EAAAA,IAoF8C,+BACLtG,EAAAA,EAAAA,GAA6C,eAAAqC,EAAAA,EAAAA,IAAlCkG,EAAaE,WAAS,IArF1EnC,EAAAA,EAAAA,IAqFsF,YAAOtG,EAAAA,EAAAA,GAA2C,cAAnC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaG,OAAQ,IAAC,IArF/HpC,EAAAA,EAAAA,IAqFwI,SACrHtG,EAAAA,EAAAA,GAAuF,eAAAqC,EAAAA,EAAAA,IAA5EkG,EAAaI,kBAAmB,KAACtG,EAAAA,EAAAA,IAAGkG,EAAaK,iBAAe,MAEhF5I,EAAAA,EAAAA,GAGM,MAHNiE,GAGM,EAFJjE,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,QAASoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,QAAS,UAAU,QAAK,EAzFnGO,KA0FgB9I,EAAAA,EAAAA,GAAuG,UAA/FD,MAAM,WAAYoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,YAAa,UAAU,YAAS,EA1F9GQ,SA8FkD,gBAAtBR,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAUM,MAxGlB4L,GAAA,EAgGchJ,EAAAA,EAAAA,GAGI,IAHJiJ,GAGI,EAnGlB3C,EAAAA,EAAAA,IAgG8C,8CACUtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAjG9FnC,EAAAA,EAAAA,IAiGuG,SACpFtG,EAAAA,EAAAA,GAA+C,eAAAqC,EAAAA,EAAAA,IAApCkG,EAAaW,aAAW,IAlGtD5C,EAAAA,EAAAA,IAkGkE,SAEpDtG,EAAAA,EAAAA,GAGM,MAHNmJ,GAGM,EAFJnJ,EAAAA,EAAAA,GAA2F,UAAnFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,UAAU,SAAM,EArGlGa,KAsGgBpJ,EAAAA,EAAAA,GAA8F,UAAtFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,UAAU,UAAO,EAtGrGc,SA0GkD,kBAAtBd,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAQM,MAlHlBkM,GAAA,EA2GctJ,EAAAA,EAAAA,GAEI,IAFJuJ,GAEI,EADAvJ,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAa1F,WAAY,KAACR,EAAAA,EAAAA,IAAGkG,EAAazF,UAAQ,IA5G/EwD,EAAAA,EAAAA,IA4G2F,6BAE7EtG,EAAAA,EAAAA,GAGM,MAHNwJ,GAGM,EAFJxJ,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,WAAW,SAAM,EA/GnGkB,KAgHgBzJ,EAAAA,EAAAA,GAA+F,UAAvFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,WAAW,UAAO,EAhHtGmB,UAAApH,EAAAA,EAAAA,IAAA,OAoH6C,qBAAtBiG,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAQM,MA5HlBuM,GAAA,EAqHc3J,EAAAA,EAAAA,GAEI,IAFJ4J,GAEI,EADF5J,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAaN,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkG,EAAaL,UAAQ,IAtH7E5B,EAAAA,EAAAA,IAsHyF,+BAA0BtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAtHzJnC,EAAAA,EAAAA,IAsHkK,SAEpJtG,EAAAA,EAAAA,GAGM,MAHN6J,GAGM,EAFJ7J,EAAAA,EAAAA,GAAsG,UAA9FD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,qBAAqB,SAAM,EAzH7GuB,KA0HgB9J,EAAAA,EAAAA,GAAyG,UAAjGD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,qBAAqB,UAAO,EA1HhHwB,UAAAzH,EAAAA,EAAAA,IAAA,Y,sFCAAxC,IAAA,EACOC,MAAM,e,IACJA,MAAM,e,IAIPA,MAAM,gBAAgBiK,IAAI,qB,IAGrBjK,MAAM,mB,IACNA,MAAM,qB,IAGVA,MAAM,c,IAbfD,IAAA,EAckCC,MAAM,gB,GAdxC,Y,IAoBWA,MAAM,+B,YAC2BC,EAAAA,EAAAA,GAA6B,QAAvBD,MAAM,SAAQ,MAAE,K,IAAtBI,I,gCApBX8J,EAAAhD,gBAAa,WAA5C7J,EAAAA,EAAAA,IAwBM,MAxBNC,GAwBM,EAvBJ2C,EAAAA,EAAAA,GAGM,MAHNc,GAGM,EAFJd,EAAAA,EAAAA,GAAkC,aAAAqC,EAAAA,EAAAA,IAAzBZ,EAAAyI,iBAAe,IACxBlK,EAAAA,EAAAA,GAAqD,QAA/CD,MAAM,QAASoB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA0I,WAAA1I,EAAA0I,aAAA3I,KAAW,QAEzCxB,EAAAA,EAAAA,GAMK,KANLe,GAMK,gBALH3D,EAAAA,EAAAA,IAIK6I,EAAAA,GAAA,MAXXU,EAAAA,EAAAA,IAO4BlF,EAAA2I,wBAAXC,K,WAAXjN,EAAAA,EAAAA,IAIK,MAJ0C0C,IAAKuK,EAAQC,UAC3DvK,OARPiB,EAAAA,EAAAA,IAAA,gBAQ+BS,EAAA8I,oBAAoBF,GAAO,oBAAwB5I,EAAA8I,oBAAoBF,M,EAC9FrK,EAAAA,EAAAA,GAAwD,MAAxD2B,IAAwDU,EAAAA,EAAAA,IAAxBgI,EAAQG,SAAO,IAC/CxK,EAAAA,EAAAA,GAAoI,MAApIiC,IAAoII,EAAAA,EAAAA,IAAA,IAA9FoI,KAAKJ,EAAQK,WAAWC,mBAAmB,GAAI,CAALC,KAAA,UAAAC,OAAA,uB,aAGpF7K,EAAAA,EAAAA,GAWM,MAXNkC,GAWM,CAVOtB,EAAAkK,kBAAe,WAA1B1N,EAAAA,EAAAA,IAIM,MAJNgF,GAIM,gBAHJhF,EAAAA,EAAAA,IAES6I,EAAAA,GAAA,MAjBjBU,EAAAA,EAAAA,IAegC/F,EAAAmK,QAATC,K,WAAf5N,EAAAA,EAAAA,IAES,UAFwB0C,IAAKkL,EAAQ7J,QAAKE,GAAEI,EAAAwJ,SAASD,K,QACzDA,GAAK,EAhBlBxI,O,UAAAF,EAAAA,EAAAA,IAAA,iBAmBMtC,EAAAA,EAAAA,GAAmG,SAA5FC,KAAK,OAnBlB,sBAAAmB,EAAA,KAAAA,EAAA,GAAAC,GAmBkCT,EAAAsK,WAAU7J,GAAG8J,QAAK/J,EAAA,KAAAA,EAAA,IAnBpDgK,EAAAA,EAAAA,KAAA,IAAA5J,IAmB4DC,EAAA4J,aAAA5J,EAAA4J,eAAA7J,IAAW,YAAEI,YAAY,qB,iBAAnDhB,EAAAsK,eAC5BlL,EAAAA,EAAAA,GAGM,MAHN0C,GAGM,EAFJ1C,EAAAA,EAAAA,GAA0E,UAAjEmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA6J,mBAAA7J,EAAA6J,qBAAA9J,KArBxBpB,KAsBQJ,EAAAA,EAAAA,GAA0C,UAAjCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA4J,aAAA5J,EAAA4J,eAAA7J,KAAa,gBAtBrCc,EAAAA,EAAAA,IAAA,M,CA6BA,QACE4B,IAAAA,GACE,MAAO,CACLgH,WAAY,GACZJ,iBAAiB,EACjBC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAE9K,EACAQ,MAAO,CACLtE,cAAeuE,OACftE,SAAUuE,MACVnE,oBAAqBoE,SACrBlF,cAAe,CACbvG,KAAM,CAACuL,OAAQG,QACf5J,UAAU,IAGdqC,SAAU,CACRgG,sBAAAA,GACE,OAAO1M,KAAKwJ,SAASC,QAAOC,GAAKA,EAAEC,SAAW3J,KAAKuJ,eACrD,EAEAsD,mBAAAA,GACE,OAAOF,GAAWA,EAAQuB,eAAiBlO,KAAK8I,aAClD,EAEA0D,eAAAA,GACE,IAAKxM,KAAK0M,uBAAuByB,OAAQ,MAAO,YAEhD,MAAMC,EAAepO,KAAK0M,uBAAuB,GAEjD,OAAI0B,EAAaF,eAAiBlO,KAAK8I,cAC7B,GAAEsF,EAAaC,qBAAqBD,EAAaE,mBAEjD,GAAEF,EAAaG,mBAAmBH,EAAaI,gBAE3D,GAGFC,MAAO,CACLjF,QAAAA,GACExJ,KAAK0O,gBACP,GAGFC,OAAAA,GACE3O,KAAK0O,gBACP,EACAxO,QAAS,CACPwO,cAAAA,GACE1O,KAAK4O,WAAU,KACb,MAAMC,EAAoB7O,KAAK8O,MAAMD,kBACjCA,IACFA,EAAkBE,UAAYF,EAAkBG,aAClD,GAEJ,EAEArB,WAAAA,GACO3N,KAAKwN,WAAW/M,QACG,KAApBT,KAAKwN,aACPxN,KAAK4J,oBAAoB5J,KAAKwN,WAAYxN,KAAKuJ,eAC/CvJ,KAAKwN,WAAa,GAEtB,EAEAyB,kBAAAA,CAAmBtC,GAEjB,OADArF,QAAQC,IAAK,eAAcoF,EAAQC,yBAAyBD,EAAQuB,kCAAkClO,KAAK8I,iBACpG6D,EAAQuC,eAAiBlP,KAAK8I,aACvC,EAEA2D,SAAAA,GACEzM,KAAKmP,MAAM,YAAanP,KAAKuJ,cAC/B,EAEAqE,iBAAAA,GACE5N,KAAKoN,iBAAmBpN,KAAKoN,eAC/B,EACAG,QAAAA,CAASD,GACPtN,KAAKwN,YAAcF,EACnBtN,KAAK4N,mBACP,ICvGJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,iECNKvL,MAAM,qB,IACJA,MAAM,sB,IAJbD,IAAA,G,IAcYC,MAAM,sB,GAdlB,Y,YAuBMC,EAAAA,EAAAA,GAAmC,UAA3BC,KAAK,UAAS,QAAI,K,IAIzBF,MAAM,sB,IA3BbD,IAAA,G,IA8BaC,MAAM,e,GA9BnB,Q,IAgCeA,MAAM,a,IACHA,MAAM,a,IACNA,MAAM,a,IAIXA,MAAM,a,IAtCnBD,IAAA,EAuCiCC,MAAM,gB,GAvCvC,Q,IA2CaA,MAAM,gB,GA3CnB,Y,IAAAD,IAAA,G,YAkDME,EAAAA,EAAAA,GAA0B,SAAvB,uBAAmB,K,IAAtBW,I,IAlDNb,IAAA,EAuD2BC,MAAM,c,IACtBA,MAAM,sB,IACJA,MAAM,gB,GAzDnB,Q,IA2DeA,MAAM,a,IACHA,MAAM,a,IACNA,MAAM,a,IAGXA,MAAM,c,GAhEnB,Q,IAoEaA,MAAM,gB,IAEFA,MAAM,mB,GAtEvB,Q,YAgFYC,EAAAA,EAAAA,GAA6D,UAArDC,KAAK,SAASF,MAAM,kBAAiB,WAAO,K,IAG/CA,MAAM,mB,GAnFvB,Q,IAsFiBA,MAAM,gB,IACJA,MAAM,kB,IACHA,MAAM,kB,IACNA,MAAM,qB,IAETA,MAAM,mB,IA3FzBD,IAAA,EA6FqBC,MAAM,2B,GA7F3B,Q,YAiGcC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,mBAAiB,W,2CA9F1C3C,EAAAA,EAAAA,IAwGM,MAxGNC,GAwGM,EAvGJ2C,EAAAA,EAAAA,GAqBM,MArBNc,GAqBM,EApBJd,EAAAA,EAAAA,GAmBO,QAnBDD,MAAM,YAAauB,SAAMF,EAAA,KAAAA,EAAA,IALnCG,EAAAA,EAAAA,KAAA,IAAAC,IAK6CC,EAAAqL,YAAArL,EAAAqL,cAAAtL,IAAU,e,WACjDxB,EAAAA,EAAAA,GAA+E,YANrF,sBAAAoB,EAAA,KAAAA,EAAA,GAAAC,GAMyBT,EAAAmM,QAAQvC,QAAOnJ,GAAEO,YAAY,qB,iBAA7BhB,EAAAmM,QAAQvC,YAC3BxK,EAAAA,EAAAA,GAA+C,SAAxCC,KAAK,OAAQuD,SAAMpC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAuL,mBAAAvL,EAAAuL,qBAAAxL,K,UAC5BxB,EAAAA,EAAAA,GAIM,aAHJA,EAAAA,EAAAA,GAAmF,wBAA5EA,EAAAA,EAAAA,GAA6D,SAAtDC,KAAK,QAT3B,sBAAAmB,EAAA,KAAAA,EAAA,GAAAC,GAS4CT,EAAAmM,QAAQE,QAAO5L,GAAEnB,MAAM,U,iBAAvBU,EAAAmM,QAAQE,YATpD3G,EAAAA,EAAAA,IAS4E,cACpEtG,EAAAA,EAAAA,GAAqF,wBAA9EA,EAAAA,EAAAA,GAA8D,SAAvDC,KAAK,QAV3B,sBAAAmB,EAAA,KAAAA,EAAA,GAAAC,GAU4CT,EAAAmM,QAAQE,QAAO5L,GAAEnB,MAAM,W,iBAAvBU,EAAAmM,QAAQE,YAVpD3G,EAAAA,EAAAA,IAU6E,eACrEtG,EAAAA,EAAAA,GAAmG,wBAA5FA,EAAAA,EAAAA,GAAqE,SAA9DC,KAAK,QAX3B,sBAAAmB,EAAA,KAAAA,EAAA,GAAAC,GAW4CT,EAAAmM,QAAQE,QAAO5L,GAAEnB,MAAM,kB,iBAAvBU,EAAAmM,QAAQE,YAXpD3G,EAAAA,EAAAA,IAWoF,uBAE/C,mBAApB1F,EAAAmM,QAAQE,UAAO,WAA1B7P,EAAAA,EAAAA,IASM,MAtBZ2D,GAAA,EAcQf,EAAAA,EAAAA,GAOK,KAPL2B,GAOK,gBANHvE,EAAAA,EAAAA,IAKK6I,EAAAA,GAAA,MApBfU,EAAAA,EAAAA,IAeiC/F,EAAA8G,iBAAZb,K,WAAXzJ,EAAAA,EAAAA,IAKK,MAJA0C,IAAK+G,EAASc,OACd5H,OAjBfiB,EAAAA,EAAAA,IAAA,UAiBoCS,EAAAyL,WAAWrG,EAASc,UACzCxG,QAAKE,GAAEI,EAAA0L,gBAAgBtG,EAASc,U,QAChCd,EAASoB,WAAY,KAAC5F,EAAAA,EAAAA,IAAGwE,EAASqB,UAAQ,GAnBzDjG,O,YAAAK,EAAAA,EAAAA,IAAA,OAuBMJ,IAAmC,OAIvClC,EAAAA,EAAAA,GAyBM,MAzBNoC,GAyBM,CAxBOX,EAAA2L,cAAcvB,OAAS,IAAH,WAA/BzO,EAAAA,EAAAA,IAoBM,MAhDVoF,GAAA,gBA6BMpF,EAAAA,EAAAA,IAkBM6I,EAAAA,GAAA,MA/CZU,EAAAA,EAAAA,IA6B0BlF,EAAA2L,eAARxI,K,WAAZxH,EAAAA,EAAAA,IAkBM,OAlB8B0C,IAAK8E,EAAKyI,OAAQtN,MAAM,a,EAC1DC,EAAAA,EAAAA,GAMM,MANN0C,GAMM,EALJ1C,EAAAA,EAAAA,GAA+F,OAAzF6H,IAAKjD,EAAKkD,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OA/BzFI,KAgCUH,EAAAA,EAAAA,GAGM,MAHNI,GAGM,EAFJJ,EAAAA,EAAAA,GAAuE,OAAvEiD,IAAuEZ,EAAAA,EAAAA,IAA5CuC,EAAK/B,WAAY,KAACR,EAAAA,EAAAA,IAAGuC,EAAK9B,UAAQ,IAC7D9C,EAAAA,EAAAA,GAAoE,OAApEmD,IAAoEd,EAAAA,EAAAA,IAAzCZ,EAAA6L,gBAAgB1I,EAAK8F,YAAS,QAI7D1K,EAAAA,EAAAA,GAGM,MAHNqD,GAGM,CAFKuB,EAAK4F,UAAO,WAArBpN,EAAAA,EAAAA,IAAkE,IAAlEkG,IAAkEjB,EAAAA,EAAAA,IAAnBuC,EAAK4F,SAAO,KAvCrElI,EAAAA,EAAAA,IAAA,OAwCqBsC,EAAK2I,WAAQ,WAAxBnQ,EAAAA,EAAAA,IAAmF,OAxC7F0C,IAAA,EAwCqC+H,IAAKjD,EAAK2I,SAAUvF,IAAI,aAAajI,MAAM,c,OAxChFwD,MAAAjB,EAAAA,EAAAA,IAAA,UA2CQtC,EAAAA,EAAAA,GAGM,MAHNQ,GAGM,EAFJR,EAAAA,EAAAA,GAA4E,UAApED,MAAM,qBAAsBoB,QAAKE,GAAEI,EAAA+L,UAAU5I,IAAO,UAAO,EA5C7EnE,W,sBAiDIrD,EAAAA,EAAAA,IAEM,MAnDVsD,GAAAkD,OAuDehD,EAAA6M,aAAU,WAArBrQ,EAAAA,EAAAA,IAkDM,MAlDN2G,GAkDM,EAjDJ/D,EAAAA,EAAAA,GA+CM,MA/CNgE,GA+CM,EA9CJhE,EAAAA,EAAAA,GAMM,MANNiE,GAMM,EALJjE,EAAAA,EAAAA,GAAqG,OAA/F6H,IAAKjH,EAAA6M,WAAW3F,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OA1D/F+I,KA2DU9I,EAAAA,EAAAA,GAGM,MAHN+I,GAGM,EAFJ/I,EAAAA,EAAAA,GAAmF,OAAnFgJ,IAAmF3G,EAAAA,EAAAA,IAAxDzB,EAAA6M,WAAW5K,WAAY,KAACR,EAAAA,EAAAA,IAAGzB,EAAA6M,WAAW3K,UAAQ,IACzE9C,EAAAA,EAAAA,GAA0E,OAA1EiJ,IAA0E5G,EAAAA,EAAAA,IAA/CZ,EAAA6L,gBAAgB1M,EAAA6M,WAAW/C,YAAS,QAGnE1K,EAAAA,EAAAA,GAGM,MAHNmJ,GAGM,EAFJnJ,EAAAA,EAAAA,GAA+B,UAAAqC,EAAAA,EAAAA,IAAzBzB,EAAA6M,WAAWjD,SAAO,GACb5J,EAAA6M,WAAWF,WAAQ,WAA9BnQ,EAAAA,EAAAA,IAA+F,OAlEzG0C,IAAA,EAkE2C+H,IAAKjH,EAAA6M,WAAWF,SAAUvF,IAAI,aAAajI,MAAM,c,OAlE5FqJ,MAAA9G,EAAAA,EAAAA,IAAA,UAoEQtC,EAAAA,EAAAA,GAkCM,MAlCNqJ,GAkCM,EAjCJrJ,EAAAA,EAAAA,GAYO,QAZAsB,SAAMF,EAAA,KAAAA,EAAA,IArEvBG,EAAAA,EAAAA,KAAA,IAAAC,IAqEiCC,EAAAiM,eAAAjM,EAAAiM,iBAAAlM,IAAa,cAAEmM,QAAQ,sBAAsB5N,MAAM,gB,EACxEC,EAAAA,EAAAA,GAEM,MAFNsJ,GAEM,EADJtJ,EAAAA,EAAAA,GAAuF,OAAjF6H,IAAKpG,EAAAmM,WAAahN,EAAAmH,kBAAmBC,IAAI,UAAUjI,MAAM,yB,OAvE7EwJ,OAAA,SAyEYvJ,EAAAA,EAAAA,GAKW,YA9EvB,sBAAAoB,EAAA,KAAAA,EAAA,GAAAC,GA0EuBT,EAAAiN,WAAUxM,GACnBO,YAAY,qBACZkM,KAAK,IACL/N,MAAM,oBAAmB,iBAC3B,YAJWa,EAAAiN,eAKX7N,EAAAA,EAAAA,GAAoF,SAA7ED,MAAM,sBAAsBE,KAAK,OAAQuD,SAAMpC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAsM,0BAAAtM,EAAAsM,4BAAAvM,K,SACxDgI,IAA6D,mBAE/DpM,EAAAA,EAAAA,IAmBM6I,EAAAA,GAAA,MArGhBU,EAAAA,EAAAA,IAkFiC/F,EAAAoN,UAAXC,K,WAAZ7Q,EAAAA,EAAAA,IAmBM,OAnB4B0C,IAAKmO,EAAQC,UAAWnO,MAAM,qB,EAC9DC,EAAAA,EAAAA,GAEM,MAFNyJ,GAEM,EADJzJ,EAAAA,EAAAA,GAAoG,OAA9F6H,IAAKoG,EAAQnG,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,UAAUjI,MAAM,yB,OApF1F2J,OAsFY1J,EAAAA,EAAAA,GAcM,MAdN2J,GAcM,EAbJ3J,EAAAA,EAAAA,GAGM,MAHN4J,GAGM,EAFJ5J,EAAAA,EAAAA,GAAkF,OAAlF6J,IAAkFxH,EAAAA,EAAAA,IAAlD4L,EAAQpL,WAAY,KAACR,EAAAA,EAAAA,IAAG4L,EAAQnL,UAAQ,IACxE9C,EAAAA,EAAAA,GAA+E,OAA/E8J,IAA+EzH,EAAAA,EAAAA,IAA5CZ,EAAA6L,gBAAgBW,EAAQvD,YAAS,MAEtE1K,EAAAA,EAAAA,GAKM,MALN+J,GAKM,EAhGpBzD,EAAAA,EAAAA,KAAAjE,EAAAA,EAAAA,IA4FmB4L,EAAQzD,SAAU,IACrB,GAA2CyD,EAAQE,eAAY,WAA/D/Q,EAAAA,EAAAA,IAEM,MAFNgR,GAEM,EADJpO,EAAAA,EAAAA,GAAuD,OAAjD6H,IAAKoG,EAAQE,aAAcnG,IAAI,iB,OA9FvDqG,QAAA/L,EAAAA,EAAAA,IAAA,SAiGcgM,U,WAORtO,EAAAA,EAAAA,GAA2D,OAAtDD,MAAM,sBAAuBoB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA8M,YAAA9M,EAAA8M,cAAA/M,UAxG/Cc,EAAAA,EAAAA,IAAA,Q,gBCCO,MAAMkM,GACX,iFDiHF,QACEtK,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnBC,YAAavP,KAAKC,MAAMd,aAAaS,QAAQ,UAAY,CAAC,EAC1DiO,QAAS,CACPvC,QAAS,GACTyC,QAAS,SACTyB,MAAO,KACPC,gBAAiB,IAEnBjH,gBAAiBxI,KAAKC,MAAMd,aAAaS,QAAQ,qBAAuB,GACxE8P,MAAO,GACPnB,WAAY,KACZI,WAAY,GACZG,SAAU,GAEd,EACA3B,OAAAA,GACE3O,KAAKmR,aACLnR,KAAK+Q,YAAcvP,KAAKC,MAAMd,aAAaS,QAAQ,UAAY,CAAC,CAClE,EACAsF,SAAU,CACRgJ,aAAAA,GACE,OAAO1P,KAAKkR,MAAQlR,KAAKkR,MAAMzH,QAAOvC,GAAQlH,KAAKoR,gBAAgBlK,KAAS,EAC9E,EACAgJ,SAAAA,GAEE,OAAOlQ,KAAK+Q,YAAY3G,gBAAkB0G,EAC5C,GAEFjD,MAAO,CACL/E,cAAemF,OACfoD,QAAS,CACP9O,KAAM,CAAC0L,OAAQH,OAAQ,MACvBpF,QAAS,OAGbxI,QAAS,CACP0P,eAAAA,CAAgB5C,GAEd,MAAMsE,EAAO,IAAIvE,KAAKC,GACtB,OAAOsE,EAAKC,mBAAmB,QACjC,EACAjC,iBAAAA,CAAkBzI,GAChB7G,KAAKqP,QAAQ2B,MAAQnK,EAAME,OAAOC,MAAM,EAC1C,EAEAyI,eAAAA,CAAgB+B,GACd,MAAMC,EAAQzR,KAAKqP,QAAQ4B,gBAAgBS,QAAQF,GAC/CC,GAAS,EACXzR,KAAKqP,QAAQ4B,gBAAgBU,OAAOF,EAAO,GAE3CzR,KAAKqP,QAAQ4B,gBAAgBjQ,KAAKwQ,EAEtC,EAEAhC,UAAAA,CAAWgC,GACT,OAAOxR,KAAKqP,QAAQ4B,gBAAgBW,SAASJ,EAC/C,EAEApC,UAAAA,GACE,MAAM1H,EAAW,IAAIC,SACrBD,EAASE,OAAO,UAAW5H,KAAKqP,QAAQvC,SACxCpF,EAASE,OAAO,UAAW5H,KAAKqP,QAAQE,SACxC7H,EAASE,OAAO,kBAAmBpG,KAAKM,UAAU9B,KAAKqP,QAAQ4B,kBAC3DjR,KAAKqP,QAAQ2B,OACftJ,EAASE,OAAO,QAAS5H,KAAKqP,QAAQ2B,OAGpChR,KAAKqR,SACP3J,EAASE,OAAO,UAAW5H,KAAKqR,SAElCrR,KAAKiH,OAAOC,KAAK,kBAAmBQ,GACjCP,MAAKC,IACJpH,KAAKkR,MAAQ,CAAC9J,EAASZ,QAASxG,KAAKkR,OACrC5J,QAAQC,IAAI,4BAA6BH,GACzCpH,KAAKqP,QAAU,CAAEvC,QAAS,GAAIyC,QAAS,SAAUyB,MAAO,KAAM,IAE/DxJ,OAAMC,IACLH,QAAQG,MAAM,uBAAwBA,EAAM,GAElD,EAEA0J,UAAAA,GACE7J,QAAQC,IAAI,4BAA6BvH,KAAKqR,SAC9C,IAAIQ,EAAS,aACT7R,KAAKqR,UACPQ,GAAW,YAAW7R,KAAKqR,WAE7BrR,KAAKiH,OAAO6K,IAAID,GACb1K,MAAKC,IACJE,QAAQC,IAAI,+BAAgCH,EAASZ,MACrDxG,KAAKkR,MAAQ9J,EAASZ,IAAI,IAE3BgB,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEnD,EAGAsK,aAAAA,CAAcpC,GACZ3P,KAAKiH,OAAO6K,IAAK,mBAAmB,CAAEE,OAAQ,CAAErC,OAAQA,KACvDxI,MAAKC,IACJE,QAAQC,IAAI,oBAAqBH,EAASZ,MAC1CxG,KAAKsQ,SAAWlJ,EAASZ,IAAI,IAE9BgB,OAAMC,IACLH,QAAQG,MAAM,2BAA4BA,EAAM,GAEpD,EAEA2J,eAAAA,CAAgBlK,GACd,MAAM+K,EAAgBjS,KAAK8I,cAE3B,GAA4B,YAAxB5B,EAAKgL,eAEP,OAAOlS,KAAKgK,gBAAgBmI,MAAKhJ,GAAYA,EAASc,SAAW/C,EAAK+C,SAGxE,GAA4B,mBAAxB/C,EAAKgL,eAAqC,CAE5C,MAAME,EAAiB5Q,KAAKC,MAAMyF,EAAKkL,gBACvC,OAAOA,EAAeR,SAASK,EACjC,CAEA,OAAO,CACT,EAEAnC,SAAAA,CAAU5I,GACRlH,KAAK+P,WAAa7I,EAClBlH,KAAK+R,cAAc7K,EAAKyI,OAC1B,EAEAkB,UAAAA,GACE7Q,KAAK+P,WAAa,KAClB/P,KAAKmQ,WAAa,EACpB,EAEAE,wBAAAA,CAAyBxJ,GACvB7G,KAAKqS,aAAexL,EAAME,OAAOC,MAAM,EACzC,EAEAgJ,aAAAA,GACE,MAAMtI,EAAW,IAAIC,SACrBD,EAASE,OAAO,SAAU5H,KAAK+P,WAAWJ,QAC1CjI,EAASE,OAAO,SAAU5H,KAAK8I,eAC/BpB,EAASE,OAAO,UAAW5H,KAAKmQ,YAC5BnQ,KAAKqS,cACL3K,EAASE,OAAO,QAAS5H,KAAKqS,cAGlCC,GAAAA,EAAMpL,KAAK,qBAAsBQ,GAChCP,MAAKC,IACJE,QAAQC,IAAI,mBAAoBH,EAASZ,MACzCxG,KAAKsQ,SAAW,CAAClJ,EAASZ,QAASxG,KAAKsQ,UACxCtQ,KAAKmQ,WAAa,GAClBnQ,KAAKqS,aAAe,IAAI,IAEzB7K,OAAMC,IACHH,QAAQG,MAAM,0BAA2BA,EAAM,GAErD,IE9QJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,ULiIA,IACE3H,KAAM,gBACNyS,WAAY,CACVC,WAAU,GACVC,iBAAgBA,IAElBjM,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnB4B,GAAI,KACJC,UAAW,yBACXnJ,SAAU,GACVoJ,oBAAqB,CAAC,EACtBpF,WAAY,GACZjE,cAAe,KACfsJ,UAAW,CAAC,EACZ7I,gBAAiB,GACjB8I,wBAAwB,EACxB/H,UAAW,GACXgI,iBAAkB,GAClBnI,cAAe,GACfE,oBAAqB,GACrBH,6BAA6B,EAC7BqI,gBAAiB,CAAC,EAEtB,EACArE,QAAS,WACP3O,KAAKiT,oBACP,EACAvM,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,eACbmC,aAAAA,GACE,MAAMzB,EAAO7F,KAAKC,MAAMd,aAAaS,QAAQ,SAC7C,OAAOiG,EAAOA,EAAK6L,OAAS,IAC9B,EAEAhK,iBAAAA,GACE,OAAK6E,MAAMoF,QAAQnT,KAAKgK,iBAGjBhK,KAAKgK,gBAAgBP,QAAON,GAAYnJ,KAAK6S,UAAU1J,EAASG,UAF9D,EAGX,GAEFmF,MAAO,CACL7D,cAAe,CACbwI,OAAAA,CAAQC,EAAUC,GAChBhM,QAAQC,IAAK,wBAAwB8L,EAAUC,EACjD,EACAC,MAAM,IAGVrT,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,WACfmC,YAAAA,GACE/I,KAAKiH,OAAOC,KAAK,eAChBC,MAAK,KACJnH,KAAKmC,SACLnC,KAAKwT,SAASC,OAAO,cACrB9S,aAAaC,QACbZ,KAAKe,QAAQC,KAAK,WAAW,IAE9BwG,OAAMC,IACLH,QAAQG,MAAM,iBAAkBA,EAAM,GAE1C,EAEAyC,eAAAA,CAAgBf,GACd7B,QAAQC,IAAI,yBAA0B4B,EAASG,QAC/CtJ,KAAKuJ,cAAgBJ,EAASG,OAC9BtJ,KAAK0T,sBAAwBvK,EAASc,OAGtCjK,KAAK4S,oBAAoBzJ,EAASG,QAAU,EAG5CtJ,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWH,EAASG,OACnB,IAAKsK,EAAKnJ,YAAa,GAEzBmJ,IAGT5T,KAAK6T,cAAc1K,EAASG,aAGYwK,IAApC9T,KAAK6S,UAAU1J,EAASG,QAC1BtJ,KAAK6S,UAAU1J,EAASG,SAAU,EAElCtJ,KAAK6S,UAAU1J,EAASG,SAAWtJ,KAAK6S,UAAU1J,EAASG,OAE/D,EAEA2J,kBAAAA,GACE3L,QAAQC,IAAI,sCACZvH,KAAK0S,GAAK,IAAIqB,UAAU/T,KAAK2S,WAC7B3S,KAAK0S,GAAGsB,iBAAiB,OAAQhU,KAAKiU,iBACtCjU,KAAK0S,GAAGsB,iBAAiB,WAAYnN,IAAY7G,KAAKkU,iBAAiBrN,EAAM,IAC7E7G,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKmU,kBACvCnU,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKoU,iBACzC,EAEAH,eAAAA,GACE3M,QAAQC,IAAI,mBACd,EAEA4M,gBAAAA,CAAiB1M,GAEfH,QAAQG,MAAM,oBAAqBA,EACrC,EAEA2M,gBAAAA,GAEE9M,QAAQC,IAAI,8BACd,EAEA2M,gBAAAA,CAAiBrN,GACfS,QAAQC,IAAI,8BAA+BV,EAAML,MAGjD,MAAMgD,EAAW3C,EAAML,KAAKlG,MAAM,MAAMmJ,QAAO4K,GAAOA,EAAI5T,SAE1D,IAAI+F,EA6JJ,GA1JAgD,EAAS8K,SAAS3H,IAChB,IAGE,OAFAnG,EAAOhF,KAAKC,MAAMkL,GAEVnG,EAAKjE,MACX,IAAK,cACCiE,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,cAC/BvJ,KAAKwJ,SAASxI,KAAKwF,EAAK+N,SAGnBvU,KAAK6S,UAAUrM,EAAK+N,QAAQ5K,SAC/B3J,KAAKwU,kBAAkBhO,EAAK+N,QAAQ5K,QAG1C,MACA,IAAK,wBAEH,GADArC,QAAQC,IAAI,oBAAqBf,EAAK+N,SAClC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,eAE3B/C,EAAK+N,QAAQ/K,UAAYhD,EAAK+N,QAAQ/K,SAAS2E,OAAS,EAAG,CAC7D,MAAMsG,EAAkBjO,EAAK+N,QAAQ/K,SAASkL,UAC9C1U,KAAKwJ,SAAW,IAAIiL,KAAoBzU,KAAKwJ,SAC/C,CAEJ,MACA,IAAK,sBACHlC,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMC,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAErC,gBAAtBA,EAAatI,MACbsI,EAAaiK,aAAeH,EAAOG,cAIJ,IAA/BF,EAEF5U,KAAK4K,cAAc5J,KAAK,CACtBuB,KAAM,iBACHoS,IAKL3U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBD,EAEP,IAGEnO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAuBtE,EAAK+N,QAAQ5H,SAG/C,MACA,IAAK,sBACHrF,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMI,EAA0B,CAC9BxS,KAAM,cACNyS,QAASL,EAAOM,QAChBlK,UAAW4J,EAAOO,KAClBnC,iBAAkB4B,EAAOQ,YACzBC,cAAeT,EAAOU,cACtB7J,YAAamJ,EAAOW,aAGhBV,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,gBAAtBA,EAAatI,MAA0BsI,EAAamK,UAAYL,EAAOM,WAG7C,IAA/BL,EAEF5U,KAAK4K,cAAc5J,KAAK+T,GAIxB/U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBG,EAEP,IAIEvO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAsBtE,EAAK+N,QAAQ5H,SAG9C,MACA,IAAK,wBACHrF,QAAQC,IAAI,0BAA2Bf,EAAK+N,SACxCxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQiB,IAEnB,MAAMC,EAA4B,CAChCjT,KAAM,gBACNkT,eAAgBF,EAAcE,eAC9BtQ,UAAWoQ,EAAcpQ,UACzBC,SAAUmQ,EAAcnQ,UAMpBwP,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,kBAAtBA,EAAatI,MAA4BsI,EAAa4K,iBAAmBF,EAAcE,kBAG7D,IAA/Bb,EAEF5U,KAAK4K,cAAc5J,KAAKwU,GAIxBxV,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBY,EAEP,IAIN,MACA,IAAK,2BACHlO,QAAQC,IAAI,8BAA+Bf,EAAK+N,SAC5CxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQoB,IAEnB,MAAMC,EAA+B,CACnCpT,KAAM,mBACNqT,UAAWF,EAAQE,UACnBZ,QAASU,EAAQV,QACjBjK,UAAW2K,EAAQ3K,UACnB8K,gBAAiBH,EAAQlE,OACzBhH,SAAUkL,EAAQtQ,SAClBmF,UAAWmL,EAAQvQ,WAIrBnF,KAAK4K,cAAc5J,KAAK2U,EAA6B,IAG3D,MAEJ,CAAE,MAAOlO,GACPH,QAAQG,MAAM,oCAAqCA,EACrD,KAEEjB,EAAKsP,cAAe,CAEtBxO,QAAQC,IAAI,2BAA4Bf,EAAKsP,eAC7C,MAAMC,EAAqBC,OAAOC,OAAOzP,EAAKsP,eAC9CnV,aAAakB,QAAQ,gBAAiBL,KAAKM,UAAUiU,IACrD/V,KAAKkW,mBACP,CACI1P,EAAK2P,eAEP7O,QAAQC,IAAI,0BAA2Bf,EAAK2P,cAC5CxV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK2P,gBAEvD3P,EAAK4P,eAEP9O,QAAQC,IAAI,0BAA2Bf,EAAK4P,cAC5CzV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK4P,gBAEvD5P,EAAKwM,kBACP1L,QAAQC,IAAI,yBAA0Bf,EAAKwM,iBAC3CrS,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU0E,EAAKwM,mBAE1DxM,EAAK6P,aACP/O,QAAQC,IAAI,wBAAyBf,EAAK6P,YAC1C1V,aAAakB,QAAQ,aAAcL,KAAKM,UAAU0E,EAAK6P,cAErD7P,EAAK8P,oBACPhP,QAAQC,IAAI,gCAAiCf,EAAK8P,mBAClD3V,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAU0E,EAAK8P,oBAElE,EAEA9B,iBAAAA,CAAkB7K,GAEhB3J,KAAK4S,oBAAoBjJ,IAAW3J,KAAK4S,oBAAoBjJ,IAAW,GAAK,EAG7E3J,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWK,EACV,IAAKiK,EAAKnJ,YAAazK,KAAK4S,oBAAoBjJ,IAElDiK,GAEX,EAEAsC,iBAAAA,GACE,MAAMK,EAAY5V,aAAaS,QAAQ,iBACvC,GAAImV,EACF,IACE,MAAMC,EAAkBhV,KAAKC,MAAM8U,GACnCvW,KAAKgK,gBAAkBwM,EAAgB7C,KAAIxK,SAES2K,IAA9C9T,KAAK4S,oBAAoBzJ,EAASG,UACpCtJ,KAAK4S,oBAAoBzJ,EAASG,QAAUH,EAASsB,aAAe,GAE/D,IACFtB,EACHsB,YAAazK,KAAK4S,oBAAoBzJ,EAASG,YAInDtJ,KAAK8S,wBAAyB,CAChC,CAAE,MAAOrL,GACPH,QAAQG,MAAM,mDAAoDA,EACpE,MAEAH,QAAQC,IAAI,4CACZvH,KAAKgK,gBAAkB,GAEvBhK,KAAK8S,wBAAyB,CAElC,EAEAjJ,eAAAA,CAAgB8C,EAAShD,GACvB,MAAM8M,EAAcjV,KAAKC,MAAMd,aAAaS,QAAQ,SAC9C8M,EAAeuI,EAAYvD,OAE3BlG,EAAY,IAAID,KACtB,IAAI2J,EAAiB,CACnBnU,KAAM,cACNgS,QAAS,CACPrG,aAAcA,EACdyI,eAAgB3W,KAAK0T,sBACrB5G,QAASH,EACThD,OAAQA,EAERqD,UAAWA,EAAU4J,gBAGzBtP,QAAQC,IAAI,uCAAwCmP,GACpD1W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU4U,GAC9B,EAEA7C,aAAAA,CAAclK,GACZ,IAAImN,EAAe,CACjBvU,KAAM,gBACNgS,QAAS,CACP5K,OAAQA,IAIZrC,QAAQC,IAAI,8BAA+BoC,GAC3C3J,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUgV,GAC9B,EAEA/M,eAAAA,CAAgBJ,QAEiBmK,IAA3B9T,KAAK6S,UAAUlJ,KACjB3J,KAAK6S,UAAUlJ,IAAU,EACzB3J,KAAKwJ,SAAW,GAEpB,EAEAkB,wBAAAA,GAGE,GAFA1K,KAAK2K,6BAA+B3K,KAAK2K,4BAErC3K,KAAK2K,4BAA6B,CAEpC,MAAMoM,EAAoB,CAAC,cAAe,cAAe,qBAAsB,yBAC/EA,EAAkBzC,SAAQ/R,IACxB,MAAMgS,EAAU,CACdhS,KAAMA,EACNgS,QAAS,CACP/C,OAAQxR,KAAK8I,gBAGjBxB,QAAQC,IAAI,6BAA+BhF,EAAO,IAAKgS,GACvDvU,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyS,GAAS,GAEzC,CACF,EAEApJ,cAAAA,CAAeN,EAAcmM,EAAcC,GACzC,IAAIC,EAEiB,UAAjBD,EACFC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPO,WAAYjK,EAAaiK,WACzBtD,OAAQxR,KAAK8I,cACb1B,SAAU4P,IAGY,UAAjBC,EACTC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPS,QAASnK,EAAamK,QACtBxD,OAAQxR,KAAK8I,cACbqO,OAAQH,IAGc,WAAjBC,GACTC,EAAkB,CAChB3U,KAAMyU,EAAe,sBAAwB,uBAC7CzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb2M,eAAgB5K,EAAa4K,iBAKjCzV,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAG5BlX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAsB,kBAAdA,EAAK7U,MAA4B6U,EAAK3B,iBAAmB5K,EAAa4K,kBAEnG,qBAAjBwB,IACTC,EAAkB,CAChB3U,KAAMyU,EAAe,yBAA2B,0BAChDzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb8M,UAAW/K,EAAa+K,aAM9BtO,QAAQC,IAAK,GAAE0P,sCAAkDC,GACjElX,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAEP,qBAAjBD,EACFjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAQA,EAAKxB,YAAc/K,EAAa+K,YAC7D,UAAjBqB,GAA6C,UAAjBA,IACrCjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAyB,UAAjBH,EAA2BG,EAAKtC,aAAejK,EAAaiK,WAAasC,EAAKpC,UAAYnK,EAAamK,UAElK,IMnlBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,iECRO3S,MAAM,e,YAEPC,EAAAA,EAAAA,GACM,OADDD,MAAM,0BAAwB,W,IAE9BA,MAAM,0B,IACNA,MAAM,U,IAONA,MAAM,0B,IAIRA,MAAM,kB,IACJA,MAAM,mB,IACAA,MAAM,kB,YACbC,EAAAA,EAAAA,GAAyB,UAArB,oBAAgB,K,IACfD,MAAM,wB,IAEHA,MAAM,e,IACPA,MAAM,qB,IACJA,MAAM,kB,GAzBzB,Y,IAAAD,IAAA,EA2BwEC,MAAM,cAAcM,SAAA,I,GA3B5F,Y,GAAA,Y,IAiCeN,MAAM,0B,IAcNA,MAAM,a,YACXC,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,K,GAhDtB,Y,GAAA,Q,IAAAF,IAAA,EAqDgDC,MAAM,oB,IAMvCA,MAAM,gB,IACNA,MAAM,iC,IACJA,MAAM,+B,IAORA,MAAM,+B,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,0rBAO6C,K,IAdzDiD,I,YAmBFjJ,EAAAA,EAAAA,GAAyB,UAArB,oBAAgB,K,IAEjBD,MAAM,qB,IAEFA,MAAM,c,YACTC,EAAAA,EAAAA,GAA0C,SAAnC+U,IAAI,aAAY,eAAW,K,IAI/BhV,MAAM,c,YACTC,EAAAA,EAAAA,GAAkD,SAA3C+U,IAAI,oBAAmB,gBAAY,K,YAI5C/U,EAAAA,EAAAA,GAAgC,aAAzB,qBAAiB,K,IACpBD,MAAM,wB,GAxGxB,e,GAAA,Q,YAsHcC,EAAAA,EAAAA,GAA2C,UAAnCC,KAAK,UAAS,gBAAY,K,IAKjCF,MAAM,8B,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,0rBAO6C,K,IAdzDoI,I,YAoBFpO,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,IAEdD,MAAM,qB,IAnJrBD,IAAA,G,IAAAA,IAAA,EAsJgDC,MAAM,wB,IACnCA,MAAM,wB,IAIJA,MAAM,oB,GA3J3B,Y,GAAA,Y,IAAAD,IAAA,G,IAmKmBC,MAAM,wB,IAIJA,MAAM,oB,GAvK3B,Y,GAAA,Y,IAAAD,IAAA,G,IA8KmBC,MAAM,0B,IAGJA,MAAM,oB,GAjL3B,Y,GAAA,Y,IAAAD,IAAA,G,IAwLmBC,MAAM,8B,IAGJA,MAAM,oB,GA3L3B,Y,GAAA,Y,oGACE3C,EAAAA,EAAAA,IAoMM,MApMNC,GAoMM,EAnMJ2C,EAAAA,EAAAA,GAcS,eAbPc,IAEAd,EAAAA,EAAAA,GAOM,MAPNe,GAOM,EANNf,EAAAA,EAAAA,GAKI,MALJ2B,GAKI,EAJJrE,EAAAA,EAAAA,IAAuD4I,EAAA,CAA1CC,GAAG,IAAIpG,MAAM,Y,CAPhCqG,SAAAC,EAAAA,EAAAA,KAO2C,IAAI,EAP/CC,EAAAA,EAAAA,IAO2C,WAP3CC,EAAA,KAQMjJ,EAAAA,EAAAA,IAA+D4I,EAAA,CAAlDC,GAAG,UAAUpG,MAAM,Y,CARtCqG,SAAAC,EAAAA,EAAAA,KAQiD,IAAM,EARvDC,EAAAA,EAAAA,IAQiD,aARjDC,EAAA,KASMjJ,EAAAA,EAAAA,IAA6D4I,EAAA,CAAhDC,GAAG,SAASpG,MAAM,Y,CATrCqG,SAAAC,EAAAA,EAAAA,KASgD,IAAK,EATrDC,EAAAA,EAAAA,IASgD,YAThDC,EAAA,KAUMjJ,EAAAA,EAAAA,IAAiE4I,EAAA,CAApDC,GAAG,WAAWpG,MAAM,Y,CAVvCqG,SAAAC,EAAAA,EAAAA,KAUkD,IAAO,EAVzDC,EAAAA,EAAAA,IAUkD,cAVlDC,EAAA,SAaMvG,EAAAA,EAAAA,GAEM,MAFNiC,GAEM,EADJjC,EAAAA,EAAAA,GAA8C,UAArCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAgF,cAAAhF,EAAAgF,gBAAAjF,KAAc,gBAGlCxB,EAAAA,EAAAA,GAmLM,MAnLNkC,GAmLM,EAlLJlC,EAAAA,EAAAA,GAiLM,MAjLNoC,GAiLM,EAhLJpC,EAAAA,EAAAA,GA0BU,UA1BVwC,GA0BU,CAzBRE,IACA1C,EAAAA,EAAAA,GAWM,MAXNG,GAWM,gBAVJ/C,EAAAA,EAAAA,IASM6I,EAAAA,GAAA,MA/BlBU,EAAAA,EAAAA,IAsBoD/F,EAAAoU,QAATC,K,WAA/B7X,EAAAA,EAAAA,IASM,OATD2C,MAAM,aAAsCD,IAAKmV,EAAMvC,S,EAC1D1S,EAAAA,EAAAA,GAA6C,KAA7CI,IAA6CiC,EAAAA,EAAAA,IAAlB4S,EAAMzX,MAAI,IACrCwC,EAAAA,EAAAA,GAAwD,IAAxDiD,IAAwDZ,EAAAA,EAAAA,IAAxB4S,EAAMC,aAAW,IACjDlV,EAAAA,EAAAA,GAKM,MALNmD,GAKM,CAJW1B,EAAA0T,kBAAkBF,EAAMvC,UAAajR,EAAA2T,qBAAqBH,EAAMvC,SAC5DjR,EAAA2T,qBAAqBH,EAAMvC,WAAO,WAArDtV,EAAAA,EAAAA,IAAqG,SAArGkG,GAAqF,YAClE7B,EAAA0T,kBAAkBF,EAAMvC,WAAO,WAAlDtV,EAAAA,EAAAA,IAAwH,UA5BxI0C,IAAA,EA4BqEC,MAAM,YAAaoB,QAAKE,GAAEI,EAAA4T,WAAWJ,EAAMvC,UAAU,QAAK,EA5B/HnP,MAAAjB,EAAAA,EAAAA,IAAA,SA0BsG,WAAtFlF,EAAAA,EAAAA,IAAoK,UA1BpL0C,IAAA,EA0ByGC,MAAM,WAAYoB,QAAKE,GAAEI,EAAA6T,UAAUL,EAAMvC,UAAU,kBAAe,EA1B3KrP,MA6BgBrD,EAAAA,EAAAA,GAAyF,UAAjFD,MAAM,cAAeoB,QAAKE,GAAEI,EAAA8T,gBAAgBN,EAAMvC,UAAU,eAAY,EA7BhGlS,W,SAiCUR,EAAAA,EAAAA,GAWM,MAXNS,GAWM,gBAVJrD,EAAAA,EAAAA,IASE6I,EAAAA,GAAA,MA3CdU,EAAAA,EAAAA,IAmCiClF,EAAAmF,mBAAZC,K,WADTC,EAAAA,EAAAA,IASEC,EAAA,CAPCjH,IAAK+G,EAASG,OACdC,cAAeJ,EAASG,OACxBE,SAAUtG,EAAAsG,SAASC,QAAOC,GAAKA,EAAEC,SAAWR,EAASG,SACrDR,cAAe/E,EAAA+E,cACfc,oBAAqB7F,EAAA8F,gBACrBC,YAAW/F,EAAAgG,gBACZ1H,MAAM,e,uGAKZC,EAAAA,EAAAA,GAWQ,QAXRU,GAWQ,CAVNC,IACAX,EAAAA,EAAAA,GAQK,0BAPH5C,EAAAA,EAAAA,IAMK6I,EAAAA,GAAA,MAxDjBU,EAAAA,EAAAA,IAkDmC/F,EAAA8G,iBAAZb,K,WAAXzJ,EAAAA,EAAAA,IAMK,MANoC0C,IAAK+G,EAASc,OAASxG,QAAKE,GAAEI,EAAAmG,gBAAgBf,I,EACrF7G,EAAAA,EAAAA,GAAmG,OAA7F6H,IAAKhB,EAASiB,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OAnDjGgE,KAAAuC,EAAAA,EAAAA,IAmDiH,KACnGjE,EAAAA,EAAAA,IAAIwE,EAASoB,UAAY,IAAMpB,EAASqB,UAAY,IACpD,GAAYrB,EAASsB,cAAW,WAAhC/K,EAAAA,EAAAA,IAEO,OAFP4G,IAEO3B,EAAAA,EAAAA,IADFwE,EAASsB,aAAW,KAtDvC7F,EAAAA,EAAAA,IAAA,UAAAsB,O,WA2DQ5D,EAAAA,EAAAA,GAOQ,QAPRiE,GAOQ,EANNjE,EAAAA,EAAAA,GAKM,MALN8I,GAKM,EAJJ9I,EAAAA,EAAAA,GAGM,MAHN+I,GAGM,EAFJ/I,EAAAA,EAAAA,GAAwE,UAA/DmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAA2G,6BAA4B,wBAC5CpI,EAAAA,EAAAA,GAA+E,UAAtEmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAA4U,kBAAoB5U,EAAA4U,mBAAkB,2BAI5DxV,EAAAA,EAAAA,GAsDQ,SAtDDD,OAnEfiB,EAAAA,EAAAA,IAAA,CAmEqB,oBAAmB,cAAyBJ,EAAA4U,qB,EACvDxV,EAAAA,EAAAA,GAsBM,MAtBNgJ,GAsBM,EArBJhJ,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAA4U,kBAAmB,IArE/CrM,IAyFYC,MAEFpJ,EAAAA,EAAAA,GA6BM,MA7BNqJ,GA6BM,EA5BJrJ,EAAAA,EAAAA,GA2BO,QA3BAsB,SAAMF,EAAA,KAAAA,EAAA,IA5FzBG,EAAAA,EAAAA,KAAA,IAAAC,IA4FmCC,EAAAgU,aAAAhU,EAAAgU,eAAAjU,IAAW,e,EAChCxB,EAAAA,EAAAA,GAGM,MAHNsJ,GAGM,CAFJC,IAA0C,SAC1CvJ,EAAAA,EAAAA,GAA+D,SAAxDC,KAAK,OAAO9C,GAAG,YA/FtC,sBAAAiE,EAAA,KAAAA,EAAA,GAAAC,GA+F2DT,EAAA6H,UAASpH,GAAEU,SAAA,I,iBAAXnB,EAAA6H,gBAG7CzI,EAAAA,EAAAA,GAGM,MAHNwJ,GAGM,CAFJC,IAAkD,SAClDzJ,EAAAA,EAAAA,GAAwF,YAA9E7C,GAAG,mBApG7B,sBAAAiE,EAAA,KAAAA,EAAA,GAAAC,GAoGyDT,EAAA6P,iBAAgBpP,GAAEyM,KAAK,IAAI/L,SAAA,I,iBAA3BnB,EAAA6P,sBAG3C/G,IACA1J,EAAAA,EAAAA,GAYK,KAZL2J,GAYK,gBAXHvM,EAAAA,EAAAA,IAUK6I,EAAAA,GAAA,MAnHrBU,EAAAA,EAAAA,IAyGmC/F,EAAA8U,gBAAR3Q,K,WAAX3H,EAAAA,EAAAA,IAUK,MAV+B0C,IAAKiF,EAAK6L,Q,WAC5C5Q,EAAAA,EAAAA,GAKC,SAJCC,KAAK,WACJ9C,GAAE,UAAY4H,EAAK6L,SACnB1Q,MAAO6E,EAAK6L,OA7GjC,sBAAAxP,EAAA,KAAAA,EAAA,GAAAC,GA8G6BT,EAAA+N,gBAAetN,I,OA9G5CuI,IAAA,OA8G6BhJ,EAAA+N,oBAEX3O,EAAAA,EAAAA,GAEQ,SAFA+U,IAAG,UAAYhQ,EAAK6L,W,QACvB7L,EAAKlC,UAAY,IAAMkC,EAAKjC,UAAQ,EAjH3D+G,S,QAsHcC,IAA2C,WAIjD9J,EAAAA,EAAAA,GAwEQ,SAxEDD,OA1HfiB,EAAAA,EAAAA,IAAA,CA0HqB,sBAAqB,cAAyBJ,EAAAyH,gC,EACzDrI,EAAAA,EAAAA,GAuBM,MAvBN+J,GAuBM,EAtBJ/J,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAET,EAAAyH,6BAA8B,EAAOzH,EAAA0H,cAAgB,EAAE,IA5HnF+F,IAiJYC,MAEFtO,EAAAA,EAAAA,GA8CM,MA9CN2V,GA8CM,gBA7CJvY,EAAAA,EAAAA,IA4CM6I,EAAAA,GAAA,MAhMlBU,EAAAA,EAAAA,IAoJwC/F,EAAA0H,eAAhBC,K,WAAZnL,EAAAA,EAAAA,IA4CM,OA5CsC0C,IAAKyI,EAAapL,GAAI4C,MAAM,gB,CACrC,gBAAtBwI,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAUM,MA/JpBwY,GAAA,CAsJ2BhV,EAAA4H,sBAAmB,WAA9BpL,EAAAA,EAAAA,IAA4F,MAA5FyY,IAA4FxT,EAAAA,EAAAA,IAA5BzB,EAAA4H,qBAAmB,KAtJnGlG,EAAAA,EAAAA,IAAA,QAuJgBtC,EAAAA,EAAAA,GAGI,IAHJ8V,GAGI,EA1JpBxP,EAAAA,EAAAA,IAuJgD,+BACLtG,EAAAA,EAAAA,GAA6C,eAAAqC,EAAAA,EAAAA,IAAlCkG,EAAaE,WAAS,IAxJ5EnC,EAAAA,EAAAA,IAwJwF,YAAOtG,EAAAA,EAAAA,GAA2C,cAAnC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaG,OAAQ,IAAC,IAxJjIpC,EAAAA,EAAAA,IAwJ0I,SACrHtG,EAAAA,EAAAA,GAAuF,eAAAqC,EAAAA,EAAAA,IAA5EkG,EAAaI,kBAAmB,KAACtG,EAAAA,EAAAA,IAAGkG,EAAaK,iBAAe,MAEhF5I,EAAAA,EAAAA,GAGM,MAHN+V,GAGM,EAFJ/V,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,QAASoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,QAAS,UAAU,QAAK,EA5JrGyN,KA6JkBhW,EAAAA,EAAAA,GAAuG,UAA/FD,MAAM,WAAYoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,YAAa,UAAU,YAAS,EA7JhH0N,SAiKoD,gBAAtB1N,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAUM,MA3KpB8Y,GAAA,EAmKgBlW,EAAAA,EAAAA,GAGI,IAHJmW,GAGI,EAtKpB7P,EAAAA,EAAAA,IAmKgD,8CACUtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IApKhGnC,EAAAA,EAAAA,IAoKyG,SACpFtG,EAAAA,EAAAA,GAA+C,eAAAqC,EAAAA,EAAAA,IAApCkG,EAAaW,aAAW,IArKxD5C,EAAAA,EAAAA,IAqKoE,SAEpDtG,EAAAA,EAAAA,GAGM,MAHNoW,GAGM,EAFJpW,EAAAA,EAAAA,GAA2F,UAAnFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,UAAU,SAAM,EAxKpG8N,KAyKkBrW,EAAAA,EAAAA,GAA8F,UAAtFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,UAAU,UAAO,EAzKvG+N,SA6KoD,kBAAtB/N,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAQM,MArLpBmZ,GAAA,EA8KgBvW,EAAAA,EAAAA,GAEI,IAFJwW,GAEI,EADAxW,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAa1F,WAAY,KAACR,EAAAA,EAAAA,IAAGkG,EAAazF,UAAQ,IA/KjFwD,EAAAA,EAAAA,IA+K6F,6BAE7EtG,EAAAA,EAAAA,GAGM,MAHNyW,GAGM,EAFJzW,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,WAAW,SAAM,EAlLrGmO,KAmLkB1W,EAAAA,EAAAA,GAA+F,UAAvFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,WAAW,UAAO,EAnLxGoO,UAAArU,EAAAA,EAAAA,IAAA,OAuL+C,qBAAtBiG,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAQM,MA/LpBwZ,GAAA,EAwLgB5W,EAAAA,EAAAA,GAEI,IAFJ6W,GAEI,EADF7W,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAaN,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkG,EAAaL,UAAQ,IAzL/E5B,EAAAA,EAAAA,IAyL2F,+BAA0BtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAzL3JnC,EAAAA,EAAAA,IAyLoK,SAEpJtG,EAAAA,EAAAA,GAGM,MAHN8W,GAGM,EAFJ9W,EAAAA,EAAAA,GAAsG,UAA9FD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,qBAAqB,SAAM,EA5L/GwO,KA6LkB/W,EAAAA,EAAAA,GAAyG,UAAjGD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,qBAAqB,UAAO,EA7LlHyO,UAAA1U,EAAAA,EAAAA,IAAA,Y,kBA6MA,QACE9E,KAAM,aACNyS,WAAY,CACVC,WAAUA,IAEZhM,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnB4B,GAAI,KACJC,UAAW,yBACXnJ,SAAU,GACVgE,WAAY,GACZoF,oBAAqB,CAAC,EACtBrJ,cAAe,KACfsJ,UAAW,CAAC,EACZ7I,gBAAiB,GACjBe,UAAW,GACXgI,iBAAkB,GAClBuE,OAAQ,GACRU,eAAgB,GAChB/G,gBAAiB,GACjB6G,kBAAkB,EAClBnN,6BAA6B,EAC7BC,cAAe,GACfE,oBAAqB,GACrBuL,WAAY7U,KAAKC,MAAMd,aAAaS,QAAQ,eAAiB,MAC7DkV,kBAAmB9U,KAAKC,MAAMd,aAAaS,QAAQ,sBAAwB,MAE/E,EACAsF,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,aAAc,gBAC3BmC,aAAAA,GACE,MAAMzB,EAAO7F,KAAKC,MAAMd,aAAaS,QAAQ,SAC7C,OAAOiG,EAAOA,EAAK6L,OAAS,IAC9B,EACAhK,iBAAAA,GACE,OAAOlJ,KAAKgK,gBAAgBP,QAAON,GAAYnJ,KAAK6S,UAAU1J,EAASG,SACzE,EACAmO,iBAAAA,GACE,OAAQzC,KACGhV,KAAKqW,WAAWrB,EAE7B,EACA0C,oBAAAA,GACE,OAAQ1C,KACGhV,KAAKsW,kBAAkBtB,EAEpC,GAEF9U,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,WACfmC,YAAAA,GACE/I,KAAKiH,OAAOC,KAAK,eAChBC,MAAK,KACJnH,KAAKmC,SACLnC,KAAKwT,SAASC,OAAO,cACrB9S,aAAaC,QACbZ,KAAKe,QAAQC,KAAK,WAAW,IAE9BwG,OAAMC,IACLH,QAAQG,MAAM,iBAAkBA,EAAM,GAE1C,EACAwL,kBAAAA,GACE3L,QAAQC,IAAI,sCACZvH,KAAK0S,GAAK,IAAIqB,UAAU/T,KAAK2S,WAC7B3S,KAAK0S,GAAGsB,iBAAiB,OAAQhU,KAAKiU,iBACtCjU,KAAK0S,GAAGsB,iBAAiB,WAAYnN,IAAY7G,KAAKkU,iBAAiBrN,EAAM,IAC7E7G,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKmU,kBACvCnU,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKoU,iBACzC,EAEAH,eAAAA,GACE3M,QAAQC,IAAI,mBAEd,EAEA4M,gBAAAA,CAAiB1M,GAEfH,QAAQG,MAAM,oBAAqBA,EACrC,EAEA2M,gBAAAA,GAEE9M,QAAQC,IAAI,8BACd,EAEA2M,gBAAAA,CAAiBrN,GACfS,QAAQC,IAAI,8BAA+BV,EAAML,MAGjD,MAAMgD,EAAW3C,EAAML,KAAKlG,MAAM,MAAMmJ,QAAO4K,GAAOA,EAAI5T,SAE1D,IAAI+F,EA6JJ,GA1JAgD,EAAS8K,SAAS3H,IAChB,IAGE,OAFAnG,EAAOhF,KAAKC,MAAMkL,GAEVnG,EAAKjE,MACX,IAAK,cACCiE,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,cAC/BvJ,KAAKwJ,SAASxI,KAAKwF,EAAK+N,SAGnBvU,KAAK6S,UAAUrM,EAAK+N,QAAQ5K,SAC/B3J,KAAKwU,kBAAkBhO,EAAK+N,QAAQ5K,QAG1C,MACA,IAAK,wBAEH,GADArC,QAAQC,IAAI,oBAAqBf,EAAK+N,SAClC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,eAE3B/C,EAAK+N,QAAQ/K,UAAYhD,EAAK+N,QAAQ/K,SAAS2E,OAAS,EAAG,CAC7D,MAAMsG,EAAkBjO,EAAK+N,QAAQ/K,SAASkL,UAC9C1U,KAAKwJ,SAAW,IAAIiL,KAAoBzU,KAAKwJ,SAC/C,CAEJ,MACA,IAAK,sBACHlC,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMC,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAErC,gBAAtBA,EAAatI,MACbsI,EAAaiK,aAAeH,EAAOG,cAIJ,IAA/BF,EAEF5U,KAAK4K,cAAc5J,KAAK,CACtBuB,KAAM,iBACHoS,IAKL3U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBD,EAEP,IAGEnO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAuBtE,EAAK+N,QAAQ5H,SAG/C,MACA,IAAK,sBACHrF,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMI,EAA0B,CAC9BxS,KAAM,cACNyS,QAASL,EAAOM,QAChBlK,UAAW4J,EAAOO,KAClBnC,iBAAkB4B,EAAOQ,YACzBC,cAAeT,EAAOU,cACtB7J,YAAamJ,EAAOW,aAGhBV,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,gBAAtBA,EAAatI,MAA0BsI,EAAamK,UAAYL,EAAOM,WAG7C,IAA/BL,EAEF5U,KAAK4K,cAAc5J,KAAK+T,GAIxB/U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBG,EAEP,IAIEvO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAsBtE,EAAK+N,QAAQ5H,SAG9C,MACA,IAAK,wBACHrF,QAAQC,IAAI,0BAA2Bf,EAAK+N,SACxCxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQiB,IAEnB,MAAMC,EAA4B,CAChCjT,KAAM,gBACNkT,eAAgBF,EAAcE,eAC9BtQ,UAAWoQ,EAAcpQ,UACzBC,SAAUmQ,EAAcnQ,UAMpBwP,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,kBAAtBA,EAAatI,MAA4BsI,EAAa4K,iBAAmBF,EAAcE,kBAG7D,IAA/Bb,EAEF5U,KAAK4K,cAAc5J,KAAKwU,GAIxBxV,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBY,EAEP,IAIN,MACA,IAAK,2BACHlO,QAAQC,IAAI,8BAA+Bf,EAAK+N,SAC5CxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQoB,IAEnB,MAAMC,EAA+B,CACnCpT,KAAM,mBACNqT,UAAWF,EAAQE,UACnBZ,QAASU,EAAQV,QACjBjK,UAAW2K,EAAQ3K,UACnB8K,gBAAiBH,EAAQlE,OACzBhH,SAAUkL,EAAQtQ,SAClBmF,UAAWmL,EAAQvQ,WAIrBnF,KAAK4K,cAAc5J,KAAK2U,EAA6B,IAG3D,MAEJ,CAAE,MAAOlO,GACPH,QAAQG,MAAM,oCAAqCA,EACrD,KAEEjB,EAAKsP,cAAe,CAEtBxO,QAAQC,IAAI,2BAA4Bf,EAAKsP,eAC7C,MAAMC,EAAqBC,OAAOC,OAAOzP,EAAKsP,eAC9CnV,aAAakB,QAAQ,gBAAiBL,KAAKM,UAAUiU,IACrD/V,KAAKkW,mBAEP,CACI1P,EAAK2P,eAEP7O,QAAQC,IAAI,0BAA2Bf,EAAK2P,cAC5CxV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK2P,gBAEvD3P,EAAK4P,eAEP9O,QAAQC,IAAI,0BAA2Bf,EAAK4P,cAC5CzV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK4P,gBAEvD5P,EAAKwM,kBACP1L,QAAQC,IAAI,yBAA0Bf,EAAKwM,iBAC3CrS,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU0E,EAAKwM,mBAE1DxM,EAAK6P,aACP/O,QAAQC,IAAI,wBAAyBf,EAAK6P,YAC1C1V,aAAakB,QAAQ,aAAcL,KAAKM,UAAU0E,EAAK6P,cAErD7P,EAAK8P,oBACPhP,QAAQC,IAAI,gCAAiCf,EAAK8P,mBAClD3V,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAU0E,EAAK8P,oBAElE,EACApM,eAAAA,CAAgBf,GACd7B,QAAQC,IAAI,yBAA0B4B,EAASG,QAC/CtJ,KAAKuJ,cAAgBJ,EAASG,OAC9BtJ,KAAK0T,sBAAwBvK,EAASc,OAGtCjK,KAAK4S,oBAAoBzJ,EAASG,QAAU,EAG5CtJ,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWH,EAASG,OACnB,IAAKsK,EAAKnJ,YAAa,GAEzBmJ,IAGT5T,KAAK6T,cAAc1K,EAASG,aAGYwK,IAApC9T,KAAK6S,UAAU1J,EAASG,QAC1BtJ,KAAK6S,UAAU1J,EAASG,SAAU,EAElCtJ,KAAK6S,UAAU1J,EAASG,SAAWtJ,KAAK6S,UAAU1J,EAASG,OAE/D,EACAuK,aAAAA,CAAclK,GACZ,IAAImN,EAAe,CACjBvU,KAAM,gBACNgS,QAAS,CACP5K,OAAQA,IAIZrC,QAAQC,IAAI,8BAA+BoC,GAC3C3J,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUgV,GAC9B,EACAjN,eAAAA,CAAgB8C,EAAShD,GACvB,MAAM8M,EAAcjV,KAAKC,MAAMd,aAAaS,QAAQ,SAC9C8M,EAAeuI,EAAYvD,OAE3BlG,EAAY,IAAID,KACtB,IAAI2J,EAAiB,CACnBnU,KAAM,cACNgS,QAAS,CACPrG,aAAcA,EACdyI,eAAgB3W,KAAK0T,sBACrB5G,QAASH,EACThD,OAAQA,EAERqD,UAAWA,EAAU4J,gBAGzBtP,QAAQC,IAAI,uCAAwCmP,GACpD1W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU4U,GAC9B,EACA3M,eAAAA,CAAgBJ,QAEiBmK,IAA3B9T,KAAK6S,UAAUlJ,KACjB3J,KAAK6S,UAAUlJ,IAAU,EACzB3J,KAAKwJ,SAAW,GAEpB,EACAgL,iBAAAA,CAAkB7K,GAEhB3J,KAAK4S,oBAAoBjJ,IAAW3J,KAAK4S,oBAAoBjJ,IAAW,GAAK,EAG7E3J,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWK,EACV,IAAKiK,EAAKnJ,YAAazK,KAAK4S,oBAAoBjJ,IAElDiK,GAEX,EACAsC,iBAAAA,GACE,MAAMK,EAAY5V,aAAaS,QAAQ,iBACvC,GAAImV,EACF,IACE,MAAMC,EAAkBhV,KAAKC,MAAM8U,GACnCvW,KAAKgK,gBAAkBwM,EAAgB7C,KAAIxK,SAES2K,IAA9C9T,KAAK4S,oBAAoBzJ,EAASG,UACpCtJ,KAAK4S,oBAAoBzJ,EAASG,QAAUH,EAASsB,aAAe,GAE/D,IACFtB,EACHsB,YAAazK,KAAK4S,oBAAoBzJ,EAASG,WAGrD,CAAE,MAAO7B,GACPH,QAAQG,MAAM,mDAAoDA,EACpE,MAEAH,QAAQC,IAAI,4CACZvH,KAAKgK,gBAAkB,EAE3B,EAEA+N,WAAAA,GACEzQ,QAAQC,IAAI,yBAA0BvH,KAAK+K,UAAW/K,KAAK+S,iBAAkB/S,KAAKiR,iBAElF,MAAMsI,EAAY,CAChBhC,MAAO,CACLzX,KAAME,KAAK+K,UACXyM,YAAaxX,KAAK+S,kBAEpByG,eAAgBxZ,KAAKiR,iBAGvBjR,KAAKiH,OAAOC,KAAK,mBAAoBqS,GAClCpS,MAAKC,IAEJE,QAAQC,IAAI,iBAAkBH,EAASZ,MAGvCxG,KAAKsX,OAAOtW,KAAKoG,EAASZ,MAG1B,MAAMwO,EAAU5N,EAASZ,KAAKwO,QAC9BhV,KAAKqW,WAAWrB,IAAW,EAC3BrU,aAAakB,QAAQ,aAAcL,KAAKM,UAAU9B,KAAKqW,aAGvDrW,KAAK+K,UAAY,GACjB/K,KAAK+S,iBAAmB,GACxB/S,KAAKiR,gBAAkB,GAExBwI,SAASC,QAAQ,IAGjBlS,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEnD,EAEAkS,WAAAA,GACE3Z,KAAKiH,OAAO6K,IAAI,eACf3K,MAAKC,IACJE,QAAQC,IAAI,gCAAiCH,GAC7CpH,KAAKsX,OAASlQ,EAASZ,IAAI,IAE5BgB,OAAMC,IACLH,QAAQG,MAAM,yBAA0BA,EAAM,GAElD,EAEAmS,UAAAA,GACE5Z,KAAKiH,OAAO6K,IAAI,cACb3K,MAAKC,IACJpH,KAAKgY,eAAiB5Q,EAASZ,KAC/Bc,QAAQC,IAAI,iCAAkCvH,KAAKgY,eAAe,IAEnExQ,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEnD,EACAoQ,eAAAA,CAAgB7C,GACd1N,QAAQC,IAAI,uBAAwByN,GAEpChV,KAAKe,QAAQC,KAAK,CAAElB,KAAM,cAAekS,OAAQ,CAAEgD,QAASA,IAC9D,EAEA4C,SAAAA,CAAU5C,GACR,MAAMxD,EAASxR,KAAK8I,cACpB,IAAK0I,EAEH,YADAqI,MAAM,iCAIR,MAAMtF,EAAU,CAAE/C,SAAQwD,WAE1BhV,KAAKiH,OAAOC,KAAK,iBAAkBqN,GAChCpN,MAAKC,IACJE,QAAQC,IAAIH,GACZyS,MAAM,wCAGN,IAAIvD,EAAoB9U,KAAKC,MAAMd,aAAaS,QAAQ,sBAAwB,MAChFkV,EAAkBtB,IAAW,EAC7BrU,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAUwU,IAEzDtW,KAAK8Z,eACLL,SAASC,QAAQ,IAGlBlS,OAAMC,IACLH,QAAQG,MAAM,uBAAwBA,GACtCoS,MAAM,qCAAqC,GAEjD,EAEAlC,UAAAA,CAAW3C,GACT,MAAMxD,EAASxR,KAAK8I,cACpB,IAAK0I,EAEH,YADAqI,MAAM,kCAIR,MAAMtF,EAAU,CAAE/C,SAAQwD,WAE1BhV,KAAKiH,OAAOC,KAAK,kBAAmBqN,GACjCpN,MAAKC,IACJE,QAAQC,IAAIH,GACVyS,MAAM,4BAGN,IAAIxD,EAAa7U,KAAKC,MAAMd,aAAaS,QAAQ,eAAiB,aAC3DiV,EAAWrB,GAClBrU,aAAakB,QAAQ,aAAcL,KAAKM,UAAUuU,IAElDrW,KAAK8Z,eACLL,SAASC,QAAQ,IAGpBlS,OAAMC,IACLH,QAAQG,MAAM,uBAAwBA,GACtCoS,MAAM,sCAAsC,GAElD,EAEAnP,wBAAAA,GAGE,GAFA1K,KAAK2K,6BAA+B3K,KAAK2K,4BAErC3K,KAAK2K,4BAA6B,CAEpC,MAAMoM,EAAoB,CAAC,cAAe,cAAe,qBAAsB,yBAC/EA,EAAkBzC,SAAQ/R,IACxB,MAAMgS,EAAU,CACdhS,KAAMA,EACNgS,QAAS,CACP/C,OAAQxR,KAAK8I,gBAGjBxB,QAAQC,IAAI,6BAA+BhF,EAAO,IAAKgS,GACvDvU,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyS,GAAS,GAEzC,CACF,EAEApJ,cAAAA,CAAeN,EAAcmM,EAAcC,GACzC,IAAIC,EAEiB,UAAjBD,EACFC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPO,WAAYjK,EAAaiK,WACzBtD,OAAQxR,KAAK8I,cACb1B,SAAU4P,IAGY,UAAjBC,EACTC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPS,QAASnK,EAAamK,QACtBxD,OAAQxR,KAAK8I,cACbqO,OAAQH,IAGc,WAAjBC,GACTC,EAAkB,CAChB3U,KAAMyU,EAAe,sBAAwB,uBAC7CzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb2M,eAAgB5K,EAAa4K,iBAKjCzV,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAG5BlX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAsB,kBAAdA,EAAK7U,MAA4B6U,EAAK3B,iBAAmB5K,EAAa4K,kBAEnG,qBAAjBwB,IACTC,EAAkB,CAChB3U,KAAMyU,EAAe,yBAA2B,0BAChDzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb8M,UAAW/K,EAAa+K,aAM9BtO,QAAQC,IAAK,GAAE0P,sCAAkDC,GACjElX,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAEP,qBAAjBD,EACFjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAQA,EAAKxB,YAAc/K,EAAa+K,YAC7D,UAAjBqB,GAA6C,UAAjBA,IACrCjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAyB,UAAjBH,EAA2BG,EAAKtC,aAAejK,EAAaiK,WAAasC,EAAKpC,UAAYnK,EAAamK,UAElK,GAKFrG,OAAAA,GACE3O,KAAKiT,qBACLjT,KAAK2Z,cACL3Z,KAAK4Z,YACP,GC9wBF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,yECPItX,EAAAA,EAAAA,GACM,OADDD,MAAM,0BAAwB,W,IAE9BA,MAAM,0B,IACJA,MAAM,U,IAORA,MAAM,0B,IAIRA,MAAM,kB,IACJA,MAAM,mB,IACAA,MAAM,iB,YACbC,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,IACJD,MAAM,wB,IApBnBD,IAAA,EAuBmBC,MAAM,a,GAvBzB,Q,IAyBqBA,MAAM,a,GAzB3B,Y,GAAA,Y,GAAA,Y,GAAA,Y,GAAA,Y,IAAAD,IAAA,EA+B8DC,MAAM,mB,IAKvDA,MAAM,0B,IAYJA,MAAM,a,YACXC,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,K,GAjDtB,Y,GAAA,Q,IAAAF,IAAA,EAsDgDC,MAAM,oB,IAMvCA,MAAM,gB,IACNA,MAAM,+B,IAKRA,MAAM,8B,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,4qBAO6C,K,IAdzDiD,I,YAoBFjJ,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,IAEdD,MAAM,qB,IA1FnBD,IAAA,G,IAAAA,IAAA,EA6F8CC,MAAM,wB,IACnCA,MAAM,wB,IAIJA,MAAM,oB,GAlGzB,Y,GAAA,Y,IAAAD,IAAA,G,IA0GiBC,MAAM,wB,IAIJA,MAAM,oB,GA9GzB,Y,GAAA,Y,IAAAD,IAAA,G,IAqHiBC,MAAM,0B,IAGJA,MAAM,oB,GAxHzB,Y,GAAA,Y,IAAAD,IAAA,G,IA+HiBC,MAAM,8B,IAGJA,MAAM,oB,GAlIzB,Y,GAAA,Y,oGAAA3C,EAAAA,EAAAA,IAAA6I,EAAAA,GAAA,OACEjG,EAAAA,EAAAA,GAcS,eAbP3C,IAEA2C,EAAAA,EAAAA,GAOM,MAPNc,GAOM,EANJd,EAAAA,EAAAA,GAKM,MALNe,GAKM,EAJJzD,EAAAA,EAAAA,IAAuD4I,EAAA,CAA1CC,GAAG,IAAIpG,MAAM,Y,CANlCqG,SAAAC,EAAAA,EAAAA,KAM6C,IAAI,EANjDC,EAAAA,EAAAA,IAM6C,WAN7CC,EAAA,KAOQjJ,EAAAA,EAAAA,IAA+D4I,EAAA,CAAlDC,GAAG,UAAUpG,MAAM,Y,CAPxCqG,SAAAC,EAAAA,EAAAA,KAOmD,IAAM,EAPzDC,EAAAA,EAAAA,IAOmD,aAPnDC,EAAA,KAQQjJ,EAAAA,EAAAA,IAA6D4I,EAAA,CAAhDC,GAAG,SAASpG,MAAM,Y,CARvCqG,SAAAC,EAAAA,EAAAA,KAQkD,IAAK,EARvDC,EAAAA,EAAAA,IAQkD,YARlDC,EAAA,KASQjJ,EAAAA,EAAAA,IAAqF4I,EAAA,CAAvEC,GAAE,YAAc1E,EAAA+E,gBAAiBzG,MAAM,Y,CAT7DqG,SAAAC,EAAAA,EAAAA,KASwE,IAAO,EAT/EC,EAAAA,EAAAA,IASwE,cATxEC,EAAA,G,eAYIvG,EAAAA,EAAAA,GAEM,MAFN2B,GAEM,EADJ3B,EAAAA,EAAAA,GAA8C,UAArCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAgF,cAAAhF,EAAAgF,gBAAAjF,KAAc,gBAGlCxB,EAAAA,EAAAA,GA8HM,MA9HNiC,GA8HM,EA7HJjC,EAAAA,EAAAA,GA2HM,MA3HNkC,GA2HM,EA1HJlC,EAAAA,EAAAA,GAwHU,UAxHVoC,GAwHU,CAvHRI,IACAxC,EAAAA,EAAAA,GAeM,MAfN0C,GAeM,gBAdJtF,EAAAA,EAAAA,IAaM6I,EAAAA,GAAA,MAlChBU,EAAAA,EAAAA,IAqB8B/F,EAAA6W,OAAR1S,K,WAAZ3H,EAAAA,EAAAA,IAaM,OAbsB0C,IAAKiF,EAAK6L,Q,CACpB7L,EAAK6L,SAAWnP,EAAA+E,gBAAa,WAC3CpJ,EAAAA,EAAAA,IASM,MATN+C,GASM,EARJH,EAAAA,EAAAA,GAA2E,OAArE6H,IAAK9C,EAAK+C,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,mB,OAxBzE5H,KAyBgBJ,EAAAA,EAAAA,GAAqE,MAArEiD,IAAqEZ,EAAAA,EAAAA,IAA3C0C,EAAKlC,WAAY,KAACR,EAAAA,EAAAA,IAAG0C,EAAKjC,UAAQ,GAC7CrB,EAAAiW,YAAY3S,EAAK6L,SAAYnP,EAAAkW,WAAW5S,EAAK6L,SAAYnP,EAAAmW,UAAU7S,EAAK6L,SA1BvGtO,EAAAA,EAAAA,IAAA,SA0B6G,WAA7FlF,EAAAA,EAAAA,IAAmK,UA1BnL0C,IAAA,EA0BiHqB,QAAKE,GAAEI,EAAAoW,WAAW9S,EAAK6L,QAAS7Q,MAAM,cAAa,SAAM,EA1B1KoD,KA2B+B1B,EAAAiW,YAAY3S,EAAK6L,UAAWnP,EAAAkW,WAAW5S,EAAK6L,SAAYnP,EAAAmW,UAAU7S,EAAK6L,SA3BtGtO,EAAAA,EAAAA,IAAA,SA2B4G,WAA5FlF,EAAAA,EAAAA,IAAuK,UA3BvL0C,IAAA,EA2BgHqB,QAAKE,GAAEI,EAAAoW,WAAW9S,EAAK6L,QAAS7Q,MAAM,cAAa,cAAW,EA3B9KsD,KA4B8B5B,EAAAmW,UAAU7S,EAAK6L,UAAM,WAAnCxT,EAAAA,EAAAA,IAAoH,UA5BpI0C,IAAA,EA4BuDqB,QAAKE,GAAEI,EAAAqW,oBAAoB/S,EAAK6L,QAAS7Q,MAAM,eAAc,UAAO,EA5B3HuD,MAAAhB,EAAAA,EAAAA,IAAA,OA6B8Bb,EAAAiW,YAAY3S,EAAK6L,UAAM,WAArCxT,EAAAA,EAAAA,IAAiH,UA7BjI0C,IAAA,EA6ByDqB,QAAKE,GAAEI,EAAAsW,aAAahT,EAAK6L,QAAS7Q,MAAM,gBAAe,WAAQ,EA7BxHwD,MAAAjB,EAAAA,EAAAA,IAAA,QA8BgBtC,EAAAA,EAAAA,GAAgG,UAAvFmB,QAAKE,GAAEI,EAAAuW,sBAAsBjT,EAAK6L,QAAS7Q,MAAM,kBAAiB,eAAY,EA9BvGS,IA+BmD,YAAxBuE,EAAK/B,iBAAc,WAA9B5F,EAAAA,EAAAA,IAA2F,MAA3FqD,GAAsE,qBA/BtF6B,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,Y,SAoCQtC,EAAAA,EAAAA,GAWM,MAXNU,GAWM,gBAVJtD,EAAAA,EAAAA,IASE6I,EAAAA,GAAA,MA9CZU,EAAAA,EAAAA,IAsC+BlF,EAAAmF,mBAAZC,K,WADTC,EAAAA,EAAAA,IASEC,EAAA,CAPCjH,IAAK+G,EAASG,OACdC,cAAeJ,EAASG,OACxBE,SAAUtG,EAAAsG,SAASC,QAAOC,GAAKA,EAAEC,SAAWR,EAASG,SACrDR,cAAe/E,EAAA+E,cACfc,oBAAqB7F,EAAA8F,gBACrBC,YAAW/F,EAAAgG,gBACZ1H,MAAM,e,qGAGVC,EAAAA,EAAAA,GAWQ,QAXRW,GAWQ,CAVNiD,IACA5D,EAAAA,EAAAA,GAQK,0BAPH5C,EAAAA,EAAAA,IAMK6I,EAAAA,GAAA,MAzDjBU,EAAAA,EAAAA,IAmDmC/F,EAAA8G,iBAAZb,K,WAAXzJ,EAAAA,EAAAA,IAMK,MANoC0C,IAAK+G,EAASc,OAASxG,QAAKE,GAAEI,EAAAmG,gBAAgBf,I,EACrF7G,EAAAA,EAAAA,GAAmG,OAA7F6H,IAAKhB,EAASiB,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OApDjGiE,KAAAsC,EAAAA,EAAAA,IAoDiH,KACnGjE,EAAAA,EAAAA,IAAIwE,EAASoB,UAAY,IAAMpB,EAASqB,UAAY,IACpD,GAAYrB,EAASsB,cAAW,WAAhC/K,EAAAA,EAAAA,IAEO,OAFP6G,IAEO5B,EAAAA,EAAAA,IADFwE,EAASsB,aAAW,KAvDvC7F,EAAAA,EAAAA,IAAA,UAAAyB,O,WA4DQ/D,EAAAA,EAAAA,GAIQ,QAJR8I,GAIQ,EAHN9I,EAAAA,EAAAA,GAEM,MAFN+I,GAEM,EADJ/I,EAAAA,EAAAA,GAAwE,UAA/DmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAA2G,6BAA4B,4BAGhDpI,EAAAA,EAAAA,GAwEM,SAxECD,OAjEfiB,EAAAA,EAAAA,IAAA,CAiEqB,sBAAqB,cAAyBJ,EAAAyH,gC,EAC3DrI,EAAAA,EAAAA,GAuBM,MAvBNgJ,GAuBM,EAtBJhJ,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAET,EAAAyH,6BAA8B,EAAOzH,EAAA0H,cAAgB,EAAE,IAnEjFa,IAwFUC,MAEFpJ,EAAAA,EAAAA,GA8CM,MA9CNqJ,GA8CM,gBA7CJjM,EAAAA,EAAAA,IA4CM6I,EAAAA,GAAA,MAvIhBU,EAAAA,EAAAA,IA2FsC/F,EAAA0H,eAAhBC,K,WAAZnL,EAAAA,EAAAA,IA4CM,OA5CsC0C,IAAKyI,EAAapL,GAAI4C,MAAM,gB,CACrC,gBAAtBwI,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAUM,MAtGlBkM,GAAA,CA6FyB1I,EAAA4H,sBAAmB,WAA9BpL,EAAAA,EAAAA,IAA4F,MAA5FmM,IAA4FlH,EAAAA,EAAAA,IAA5BzB,EAAA4H,qBAAmB,KA7FjGlG,EAAAA,EAAAA,IAAA,QA8FctC,EAAAA,EAAAA,GAGI,IAHJwJ,GAGI,EAjGlBlD,EAAAA,EAAAA,IA8F8C,+BACLtG,EAAAA,EAAAA,GAA6C,eAAAqC,EAAAA,EAAAA,IAAlCkG,EAAaE,WAAS,IA/F1EnC,EAAAA,EAAAA,IA+FsF,YAAOtG,EAAAA,EAAAA,GAA2C,cAAnC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaG,OAAQ,IAAC,IA/F/HpC,EAAAA,EAAAA,IA+FwI,SACrHtG,EAAAA,EAAAA,GAAuF,eAAAqC,EAAAA,EAAAA,IAA5EkG,EAAaI,kBAAmB,KAACtG,EAAAA,EAAAA,IAAGkG,EAAaK,iBAAe,MAEhF5I,EAAAA,EAAAA,GAGM,MAHNyJ,GAGM,EAFJzJ,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,QAASoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,QAAS,UAAU,QAAK,EAnGnGmB,KAoGgB1J,EAAAA,EAAAA,GAAuG,UAA/FD,MAAM,WAAYoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,YAAa,UAAU,YAAS,EApG9GoB,SAwGkD,gBAAtBpB,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAUM,MAlHlBwM,GAAA,EA0Gc5J,EAAAA,EAAAA,GAGI,IAHJ6J,GAGI,EA7GlBvD,EAAAA,EAAAA,IA0G8C,8CACUtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IA3G9FnC,EAAAA,EAAAA,IA2GuG,SACpFtG,EAAAA,EAAAA,GAA+C,eAAAqC,EAAAA,EAAAA,IAApCkG,EAAaW,aAAW,IA5GtD5C,EAAAA,EAAAA,IA4GkE,SAEpDtG,EAAAA,EAAAA,GAGM,MAHN8J,GAGM,EAFJ9J,EAAAA,EAAAA,GAA2F,UAAnFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,UAAU,SAAM,EA/GlGwB,KAgHgB/J,EAAAA,EAAAA,GAA8F,UAAtFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,UAAU,UAAO,EAhHrG6F,SAoHkD,kBAAtB7F,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAQM,MA5HlBiR,GAAA,EAqHcrO,EAAAA,EAAAA,GAEI,IAFJsO,GAEI,EADAtO,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAa1F,WAAY,KAACR,EAAAA,EAAAA,IAAGkG,EAAazF,UAAQ,IAtH/EwD,EAAAA,EAAAA,IAsH2F,6BAE7EtG,EAAAA,EAAAA,GAGM,MAHN2V,GAGM,EAFJ3V,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,WAAW,SAAM,EAzHnGqN,KA0HgB5V,EAAAA,EAAAA,GAA+F,UAAvFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,WAAW,UAAO,EA1HtGsN,UAAAvT,EAAAA,EAAAA,IAAA,OA8H6C,qBAAtBiG,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAQM,MAtIlB0Y,GAAA,EA+Hc9V,EAAAA,EAAAA,GAEI,IAFJ+V,GAEI,EADF/V,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAaN,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkG,EAAaL,UAAQ,IAhI7E5B,EAAAA,EAAAA,IAgIyF,+BAA0BtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAhIzJnC,EAAAA,EAAAA,IAgIkK,SAEpJtG,EAAAA,EAAAA,GAGM,MAHNgW,GAGM,EAFJhW,EAAAA,EAAAA,GAAsG,UAA9FD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,qBAAqB,SAAM,EAnI7G0N,KAoIgBjW,EAAAA,EAAAA,GAAyG,UAAjGD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,qBAAqB,UAAO,EApIhH2N,UAAA5T,EAAAA,EAAAA,IAAA,Y,uBAuJA,QACE9E,KAAM,YACNyS,WAAY,CACVC,WAAUA,IAEZhM,IAAAA,GACE,MAAO,CACLuT,MAAO,GACPjC,kBAAkB,EAClBE,eAAgB,GAChB/G,gBAAiB,GACjBlG,UAAW,GACXgI,iBAAkB,GAClB/I,gBAAiB,GACjBK,kBAAmByG,GACnB4B,GAAI,KACJC,UAAW,yBACXnJ,SAAU,GACVoJ,oBAAqB,CAAC,EACtBpF,WAAY,GACZjE,cAAe,KACfsJ,UAAW,CAAC,EACZsD,aAAc3U,KAAKC,MAAMd,aAAaS,QAAQ,iBAAmB,MACjEgV,aAAc5U,KAAKC,MAAMd,aAAaS,QAAQ,iBAAmB,MACjEmZ,mBAAoB/Y,KAAKC,MAAMd,aAAaS,QAAQ,oBAAsB,MAC1EwJ,cAAe,GACfE,oBAAqB,GACrBH,6BAA6B,EAEjC,EACAgE,QAAS,WACP3O,KAAKiT,qBACLjT,KAAKkW,oBACLlW,KAAK4Z,YAEP,EACAlT,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,eACbmC,aAAAA,GACE,MAAMzB,EAAO7F,KAAKC,MAAMd,aAAaS,QAAQ,SAC7C,OAAOiG,EAAOA,EAAK6L,OAAS,IAC9B,EAEAhK,iBAAAA,GACE,OAAK6E,MAAMoF,QAAQnT,KAAKgK,iBAGjBhK,KAAKgK,gBAAgBP,QAAON,GAAYnJ,KAAK6S,UAAU1J,EAASG,UAF9D,EAGX,EACA0Q,WAAAA,GACE,OAAQxI,GACCxR,KAAKmW,aAAanW,KAAK8I,gBAAgB8I,SAASJ,EAE3D,EACAyI,UAAAA,GACE,OAAQzI,GACCxR,KAAKoW,aAAa5E,IAASI,SAAS5R,KAAK8I,cAEpD,EACAoR,SAAAA,GACE,OAAQ1I,GACqC,YAApCxR,KAAKua,mBAAmB/I,EAEnC,GAGFzR,OAAAA,GACEC,KAAKiT,oBACP,EACAxE,MAAO,CACLsL,MAAO,CACL3G,OAAAA,CAAQC,EAAUC,GAChBhM,QAAQC,IAAK,sBAAsB8L,EAAUC,EAC/C,EACAC,MAAM,IAGVrT,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,WACfmC,YAAAA,GACE/I,KAAKiH,OAAOC,KAAK,eAChBC,MAAK,KACJnH,KAAKmC,SACLnC,KAAKwT,SAASC,OAAO,cACrB9S,aAAaC,QACbZ,KAAKe,QAAQC,KAAK,WAAW,IAE9BwG,OAAMC,IACLH,QAAQG,MAAM,iBAAkBA,EAAM,GAE1C,EAEA6S,qBAAAA,CAAsB9I,GACpBxR,KAAKe,QAAQC,KAAK,CAAElB,KAAM,cAAekS,OAAQ,CAAER,WACrD,EAEAtH,eAAAA,CAAgBf,GACd7B,QAAQC,IAAI,yBAA0B4B,EAASG,QAC/CtJ,KAAKuJ,cAAgBJ,EAASG,OAC9BtJ,KAAK0T,sBAAwBvK,EAASc,OAGtCjK,KAAK4S,oBAAoBzJ,EAASG,QAAU,EAG5CtJ,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWH,EAASG,OACnB,IAAKsK,EAAKnJ,YAAa,GAEzBmJ,IAGT5T,KAAK6T,cAAc1K,EAASG,aAGYwK,IAApC9T,KAAK6S,UAAU1J,EAASG,QAC1BtJ,KAAK6S,UAAU1J,EAASG,SAAU,EAElCtJ,KAAK6S,UAAU1J,EAASG,SAAWtJ,KAAK6S,UAAU1J,EAASG,OAE/D,EAEA2J,kBAAAA,GACE3L,QAAQC,IAAI,sCACZvH,KAAK0S,GAAK,IAAIqB,UAAU/T,KAAK2S,WAC7B3S,KAAK0S,GAAGsB,iBAAiB,OAAQhU,KAAKiU,iBACtCjU,KAAK0S,GAAGsB,iBAAiB,WAAYnN,IAAY7G,KAAKkU,iBAAiBrN,EAAM,IAC7E7G,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKmU,kBACvCnU,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKoU,iBACzC,EAEAH,eAAAA,GACE3M,QAAQC,IAAI,mBAEd,EAEA4M,gBAAAA,CAAiB1M,GAEfH,QAAQG,MAAM,oBAAqBA,EACrC,EAEA2M,gBAAAA,GAEE9M,QAAQC,IAAI,8BACd,EAEA2M,gBAAAA,CAAiBrN,GACfS,QAAQC,IAAI,8BAA+BV,EAAML,MAGjD,MAAMgD,EAAW3C,EAAML,KAAKlG,MAAM,MAAMmJ,QAAO4K,GAAOA,EAAI5T,SAE1D,IAAI+F,EA2KJ,GAxKAgD,EAAS8K,SAAS3H,IAChB,IAGE,OAFAnG,EAAOhF,KAAKC,MAAMkL,GAEVnG,EAAKjE,MACX,IAAK,wBAEDiE,EAAK+N,QAAQiG,eAAiBxa,KAAK8I,gBACrC9I,KAAKmW,aAAanW,KAAK8I,eAAe9H,KAAKwF,EAAK+N,QAAQsB,wBACjD7V,KAAKua,mBAAmB/T,EAAK+N,QAAQsB,kBAEhD,MACE,IAAK,6BAEI7V,KAAKua,mBAAmB/T,EAAK+N,QAAQsB,iBAC9C,MACA,IAAK,cACCrP,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,cAC/BvJ,KAAKwJ,SAASxI,KAAKwF,EAAK+N,SAGnBvU,KAAK6S,UAAUrM,EAAK+N,QAAQ5K,SAC/B3J,KAAKwU,kBAAkBhO,EAAK+N,QAAQ5K,QAG1C,MACA,IAAK,wBAEH,GADArC,QAAQC,IAAI,oBAAqBf,EAAK+N,SAClC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,eAE3B/C,EAAK+N,QAAQ/K,UAAYhD,EAAK+N,QAAQ/K,SAAS2E,OAAS,EAAG,CAC7D,MAAMsG,EAAkBjO,EAAK+N,QAAQ/K,SAASkL,UAC9C1U,KAAKwJ,SAAW,IAAIiL,KAAoBzU,KAAKwJ,SAC/C,CAEJ,MACA,IAAK,sBACHlC,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMC,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAErC,gBAAtBA,EAAatI,MACbsI,EAAaiK,aAAeH,EAAOG,cAIJ,IAA/BF,EAEF5U,KAAK4K,cAAc5J,KAAK,CACtBuB,KAAM,iBACHoS,IAKL3U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBD,EAEP,IAGEnO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAuBtE,EAAK+N,QAAQ5H,SAG/C,MACA,IAAK,sBACHrF,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMI,EAA0B,CAC9BxS,KAAM,cACNyS,QAASL,EAAOM,QAChBlK,UAAW4J,EAAOO,KAClBnC,iBAAkB4B,EAAOQ,YACzBC,cAAeT,EAAOU,cACtB7J,YAAamJ,EAAOW,aAGhBV,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,gBAAtBA,EAAatI,MAA0BsI,EAAamK,UAAYL,EAAOM,WAG7C,IAA/BL,EAEF5U,KAAK4K,cAAc5J,KAAK+T,GAIxB/U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBG,EAEP,IAIEvO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAsBtE,EAAK+N,QAAQ5H,SAG9C,MACA,IAAK,wBACHrF,QAAQC,IAAI,0BAA2Bf,EAAK+N,SACxCxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQiB,IAEnB,MAAMC,EAA4B,CAChCjT,KAAM,gBACNkT,eAAgBF,EAAcE,eAC9BtQ,UAAWoQ,EAAcpQ,UACzBC,SAAUmQ,EAAcnQ,UAMpBwP,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,kBAAtBA,EAAatI,MAA4BsI,EAAa4K,iBAAmBF,EAAcE,kBAG7D,IAA/Bb,EAEF5U,KAAK4K,cAAc5J,KAAKwU,GAIxBxV,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBY,EAEP,IAIN,MACA,IAAK,2BACHlO,QAAQC,IAAI,8BAA+Bf,EAAK+N,SAC5CxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQoB,IAEnB,MAAMC,EAA+B,CACnCpT,KAAM,mBACNqT,UAAWF,EAAQE,UACnBZ,QAASU,EAAQV,QACjBjK,UAAW2K,EAAQ3K,UACnB8K,gBAAiBH,EAAQlE,OACzBhH,SAAUkL,EAAQtQ,SAClBmF,UAAWmL,EAAQvQ,WAIrBnF,KAAK4K,cAAc5J,KAAK2U,EAA6B,IAG3D,MAEJ,CAAE,MAAOlO,GACPH,QAAQG,MAAM,oCAAqCA,EACrD,KAEF9G,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU9B,KAAKmW,eACzDxV,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU9B,KAAKua,qBAC5Dva,KAAK4Z,aACDpT,EAAKsP,cAAe,CAEtBxO,QAAQC,IAAI,2BAA4Bf,EAAKsP,eAC7C,MAAMC,EAAqBC,OAAOC,OAAOzP,EAAKsP,eAC9CnV,aAAakB,QAAQ,gBAAiBL,KAAKM,UAAUiU,IACrD/V,KAAKkW,mBAEP,CACI1P,EAAK2P,eAEP7O,QAAQC,IAAI,0BAA2Bf,EAAK2P,cAC5CxV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK2P,gBAEvD3P,EAAK4P,eAEP9O,QAAQC,IAAI,0BAA2Bf,EAAK4P,cAC5CzV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK4P,gBAEvD5P,EAAKwM,kBACP1L,QAAQC,IAAI,yBAA0Bf,EAAKwM,iBAC3CrS,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU0E,EAAKwM,mBAE1DxM,EAAK6P,aACP/O,QAAQC,IAAI,wBAAyBf,EAAK6P,YAC1C1V,aAAakB,QAAQ,aAAcL,KAAKM,UAAU0E,EAAK6P,cAErD7P,EAAK8P,oBACPhP,QAAQC,IAAI,gCAAiCf,EAAK8P,mBAClD3V,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAU0E,EAAK8P,oBAElE,EAEA9B,iBAAAA,CAAkB7K,GAEhB3J,KAAK4S,oBAAoBjJ,IAAW3J,KAAK4S,oBAAoBjJ,IAAW,GAAK,EAG7E3J,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWK,EACV,IAAKiK,EAAKnJ,YAAazK,KAAK4S,oBAAoBjJ,IAElDiK,GAEX,EAEAsC,iBAAAA,GACE,MAAMK,EAAY5V,aAAaS,QAAQ,iBACvC,GAAImV,EACF,IACE,MAAMC,EAAkBhV,KAAKC,MAAM8U,GACnCvW,KAAKgK,gBAAkBwM,EAAgB7C,KAAIxK,SAES2K,IAA9C9T,KAAK4S,oBAAoBzJ,EAASG,UACpCtJ,KAAK4S,oBAAoBzJ,EAASG,QAAUH,EAASsB,aAAe,GAE/D,IACFtB,EACHsB,YAAazK,KAAK4S,oBAAoBzJ,EAASG,WAGrD,CAAE,MAAO7B,GACPH,QAAQG,MAAM,mDAAoDA,EACpE,MAEAH,QAAQC,IAAI,4CACZvH,KAAKgK,gBAAkB,EAE3B,EAEAH,eAAAA,CAAgB8C,EAAShD,GACvB,MAAM8M,EAAcjV,KAAKC,MAAMd,aAAaS,QAAQ,SAC9C8M,EAAeuI,EAAYvD,OAE3BlG,EAAY,IAAID,KACtB,IAAI2J,EAAiB,CACnBnU,KAAM,cACNgS,QAAS,CACPrG,aAAcA,EACdyI,eAAgB3W,KAAK0T,sBACrB5G,QAASH,EACThD,OAAQA,EAERqD,UAAWA,EAAU4J,gBAGzBtP,QAAQC,IAAI,uCAAwCmP,GACpD1W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU4U,GAC9B,EAEA7C,aAAAA,CAAclK,GACZ,IAAImN,EAAe,CACjBvU,KAAM,gBACNgS,QAAS,CACP5K,OAAQA,IAIZrC,QAAQC,IAAI,8BAA+BoC,GAC3C3J,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUgV,GAC9B,EAEA/M,eAAAA,CAAgBJ,QAEiBmK,IAA3B9T,KAAK6S,UAAUlJ,KACjB3J,KAAK6S,UAAUlJ,IAAU,EACzB3J,KAAKwJ,SAAW,GAEpB,EAEA2Q,UAAAA,CAAW3I,GACT,MAAMiJ,EAAgBza,KAAK+Z,MAAMxZ,MAAK8G,GAAQA,EAAK6L,SAAW1B,KAASkJ,UAEvE,GAAID,EAAe,CACjB,MAAMlF,EAAgB,CACpBhT,KAAM,gBACNgS,QAAS,CACPiG,aAAchJ,EACdqE,gBAAiB7V,KAAK8I,gBAG1B9I,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyT,IAG5BvV,KAAKua,mBAAmB/I,GAAU,UAClC7Q,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU9B,KAAKua,oBAC9D,MACEjT,QAAQC,IAAI,kBAAmBiK,GAC/BxR,KAAKiH,OAAOC,KAAK,iBAAkB,CACjCsK,OAAQA,EACRmJ,OAAQ,WACPxT,MAAK,KAEDnH,KAAKmW,aAAanW,KAAK8I,iBAC1B9I,KAAKmW,aAAanW,KAAK8I,eAAiB,IAE1C9I,KAAKmW,aAAanW,KAAK8I,eAAe9H,KAAKwQ,GAC3C7Q,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU9B,KAAKmW,eACzDnW,KAAKkW,oBAELlW,KAAK4Z,YAAY,IAChBpS,OAAMC,GAASH,QAAQG,MAAM,wBAAyBA,IAE7D,EAEA4S,YAAAA,CAAa7I,GACXlK,QAAQC,IAAI,oBAAqBiK,GACjCxR,KAAKiH,OAAOC,KAAK,iBAAkB,CACjCsK,OAAQA,EACRmJ,OAAQ,aACPxT,MAAK,KAEN,MAAMsK,EAAQzR,KAAKmW,aAAanW,KAAK8I,gBAAgB4I,QAAQF,GACzDC,GAAS,IACXzR,KAAKmW,aAAanW,KAAK8I,eAAe6I,OAAOF,EAAO,GACpD9Q,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU9B,KAAKmW,gBAI3DnW,KAAK4Z,YAAY,IAChBpS,OAAMC,GAASH,QAAQG,MAAM,0BAA2BA,IAC7D,EAEA2S,mBAAAA,CAAoB5I,GAElB,MAAMoJ,EAAgB,CACpBrY,KAAM,sBACNgS,QAAS,CACPiG,aAAchJ,EACdqE,gBAAiB7V,KAAK8I,gBAG1B9I,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU8Y,IAGxB5a,KAAKua,mBAAmB/I,YACnBxR,KAAKua,mBAAmB/I,GAE/BxR,KAAKua,mBAAqB,IAAKva,KAAKua,oBACpC5Z,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU9B,KAAKua,sBAI9Dva,KAAK4Z,YACP,EAGAA,UAAAA,GACE5Z,KAAKiH,OAAO6K,IAAI,cACf3K,MAAKC,IACJpH,KAAK+Z,MAAQ3S,EAASZ,KAAKmN,KAAItM,IAAG,IAC7BA,EACHqT,UAAmC,YAAxBrT,EAAK/B,eAChBuV,aAAc,UACb,IAEJrT,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEjD,EAEAqT,kBAAAA,CAAmBtJ,EAAQ5P,GAEzB5B,KAAK+Z,MAAQ/Z,KAAK+Z,MAAMpG,KAAItM,GACtBA,EAAK6L,SAAW1B,EACX,IAAKnK,EAAMwT,aAAcjZ,GAE3ByF,GAEX,EAEA0Q,WAAAA,GAEEzQ,QAAQC,IAAI,yBAA0BvH,KAAK+K,UAAW/K,KAAK+S,iBAAkB/S,KAAKiR,iBAElF,MAAMsI,EAAY,CAChBhC,MAAO,CACLzX,KAAME,KAAK+K,UACXyM,YAAaxX,KAAK+S,kBAEpByG,eAAgBxZ,KAAKiR,iBAGvBjR,KAAKiH,OAAOC,KAAK,mBAAoBqS,GACpCpS,MAAKC,IAEJE,QAAQC,IAAI,iBAAkBH,EAASZ,MAGvCxG,KAAKsX,OAAOtW,KAAKoG,EAASZ,MAG1BxG,KAAK+K,UAAY,GACjB/K,KAAK+S,iBAAmB,GACxB/S,KAAKiR,gBAAkB,EAAE,IAK1BzJ,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEjD,EAEAiD,wBAAAA,GAGE,GAFA1K,KAAK2K,6BAA+B3K,KAAK2K,4BAErC3K,KAAK2K,4BAA6B,CAEpC,MAAMoM,EAAoB,CAAC,cAAe,cAAe,qBAAsB,yBAC/EA,EAAkBzC,SAAQ/R,IACxB,MAAMgS,EAAU,CACdhS,KAAMA,EACNgS,QAAS,CACP/C,OAAQxR,KAAK8I,gBAGjBxB,QAAQC,IAAI,6BAA+BhF,EAAO,IAAKgS,GACvDvU,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyS,GAAS,GAEzC,CACF,EAEApJ,cAAAA,CAAeN,EAAcmM,EAAcC,GACzC,IAAIC,EAEiB,UAAjBD,EACFC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPO,WAAYjK,EAAaiK,WACzBtD,OAAQxR,KAAK8I,cACb1B,SAAU4P,IAGY,UAAjBC,EACTC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPS,QAASnK,EAAamK,QACtBxD,OAAQxR,KAAK8I,cACbqO,OAAQH,IAGc,WAAjBC,GACTC,EAAkB,CAChB3U,KAAMyU,EAAe,sBAAwB,uBAC7CzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb2M,eAAgB5K,EAAa4K,iBAKjCzV,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAG5BlX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAsB,kBAAdA,EAAK7U,MAA4B6U,EAAK3B,iBAAmB5K,EAAa4K,kBAEnG,qBAAjBwB,IACTC,EAAkB,CAChB3U,KAAMyU,EAAe,yBAA2B,0BAChDzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb8M,UAAW/K,EAAa+K,aAM9BtO,QAAQC,IAAK,GAAE0P,sCAAkDC,GACjElX,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAEP,qBAAjBD,EACFjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAQA,EAAKxB,YAAc/K,EAAa+K,YAC7D,UAAjBqB,GAA6C,UAAjBA,IACrCjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAyB,UAAjBH,EAA2BG,EAAKtC,aAAejK,EAAaiK,WAAasC,EAAKpC,UAAYnK,EAAamK,UAElK,IChxBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,iECPS3S,MAAM,0B,IAGNA,MAAM,0B,IACJA,MAAM,U,IAORA,MAAM,0B,IAKRA,MAAM,kB,IACJA,MAAM,mB,IACJA,MAAM,wB,IAMJA,MAAM,a,YACXC,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,GA3BzB,Q,IA6CaD,MAAM,gB,IACNA,MAAM,+B,IA9CnBD,IAAA,G,IAAAA,IAAA,EAsDmCC,MAAM,qB,GAtDzC,e,GAAA,Q,IA+DaA,MAAM,c,IA/DnBD,IAAA,G,YAiEYE,EAAAA,EAAAA,GAAe,UAAX,UAAM,K,YACVA,EAAAA,EAAAA,GAAI,qB,GAlEhB,Y,IAAAF,IAAA,EAwEiBC,MAAM,iB,IAxEvBD,IAAA,G,YA4EgBE,EAAAA,EAAAA,GAAa,SAAV,UAAM,K,IA5EzBF,IAAA,G,YAkFgBE,EAAAA,EAAAA,GAAiB,SAAd,cAAU,K,IAahBD,MAAM,iC,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,4qBAO6C,K,IAdzDiD,I,YAmBFjJ,EAAAA,EAAAA,GAAyB,UAArB,oBAAgB,K,IAEjBD,MAAM,qB,IAEFA,MAAM,c,YACTC,EAAAA,EAAAA,GAA2C,SAApC+U,IAAI,aAAY,gBAAY,K,IAIhChV,MAAM,c,YACTC,EAAAA,EAAAA,GAAkD,SAA3C+U,IAAI,oBAAmB,gBAAY,K,IAIvChV,MAAM,c,YACTC,EAAAA,EAAAA,GAA4C,SAArC+U,IAAI,iBAAgB,aAAS,K,YAItC/U,EAAAA,EAAAA,GAAoC,aAA7B,yBAAqB,K,IACxBD,MAAM,wB,GAxItB,e,GAAA,Q,YAsJYC,EAAAA,EAAAA,GAA2C,UAAnCC,KAAK,UAAS,gBAAY,K,IAKjCF,MAAM,8B,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,4qBAO6C,K,IAdzDsI,I,YAoBFtO,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,IAEdD,MAAM,qB,IAnLnBD,IAAA,G,IAAAA,IAAA,EAsL8CC,MAAM,wB,IACnCA,MAAM,wB,IAIJA,MAAM,oB,GA3LzB,Y,GAAA,Y,IAAAD,IAAA,G,IAmMiBC,MAAM,wB,IAIJA,MAAM,oB,GAvMzB,Y,GAAA,Y,IAAAD,IAAA,G,IA8MiBC,MAAM,0B,IAGJA,MAAM,oB,GAjNzB,Y,GAAA,Y,IAAAD,IAAA,G,IAwNiBC,MAAM,8B,IAGJA,MAAM,oB,GA3NzB,Y,GAAA,Y,wIAAA3C,EAAAA,EAAAA,IAAA6I,EAAAA,GAAA,OACEjG,EAAAA,EAAAA,GAeS,gBAdPA,EAAAA,EAAAA,GAEM,MAFN3C,GAEM,EADJ2C,EAAAA,EAAAA,GAAmC,UAA/B,eAAWqC,EAAAA,EAAAA,IAAGzB,EAAA6H,WAAS,MAE7BzI,EAAAA,EAAAA,GAOM,MAPNc,GAOM,EANJd,EAAAA,EAAAA,GAKM,MALNe,GAKM,EAJJzD,EAAAA,EAAAA,IAAuD4I,EAAA,CAA1CC,GAAG,IAAIpG,MAAM,Y,CAPlCqG,SAAAC,EAAAA,EAAAA,KAO6C,IAAI,EAPjDC,EAAAA,EAAAA,IAO6C,WAP7CC,EAAA,KAQQjJ,EAAAA,EAAAA,IAA+D4I,EAAA,CAAlDC,GAAG,UAAUpG,MAAM,Y,CARxCqG,SAAAC,EAAAA,EAAAA,KAQmD,IAAM,EARzDC,EAAAA,EAAAA,IAQmD,aARnDC,EAAA,KASQjJ,EAAAA,EAAAA,IAA6D4I,EAAA,CAAhDC,GAAG,SAASpG,MAAM,Y,CATvCqG,SAAAC,EAAAA,EAAAA,KASkD,IAAK,EATvDC,EAAAA,EAAAA,IASkD,YATlDC,EAAA,KAUQjJ,EAAAA,EAAAA,IAAqF4I,EAAA,CAAvEC,GAAE,YAAc1E,EAAA+E,gBAAiBzG,MAAM,Y,CAV7DqG,SAAAC,EAAAA,EAAAA,KAUwE,IAAO,EAV/EC,EAAAA,EAAAA,IAUwE,cAVxEC,EAAA,G,eAaIvG,EAAAA,EAAAA,GAEM,MAFN2B,GAEM,EADJ3B,EAAAA,EAAAA,GAA8C,UAArCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAgF,cAAAhF,EAAAgF,gBAAAjF,KAAc,gBAIlCxB,EAAAA,EAAAA,GAkNM,MAlNNiC,GAkNM,EAjNJjC,EAAAA,EAAAA,GAgNM,MAhNNkC,GAgNM,EA/MJlC,EAAAA,EAAAA,GAKM,MALNoC,GAKM,EAJJ9E,EAAAA,EAAAA,IAGEoJ,EAAA,CAFDF,cAAe/E,EAAA+E,cACfuI,QAASnO,EAAA8R,S,uCAGZ1S,EAAAA,EAAAA,GAkBQ,QAlBRwC,GAkBQ,CAjBNE,IACA1C,EAAAA,EAAAA,GAKK,0BAJH5C,EAAAA,EAAAA,IAGK6I,EAAAA,GAAA,MAhCfU,EAAAA,EAAAA,IA6B+B/F,EAAA6X,cAAVC,K,WAAXtb,EAAAA,EAAAA,IAGK,MAH+B0C,IAAK4Y,EAAO/Q,Q,EAC9C3H,EAAAA,EAAAA,GAAiG,OAA3F6H,IAAK6Q,EAAO5Q,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OA9B7FI,KAAAmG,EAAAA,EAAAA,IA8B6G,KACjGjE,EAAAA,EAAAA,IAAGqW,EAAO7V,UAAY,IAAM6V,EAAO5V,UAAQ,Q,SAG/CxF,EAAAA,EAAAA,IAQEqb,EAAA,CAPCC,UAAWhY,EAAAiY,cACXnG,QAAS9R,EAAA8R,QACTjK,UAAW7H,EAAA6H,UACXvB,SAAUtG,EAAAsG,SAASC,QAAOC,GAAKA,EAAEC,SAAWzG,EAAAqG,gBAC5CT,cAAe/E,EAAA+E,cACfsS,QAAK1X,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAiY,eAAgB,GACvBE,cAAatX,EAAA8F,iB,uFAEF9F,EAAAuX,gBAAa,WAA3B5b,EAAAA,EAAAA,IAAqH,UA3C7H0C,IAAA,EA2CsCqB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAAwX,mBAAmBrY,EAAA8R,UAAU3S,MAAM,sBAAqB,qBA3CrGuC,EAAAA,EAAAA,IAAA,UA6CMtC,EAAAA,EAAAA,GA8CQ,QA9CRI,GA8CQ,EA7CNJ,EAAAA,EAAAA,GAMM,MANNiD,GAMM,EALJjD,EAAAA,EAAAA,GAAwE,UAA/DmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAA2G,6BAA4B,uBACjC3G,EAAAuX,gBAAa,WAAxB5b,EAAAA,EAAAA,IAGM,MAnDhB+F,GAAA,EAiDYnD,EAAAA,EAAAA,GAAqF,UAA5EmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAsY,qBAAuBtY,EAAAsY,sBAAqB,qBAC5DlZ,EAAAA,EAAAA,GAAuD,UAA9CmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA0X,kBAAA1X,EAAA0X,oBAAA3X,KAAkB,oBAlD9Cc,EAAAA,EAAAA,IAAA,SAsDmB1B,EAAAwY,iBAAc,WAAzBhc,EAAAA,EAAAA,IAQM,MARNiG,GAQM,EAPJrD,EAAAA,EAAAA,GAKK,0BAJH5C,EAAAA,EAAAA,IAGK6I,EAAAA,GAAA,MA3DjBU,EAAAA,EAAAA,IAwD+B/F,EAAAyY,eAARtU,K,WAAX3H,EAAAA,EAAAA,IAGK,MAH8B0C,IAAKiF,EAAK6L,Q,WAC3C5Q,EAAAA,EAAAA,GAAoG,SAA7FC,KAAK,WAAY9C,GAAE,UAAY4H,EAAK6L,SAAW1Q,MAAO6E,EAAK6L,OAzDhF,sBAAAxP,EAAA,KAAAA,EAAA,GAAAC,GAyDiGT,EAAA+N,gBAAetN,I,OAzDhHiC,IAAA,OAyDiG1C,EAAA+N,oBACnF3O,EAAAA,EAAAA,GAAwF,SAAhF+U,IAAG,UAAYhQ,EAAK6L,W,QAAa7L,EAAKlC,UAAY,IAAMkC,EAAKjC,UAAQ,EA1D3FS,S,SA6DUvD,EAAAA,EAAAA,GAA8E,UAArEmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA6X,mBAAA7X,EAAA6X,qBAAA9X,IAAmBzB,MAAM,iBAAgB,oBA7DnEuC,EAAAA,EAAAA,IAAA,QA+DQtC,EAAAA,EAAAA,GA2BM,MA3BNQ,GA2BM,CA1BOI,EAAA2Y,QAAU3Y,EAAA2Y,OAAO1N,OAAS,IAAH,WAAlCzO,EAAAA,EAAAA,IAyBM,MAzFhBqD,GAAA,CAiEYC,GACAC,KAAI,aACJvD,EAAAA,EAAAA,IAqBI6I,EAAAA,GAAA,MAxFhBU,EAAAA,EAAAA,IAmEiC/F,EAAA2Y,QAAThV,K,WAAZnH,EAAAA,EAAAA,IAqBI,OArB0B0C,IAAKyE,EAAMiV,QAAUrY,QAAKE,GAAEI,EAAAgY,YAAYlV,EAAMiV,SAAWzZ,OAnEnGiB,EAAAA,EAAAA,IAAA,mBAmEuIJ,EAAA8Y,kBAAoBnV,EAAMiV,W,EACrJxZ,EAAAA,EAAAA,GAGM,aAFJA,EAAAA,EAAAA,GAA0B,WAAAqC,EAAAA,EAAAA,IAAnBkC,EAAMoV,OAAK,IAClB3Z,EAAAA,EAAAA,GAA2D,UAAAqC,EAAAA,EAAAA,IAAA,IAAjDoI,KAAKlG,EAAMqV,eAAeC,kBAAc,KAEnBjZ,EAAA8Y,kBAAoBnV,EAAMiV,UAAO,WAAlEpc,EAAAA,EAAAA,IAeM,MAfN2G,GAeM,EAdJ/D,EAAAA,EAAAA,GAA6D,SAA1D,gBAAYqC,EAAAA,EAAAA,IAAGkC,EAAM0D,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkC,EAAM2D,UAAQ,IACtDlI,EAAAA,EAAAA,GAA8B,UAAAqC,EAAAA,EAAAA,IAAxBkC,EAAMsO,aAAW,GACZtO,EAAMuV,MAAMjO,OAAS,IAAH,WAA7BzO,EAAAA,EAAAA,IAKM,MAhFpB4G,GAAA,CA4EgBC,IACAjE,EAAAA,EAAAA,GAEK,0BADH5C,EAAAA,EAAAA,IAA2D6I,EAAAA,GAAA,MA9E7EU,EAAAA,EAAAA,IA8EqCpC,EAAMuV,OAAd/U,K,WAAX3H,EAAAA,EAAAA,IAA2D,MAA1B0C,IAAKiF,IAAI1C,EAAAA,EAAAA,IAAK0C,GAAI,M,YA9ErEzC,EAAAA,EAAAA,IAAA,OAiFyBiC,EAAMwV,SAASlO,OAAS,IAAH,WAAhCzO,EAAAA,EAAAA,IAKM,MAtFpB0L,GAAA,CAkFgBC,IACA/I,EAAAA,EAAAA,GAEK,0BADH5C,EAAAA,EAAAA,IAA8D6I,EAAAA,GAAA,MApFhFU,EAAAA,EAAAA,IAoFqCpC,EAAMwV,UAAdhV,K,WAAX3H,EAAAA,EAAAA,IAA8D,MAA1B0C,IAAKiF,IAAI1C,EAAAA,EAAAA,IAAK0C,GAAI,M,YApFxEzC,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,WAAAsB,O,UAAAtB,EAAAA,EAAAA,IAAA,YA8FMtC,EAAAA,EAAAA,GA2DQ,SA3DDD,OA9FbiB,EAAAA,EAAAA,IAAA,CA8FmB,sBAAqB,cAAyBJ,EAAAsY,wB,EACzDlZ,EAAAA,EAAAA,GAsBM,MAtBNgJ,GAsBM,EArBJhJ,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAsY,qBAAsB,IAhGhD/P,IAoHUC,MAEFpJ,EAAAA,EAAAA,GAkCM,MAlCNqJ,GAkCM,EAjCJrJ,EAAAA,EAAAA,GAgCO,QAhCAsB,SAAMF,EAAA,MAAAA,EAAA,KAvHvBG,EAAAA,EAAAA,KAAA,IAAAC,IAuHiCC,EAAAuY,aAAAvY,EAAAuY,eAAAxY,IAAW,e,EAChCxB,EAAAA,EAAAA,GAGM,MAHNsJ,GAGM,CAFJC,IAA2C,SAC3CvJ,EAAAA,EAAAA,GAA+D,SAAxDC,KAAK,OAAO9C,GAAG,YA1HpC,sBAAAiE,EAAA,KAAAA,EAAA,GAAAC,GA0HyDT,EAAAqZ,UAAS5Y,GAAEU,SAAA,I,iBAAXnB,EAAAqZ,gBAG7Cja,EAAAA,EAAAA,GAGM,MAHNwJ,GAGM,CAFJC,IAAkD,SAClDzJ,EAAAA,EAAAA,GAAwF,YAA9E7C,GAAG,mBA/H3B,sBAAAiE,EAAA,MAAAA,EAAA,IAAAC,GA+HuDT,EAAAsZ,iBAAgB7Y,GAAEyM,KAAK,IAAI/L,SAAA,I,iBAA3BnB,EAAAsZ,uBAG3Cla,EAAAA,EAAAA,GAGM,MAHN0J,GAGM,CAFJC,IAA4C,SAC5C3J,EAAAA,EAAAA,GAAiF,SAA1EC,KAAK,iBAAiB9C,GAAG,gBApI9C,sBAAAiE,EAAA,MAAAA,EAAA,IAAAC,GAoIuET,EAAAuZ,cAAa9Y,GAAEU,SAAA,I,iBAAfnB,EAAAuZ,mBAG3DvQ,IACA5J,EAAAA,EAAAA,GAYK,KAZL6J,GAYK,gBAXHzM,EAAAA,EAAAA,IAUK6I,EAAAA,GAAA,MAnJnBU,EAAAA,EAAAA,IAyImC/F,EAAA6X,cAAVC,K,WAAXtb,EAAAA,EAAAA,IAUK,MAV+B0C,IAAK4Y,EAAO9H,Q,WAC9C5Q,EAAAA,EAAAA,GAKC,SAJCC,KAAK,WACJ9C,GAAE,UAAYub,EAAO9H,SACrB1Q,MAAOwY,EAAO9H,OA7IjC,sBAAAxP,EAAA,MAAAA,EAAA,IAAAC,GA8I2BT,EAAA+N,gBAAetN,I,OA9I1CyI,IAAA,OA8I2BlJ,EAAA+N,oBAEX3O,EAAAA,EAAAA,GAEQ,SAFA+U,IAAG,UAAY2D,EAAO9H,W,QACzB8H,EAAO7V,UAAY,IAAM6V,EAAO5V,UAAQ,EAjJ7DiH,S,QAsJYqE,IAA2C,WAIjDpO,EAAAA,EAAAA,GAwEQ,SAxEDD,OA1JbiB,EAAAA,EAAAA,IAAA,CA0JmB,sBAAqB,cAAyBJ,EAAAyH,gC,EACzDrI,EAAAA,EAAAA,GAuBM,MAvBNqO,GAuBM,EAtBJrO,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,MAAAA,EAAA,IAAAC,IAAET,EAAAyH,6BAA8B,EAAOzH,EAAA0H,cAAgB,EAAE,IA5JjFqN,IAiLUC,MAEF5V,EAAAA,EAAAA,GA8CM,MA9CN6V,GA8CM,gBA7CJzY,EAAAA,EAAAA,IA4CM6I,EAAAA,GAAA,MAhOhBU,EAAAA,EAAAA,IAoLsC/F,EAAA0H,eAAhBC,K,WAAZnL,EAAAA,EAAAA,IA4CM,OA5CsC0C,IAAKyI,EAAapL,GAAI4C,MAAM,gB,CACrC,gBAAtBwI,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAUM,MA/LlB0Y,GAAA,CAsLyBlV,EAAA4H,sBAAmB,WAA9BpL,EAAAA,EAAAA,IAA4F,MAA5F2Y,IAA4F1T,EAAAA,EAAAA,IAA5BzB,EAAA4H,qBAAmB,KAtLjGlG,EAAAA,EAAAA,IAAA,QAuLctC,EAAAA,EAAAA,GAGI,IAHJgW,GAGI,EA1LlB1P,EAAAA,EAAAA,IAuL8C,+BACLtG,EAAAA,EAAAA,GAA6C,eAAAqC,EAAAA,EAAAA,IAAlCkG,EAAaE,WAAS,IAxL1EnC,EAAAA,EAAAA,IAwLsF,YAAOtG,EAAAA,EAAAA,GAA2C,cAAnC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaG,OAAQ,IAAC,IAxL/HpC,EAAAA,EAAAA,IAwLwI,SACrHtG,EAAAA,EAAAA,GAAuF,eAAAqC,EAAAA,EAAAA,IAA5EkG,EAAaI,kBAAmB,KAACtG,EAAAA,EAAAA,IAAGkG,EAAaK,iBAAe,MAEhF5I,EAAAA,EAAAA,GAGM,MAHNiW,GAGM,EAFJjW,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,QAASoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,QAAS,UAAU,QAAK,EA5LnG2N,KA6LgBlW,EAAAA,EAAAA,GAAuG,UAA/FD,MAAM,WAAYoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,YAAa,UAAU,YAAS,EA7L9G4N,SAiMkD,gBAAtB5N,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAUM,MA3MlBgZ,GAAA,EAmMcpW,EAAAA,EAAAA,GAGI,IAHJqW,GAGI,EAtMlB/P,EAAAA,EAAAA,IAmM8C,8CACUtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IApM9FnC,EAAAA,EAAAA,IAoMuG,SACpFtG,EAAAA,EAAAA,GAA+C,eAAAqC,EAAAA,EAAAA,IAApCkG,EAAaW,aAAW,IArMtD5C,EAAAA,EAAAA,IAqMkE,SAEpDtG,EAAAA,EAAAA,GAGM,MAHNsW,GAGM,EAFJtW,EAAAA,EAAAA,GAA2F,UAAnFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,UAAU,SAAM,EAxMlGgO,KAyMgBvW,EAAAA,EAAAA,GAA8F,UAAtFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,UAAU,UAAO,EAzMrGiO,SA6MkD,kBAAtBjO,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAQM,MArNlBqZ,GAAA,EA8MczW,EAAAA,EAAAA,GAEI,IAFJ0W,GAEI,EADA1W,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAa1F,WAAY,KAACR,EAAAA,EAAAA,IAAGkG,EAAazF,UAAQ,IA/M/EwD,EAAAA,EAAAA,IA+M2F,6BAE7EtG,EAAAA,EAAAA,GAGM,MAHN2W,GAGM,EAFJ3W,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,WAAW,SAAM,EAlNnGqO,KAmNgB5W,EAAAA,EAAAA,GAA+F,UAAvFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,WAAW,UAAO,EAnNtGsO,UAAAvU,EAAAA,EAAAA,IAAA,OAuN6C,qBAAtBiG,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAQM,MA/NlB0Z,GAAA,EAwNc9W,EAAAA,EAAAA,GAEI,IAFJ+W,GAEI,EADF/W,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAaN,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkG,EAAaL,UAAQ,IAzN7E5B,EAAAA,EAAAA,IAyNyF,+BAA0BtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAzNzJnC,EAAAA,EAAAA,IAyNkK,SAEpJtG,EAAAA,EAAAA,GAGM,MAHNgX,GAGM,EAFJhX,EAAAA,EAAAA,GAAsG,UAA9FD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,qBAAqB,SAAM,EA5N7G6R,KA6NgBpa,EAAAA,EAAAA,GAAyG,UAAjGD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,qBAAqB,UAAO,EA7NhH8R,UAAA/X,EAAAA,EAAAA,IAAA,Y,sFCAAxC,IAAA,EAESC,MAAM,qB,IACJA,MAAM,U,IAINA,MAAM,WAAWiK,IAAI,qB,IAGjBjK,MAAM,6B,IACJA,MAAM,kB,IACNA,MAAM,mB,IAERA,MAAM,qB,IAGVA,MAAM,c,IAjBjBD,IAAA,EAkBoCC,MAAM,gB,GAlB1C,Y,IAwBaA,MAAM,+B,YAC2BC,EAAAA,EAAAA,GAA6B,QAAvBD,MAAM,SAAQ,MAAE,K,IAAtBkD,I,2CAxB5C6D,EAAAA,EAAAA,IA6BawT,EAAAA,GAAA,CA7BD9c,KAAK,SAAO,CAD1B4I,SAAAC,EAAAA,EAAAA,KAEI,IA2BM,CA3B+B4D,EAAA2O,YAAS,WAA9Cxb,EAAAA,EAAAA,IA2BM,MA3BNC,GA2BM,EA1BJ2C,EAAAA,EAAAA,GAGM,MAHNc,GAGM,EAFJd,EAAAA,EAAAA,GAAqC,WAAAqC,EAAAA,EAAAA,IAA9B4H,EAAAxB,WAAY,gBAAa,IAChCzI,EAAAA,EAAAA,GAAqC,UAA5BmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA0I,WAAA1I,EAAA0I,aAAA3I,KAAW,QAE7BxB,EAAAA,EAAAA,GASM,MATNe,GASM,gBARJ3D,EAAAA,EAAAA,IAOM6I,EAAAA,GAAA,MAfdU,EAAAA,EAAAA,IAQwCsD,EAAA/C,UARxC,CAQqBmD,EAAS8E,M,WAAtB/R,EAAAA,EAAAA,IAOM,OAPqC0C,IAAKqP,EAC7CpP,OATXiB,EAAAA,EAAAA,IAAA,gBASmCqJ,EAAQuB,eAAiB3B,EAAAzD,cAAa,mBAAsB6D,EAAQuB,eAAiB3B,EAAAzD,iB,EAC9GxG,EAAAA,EAAAA,GAGM,MAHN2B,GAGM,EAFJ3B,EAAAA,EAAAA,GAA4F,MAA5FiC,IAA4FI,EAAAA,EAAAA,IAA7DgI,EAAQ4B,iBAAkB,KAAC5J,EAAAA,EAAAA,IAAGgI,EAAQ6B,gBAAc,IACnFlM,EAAAA,EAAAA,GAAwD,MAAxDkC,IAAwDG,EAAAA,EAAAA,IAAxBgI,EAAQG,SAAO,MAEjDxK,EAAAA,EAAAA,GAAqI,MAArIoC,IAAqIC,EAAAA,EAAAA,IAAA,IAA/FoI,KAAKJ,EAAQK,WAAWC,mBAAmB,GAAI,CAALC,KAAA,UAAAC,OAAA,uB,aAGpF7K,EAAAA,EAAAA,GAWM,MAXNwC,GAWM,CAVO5B,EAAAkK,kBAAe,WAA1B1N,EAAAA,EAAAA,IAIM,MAJNsF,GAIM,gBAHJtF,EAAAA,EAAAA,IAES6I,EAAAA,GAAA,MArBnBU,EAAAA,EAAAA,IAmBkC/F,EAAAmK,QAATC,K,WAAf5N,EAAAA,EAAAA,IAES,UAFwB0C,IAAKkL,EAAQ7J,QAAKE,GAAEI,EAAAwJ,SAASD,K,QACzDA,GAAK,EApBpB7K,O,UAAAmC,EAAAA,EAAAA,IAAA,iBAuBQtC,EAAAA,EAAAA,GAAmG,SAA5FC,KAAK,OAAO2B,YAAY,oBAvBvC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAuBoET,EAAAsK,WAAU7J,GAAG8J,QAAK/J,EAAA,KAAAA,EAAA,IAvBtFgK,EAAAA,EAAAA,KAAA,IAAA5J,IAuB8FC,EAAA4J,aAAA5J,EAAA4J,eAAA7J,IAAW,a,iBAArCZ,EAAAsK,eAC5DlL,EAAAA,EAAAA,GAGM,MAHNI,GAGM,EAFJJ,EAAAA,EAAAA,GAA0E,UAAjEmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA6J,mBAAA7J,EAAA6J,qBAAA9J,KAzB1B2B,KA0BUnD,EAAAA,EAAAA,GAA0C,UAAjCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAA4J,aAAA5J,EAAA4J,eAAA7J,KAAa,gBA1BvCc,EAAAA,EAAAA,IAAA,UAAAiE,EAAA,G,CAmCA,QACE/I,KAAM,kBACN+N,MAAO,CACLqN,UAAW,CACT3Y,KAAMsa,QACNxY,UAAU,GAEZ2Q,QAAS,CACPzS,KAAMuL,OACNzJ,UAAU,GAEZ0G,UAAW,CACTxI,KAAMuL,OACNzJ,UAAU,GAEZmF,SAAUuE,MACVjF,cAAe,CAACgF,OAAQG,SAE1BsE,WAAY,CACZ,EACA/L,IAAAA,GACE,MAAO,CACLgH,WAAY,GACZJ,iBAAiB,EACjBC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAE9K,EACAoB,MAAO,CACLjF,QAAAA,GACExJ,KAAK0O,gBACP,GAEFC,OAAAA,GACE3O,KAAK0O,gBACP,EACAxO,QAAS,CACPwO,cAAAA,GACE1O,KAAK4O,WAAU,KACb,MAAMC,EAAoB7O,KAAK8O,MAAMD,kBACjCA,IACFA,EAAkBE,UAAYF,EAAkBG,aAClD,GAEJ,EACArB,WAAAA,GACE,IAAK3N,KAAKwN,WAAW/M,OAAQ,OAG7B,MAAMqc,EAAgB,CACpBhQ,QAAS9M,KAAKwN,WACdwH,QAAShV,KAAKgV,SAIhBhV,KAAKmP,MAAM,cAAe2N,GAG1B9c,KAAKwN,WAAa,EACpB,EAEAI,iBAAAA,GACE5N,KAAKoN,iBAAmBpN,KAAKoN,eAC/B,EACAG,QAAAA,CAASD,GACPtN,KAAKwN,YAAcF,EACnBtN,KAAK4N,mBACP,EAEAnB,SAAAA,GACEzM,KAAKmP,MAAM,QACb,IClGJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFoOA,IACErP,KAAM,cACNyS,WAAY,CACVE,iBAAgB,GAChBsK,gBAAeA,IAEjBvW,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnByG,MAAO,KACPvC,QAAShV,KAAKgd,OAAOhL,OAAOgD,QAC5BtC,GAAI,KACJC,UAAW,yBACXnJ,SAAU,GACVoJ,oBAAqB,CAAC,EACtBpF,WAAY,GACZjE,cAAe,KACfsJ,UAAW,CAAC,EACZ7I,gBAAiB,GACjBwR,qBAAqB,EACrBxD,eAAgB,GAChB6D,OAAQ,GACRG,gBAAiB,KACjBO,UAAW,GACXC,iBAAkB,GAClBC,cAAe,GACfxL,gBAAiB,GACjBlG,UAAW,GACXgI,iBAAkB,GAClBgI,aAAc,GACdI,eAAe,EACf3B,eAAgB,GAChBmC,cAAe,GACfD,gBAAgB,EAChB9Q,cAAe,GACfE,oBAAqB,GACrBH,6BAA6B,EAEjC,EACA8D,MAAO,CAELlF,aAAAA,CAAc8J,EAAUC,GACtBhM,QAAQC,IAAK,6BAA4B+L,QAAeD,IAC1D,EACA,aAAaA,EAAUC,GACrBhM,QAAQC,IAAK,2BAA0B+L,QAAeD,IACxD,EACA7J,SAAU,CACR4J,OAAAA,CAAQC,GACN/L,QAAQC,IAAI,0BAA2B8L,EACzC,EACAE,MAAM,GAER4H,aAAAA,CAAc9H,GACZ/L,QAAQC,IAAK,4BAA2B8L,IAC1C,EACAwI,OAAQ,CACNzI,OAAAA,CAAQC,EAAUC,GAChBhM,QAAQC,IAAK,iBAAiB8L,EAAUC,EAC1C,EACAC,MAAM,IAGV5E,OAAAA,GACE3O,KAAKkW,oBACLlW,KAAKiT,qBACLjT,KAAKid,mBACLjd,KAAKkd,oBACLld,KAAKmd,cACL,MAAMC,EAAoB5b,KAAKC,MAAMd,aAAaS,QAAQ,sBACtDgc,IAEF9V,QAAQC,IAAI,qBAAsB6V,GAElCzc,aAAa0c,WAAW,qBAE5B,EACA3W,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,aAAc,gBAC3BmC,aAAAA,GACE,MAAMzB,EAAO7F,KAAKC,MAAMd,aAAaS,QAAQ,SAC7C,OAAOiG,EAAOA,EAAK6L,OAAS,IAC9B,EAEAhK,iBAAAA,GACE,OAAK6E,MAAMoF,QAAQnT,KAAKgK,iBAGjBhK,KAAKgK,gBAAgBP,QAAON,GAAYnJ,KAAK6S,UAAU1J,EAASG,UAF9D,EAGX,EACAgS,aAAAA,GACE,OAAOtb,KAAK+a,aAAanJ,SAAS5R,KAAK8I,cACzC,GAEF5I,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,WACfmC,YAAAA,GACE/I,KAAKiH,OAAOC,KAAK,eAChBC,MAAK,KACJnH,KAAKmC,SACLnC,KAAKwT,SAASC,OAAO,cACrB9S,aAAaC,QACbZ,KAAKe,QAAQC,KAAK,WAAW,IAE9BwG,OAAMC,IACLH,QAAQG,MAAM,iBAAkBA,EAAM,GAE1C,EAEAyO,iBAAAA,GACE,MAAMK,EAAY5V,aAAaS,QAAQ,iBACvC,GAAImV,EACF,IACE,MAAMC,EAAkBhV,KAAKC,MAAM8U,GACnCvW,KAAKgK,gBAAkBwM,EAAgB7C,KAAIxK,SAES2K,IAA9C9T,KAAK4S,oBAAoBzJ,EAASG,UACpCtJ,KAAK4S,oBAAoBzJ,EAASG,QAAUH,EAASsB,aAAe,GAE/D,IACFtB,EACHsB,YAAazK,KAAK4S,oBAAoBzJ,EAASG,WAGrD,CAAE,MAAO7B,GACPH,QAAQG,MAAM,mDAAoDA,EACpE,MAEAH,QAAQC,IAAI,4CACZvH,KAAKgK,gBAAkB,EAE3B,EAEAiJ,kBAAAA,GAEMjT,KAAK0S,IAAM1S,KAAK0S,GAAG4K,aAAevJ,UAAUwJ,KAC9CjW,QAAQC,IAAI,4BAIdD,QAAQC,IAAI,sCACZvH,KAAK0S,GAAK,IAAIqB,UAAU/T,KAAK2S,WAG7B3S,KAAK0S,GAAGsB,iBAAiB,OAAQhU,KAAKiU,iBACtCjU,KAAK0S,GAAGsB,iBAAiB,WAAYnN,IAAY7G,KAAKkU,iBAAiBrN,EAAM,IAC7E7G,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKmU,kBACvCnU,KAAK0S,GAAGsB,iBAAiB,QAAShU,KAAKoU,kBACzC,EAEAH,eAAAA,GACE3M,QAAQC,IAAI,mBAEd,EAEA4M,gBAAAA,CAAiB1M,GAEfH,QAAQG,MAAM,oBAAqBA,EACrC,EAEA2M,gBAAAA,GAEE9M,QAAQC,IAAI,8BACd,EAEA2M,gBAAAA,CAAiBrN,GACfS,QAAQC,IAAI,8BAA+BV,EAAML,MAGjD,MAAMgD,EAAW3C,EAAML,KAAKlG,MAAM,MAAMmJ,QAAO4K,GAAOA,EAAI5T,SAE1D,IAAI+F,EAgKJ,GA7JAgD,EAAS8K,SAAS3H,IAChB,IAGE,OAFAnG,EAAOhF,KAAKC,MAAMkL,GAEVnG,EAAKjE,MACX,IAAK,wBACHvC,KAAKwd,4BAA4BhX,EAAK+N,SACxC,MACA,IAAK,cACC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,cAC/BvJ,KAAKwJ,SAASxI,KAAKwF,EAAK+N,SAGnBvU,KAAK6S,UAAUrM,EAAK+N,QAAQ5K,SAC/B3J,KAAKwU,kBAAkBhO,EAAK+N,QAAQ5K,QAG1C,MACA,IAAK,wBAEH,GADArC,QAAQC,IAAI,oBAAqBf,EAAK+N,SAClC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,eAE3B/C,EAAK+N,QAAQ/K,UAAYhD,EAAK+N,QAAQ/K,SAAS2E,OAAS,EAAG,CAC7D,MAAMsG,EAAkBjO,EAAK+N,QAAQ/K,SAASkL,UAC9C1U,KAAKwJ,SAAW,IAAIiL,KAAoBzU,KAAKwJ,SAC/C,CAEJ,MACA,IAAK,sBACHlC,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMC,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAErC,gBAAtBA,EAAatI,MACbsI,EAAaiK,aAAeH,EAAOG,cAIJ,IAA/BF,EAEF5U,KAAK4K,cAAc5J,KAAK,CACtBuB,KAAM,iBACHoS,IAKL3U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBD,EAEP,IAGEnO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAuBtE,EAAK+N,QAAQ5H,SAG/C,MACA,IAAK,sBACHrF,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMI,EAA0B,CAC9BxS,KAAM,cACNyS,QAASL,EAAOM,QAChBlK,UAAW4J,EAAOO,KAClBnC,iBAAkB4B,EAAOQ,YACzBC,cAAeT,EAAOU,cACtB7J,YAAamJ,EAAOW,aAGhBV,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,gBAAtBA,EAAatI,MAA0BsI,EAAamK,UAAYL,EAAOM,WAG7C,IAA/BL,EAEF5U,KAAK4K,cAAc5J,KAAK+T,GAIxB/U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBG,EAEP,IAIEvO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAsBtE,EAAK+N,QAAQ5H,SAG9C,MACA,IAAK,wBACHrF,QAAQC,IAAI,0BAA2Bf,EAAK+N,SACxCxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQiB,IAEnB,MAAMC,EAA4B,CAChCjT,KAAM,gBACNkT,eAAgBF,EAAcE,eAC9BtQ,UAAWoQ,EAAcpQ,UACzBC,SAAUmQ,EAAcnQ,UAMpBwP,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,kBAAtBA,EAAatI,MAA4BsI,EAAa4K,iBAAmBF,EAAcE,kBAG7D,IAA/Bb,EAEF5U,KAAK4K,cAAc5J,KAAKwU,GAIxBxV,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBY,EAEP,IAIN,MACA,IAAK,2BACHlO,QAAQC,IAAI,8BAA+Bf,EAAK+N,SAC5CxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQoB,IAEnB,MAAMC,EAA+B,CACnCpT,KAAM,mBACNqT,UAAWF,EAAQE,UACnBZ,QAASU,EAAQV,QACjBjK,UAAW2K,EAAQ3K,UACnB8K,gBAAiBH,EAAQlE,OACzBhH,SAAUkL,EAAQtQ,SAClBmF,UAAWmL,EAAQvQ,WAIrBnF,KAAK4K,cAAc5J,KAAK2U,EAA6B,IAG3D,MAEJ,CAAE,MAAOlO,GACPH,QAAQG,MAAM,oCAAqCA,EACrD,KAEEjB,EAAKsP,cAAe,CAEtBxO,QAAQC,IAAI,2BAA4Bf,EAAKsP,eAC7C,MAAMC,EAAqBC,OAAOC,OAAOzP,EAAKsP,eAC9CnV,aAAakB,QAAQ,gBAAiBL,KAAKM,UAAUiU,GACvD,CACIvP,EAAK2P,eAEP7O,QAAQC,IAAI,0BAA2Bf,EAAK2P,cAC5CxV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK2P,gBAEvD3P,EAAK4P,eAEP9O,QAAQC,IAAI,0BAA2Bf,EAAK4P,cAC5CzV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK4P,gBAEvD5P,EAAKwM,kBACP1L,QAAQC,IAAI,yBAA0Bf,EAAKwM,iBAC3CrS,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU0E,EAAKwM,mBAE1DxM,EAAK6P,aACP/O,QAAQC,IAAI,wBAAyBf,EAAK6P,YAC1C1V,aAAakB,QAAQ,aAAcL,KAAKM,UAAU0E,EAAK6P,cAErD7P,EAAK8P,oBACPhP,QAAQC,IAAI,gCAAiCf,EAAK8P,mBAClD3V,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAU0E,EAAK8P,oBAElE,EAGA2G,gBAAAA,GACE,MAAMjI,EAAUhV,KAAKgd,OAAOhL,OAAOgD,QACnChV,KAAKiH,OAAOC,KAAM,qBAAqB,CAAE8N,QAASA,GAAW,CAAEyI,iBAAiB,IAC7EtW,MAAKC,IACJE,QAAQC,IAAIH,GACVpH,KAAKuX,MAAQnQ,EAASZ,KACtB,MAAM+S,EAAYnS,EAASZ,KAC3BxG,KAAK+K,UAAYwO,EAAUzZ,KAC3BE,KAAK+S,iBAAmBwG,EAAU/B,WAAW,IAEhDhQ,OAAMC,IACHH,QAAQG,MAAM,iCAAkCA,EAAM,GAE9D,EAEAoC,eAAAA,CAAgBiT,GACd,MAAMrG,EAAcjV,KAAKC,MAAMd,aAAaS,QAAQ,SAC9C8M,EAAeuI,EAAYvD,OAC3BlG,EAAY,IAAID,KAGhBiI,EAAU8H,EAAc9H,QAAU0I,SAASZ,EAAc9H,QAAS,SAAMlB,EAExE6J,EAAkBC,MAAM5I,QAAqBlB,EAAVkB,EAGzC,IAAI0B,EAAiB,CACnBnU,KAAM,cACNgS,QAAS,CACPrG,aAAcA,EACdpB,QAASgQ,EAAchQ,QACvBE,UAAWA,EAAU4J,cACrB5B,QAAS2I,EACThU,OAAQ3J,KAAKuJ,cAAgBvJ,KAAKuJ,mBAAgBuK,IAItDxM,QAAQC,IAAI,wBAAyB/F,KAAKM,UAAU4U,IACpD1W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU4U,GAC9B,EAEA+E,gBAAAA,GACEzb,KAAK0b,gBAAkB1b,KAAK0b,eACxB1b,KAAK0b,gBACP1b,KAAK6d,mBAET,EACAA,iBAAAA,GACEC,QAAQC,IAAI,CAAC/d,KAAK4Z,aAAc5Z,KAAKkd,oBAAqBld,KAAKge,sBAC5D7W,MAAK,KACJnH,KAAKie,sCAAsC,IAE5CzW,OAAMC,GAASH,QAAQG,MAAM,+BAAgCA,IAClE,EAGAoM,aAAAA,CAAclK,GACZ,MAAMuU,EAAale,KAAKgV,QAAU0I,SAAS1d,KAAKgV,QAAS,IAAM,KAC/D,IAAI8B,EAAe,CACjBvU,KAAM,gBACNgS,QAAS,CACP5K,OAAQA,KACJsE,OAAOkQ,UAAUD,IAAe,CAAElJ,QAASkJ,KAInD5W,QAAQC,IAAI,8BAA+BoC,GAC3CrC,QAAQC,IAAI,kCAAmCuP,GAC/C9W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUgV,GAC9B,EAEA/M,eAAAA,CAAgBJ,QAEiBmK,IAA3B9T,KAAK6S,UAAUlJ,KACjB3J,KAAK6S,UAAUlJ,IAAU,EAE7B,EAEAiQ,UAAAA,GACE,OAAO5Z,KAAKiH,OAAO6K,IAAI,cACpB3K,MAAKC,IAEJpH,KAAKgY,eAAiB5Q,EAASZ,IAAI,IAEpCgB,OAAMC,IAEL,MADAH,QAAQG,MAAM,wBAAyBA,GACjCA,CAAK,GAEjB,EAEAuW,iBAAAA,GACE,MAAMzJ,EAAU,CAAES,QAAS0I,SAAS1d,KAAKgV,QAAS,KAClD,OAAOhV,KAAKiH,OAAOC,KAAK,oBAAqBqN,GAC1CpN,MAAKC,IAEJpH,KAAKwZ,eAAiBpS,EAASZ,KAAKmN,KAAIgB,GAAUA,EAAOzB,QAAO,IAEjE1L,OAAMC,IAEL,MADAH,QAAQG,MAAM,gCAAiCA,GACzCA,CAAK,GAEjB,EAGAwW,oCAAAA,GACE,MAAMG,EAAkB,IAAIC,IAAI,IAAIre,KAAK+a,aAAapH,KAAIqH,GAAUA,EAAO9H,YAAYlT,KAAKwZ,iBAC5FxZ,KAAK2b,cAAgB3b,KAAKgY,eAAevO,QAAOpC,IAAS+W,EAAgBE,IAAIjX,EAAK6L,SACpF,EAGA0I,iBAAAA,GACE,MAAMrH,EAAU,CACdS,QAAS0I,SAAS1d,KAAKgV,QAAS,IAChCwE,eAAgBxZ,KAAKiR,iBAGvB3J,QAAQC,WAAWgN,EAAQiF,eAAiBjF,EAAQiF,gBACpDlS,QAAQC,WAAWgN,EAAQS,QAAUT,EAAQS,SAE7ChV,KAAKiH,OAAOC,KAAK,mBAAoBqN,GAClCpN,MAAKC,IACJE,QAAQC,IAAI,iCAAkCH,EAASZ,MACvDqT,MAAM,kCAEN7Z,KAAKiR,gBAAkB,GACvBwI,SAASC,QAAQ,IAElBlS,OAAMC,IACLH,QAAQG,MAAM,6BAA8BA,EAAM,GAGxD,EAEAsQ,WAAAA,GAEEzQ,QAAQC,IAAI,yBAA0BvH,KAAK+K,UAAW/K,KAAK+S,iBAAkB/S,KAAKiR,iBAElF,MAAMsI,EAAY,CAChBhC,MAAO,CACLzX,KAAME,KAAK+K,UACXyM,YAAaxX,KAAK+S,kBAEpByG,eAAgBxZ,KAAKiR,iBAGvBjR,KAAKiH,OAAOC,KAAK,mBAAoBqS,GACpCpS,MAAKC,IAEJE,QAAQC,IAAI,iBAAkBH,EAASZ,MAGvCxG,KAAKsX,OAAOtW,KAAKoG,EAASZ,MAG1BxG,KAAK+K,UAAY,GACjB/K,KAAK+S,iBAAmB,GACxB/S,KAAKiR,gBAAkB,EAAE,IAK1BzJ,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAEjD,EAEAyV,iBAAAA,GACEld,KAAKiH,OAAO6K,IAAK,6BAA4B9R,KAAKgV,WAC/C7N,MAAKC,IACAA,EAASZ,MACXc,QAAQC,IAAI,wBAAyBH,EAASZ,MAC9CxG,KAAK+a,aAAe3T,EAASZ,OAE7Bc,QAAQC,IAAI,6CACZvH,KAAK+a,aAAe,GACtB,IAEDvT,OAAMC,IACLH,QAAQG,MAAM,gCAAiCA,EAAM,GAE3D,EAEA8T,kBAAAA,CAAmBvG,GACjB1N,QAAQC,IAAK,0CAAyCyN,KACtD,MAAMuJ,EAAmB,CACvBhc,KAAM,gBACNgS,QAAS,CACPS,YAGJhV,KAAKmb,eAAgB,EACrBnb,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyc,GAC9B,EAEAf,2BAAAA,CAA4BhX,GAC1Bc,QAAQC,IAAI,kBAAmBf,GAE/BxG,KAAKuJ,cAAgB/C,EAAKmD,OAE1B3J,KAAK6T,cAAc7T,KAAKuJ,cAC1B,EAEA+S,WAAAA,GAEE,MAAMzV,EAAQ,CACZmE,MAAOhL,KAAKuc,UACZ/E,YAAaxX,KAAKwc,iBAClBgC,SAAUxe,KAAKyc,cAAgB,OAC/BgC,eAAgBze,KAAKiR,gBACrByN,aAAc1e,KAAK8I,cACnBkM,QAAS0I,SAAS1d,KAAKgV,QAAS,KAIlChV,KAAK2e,YAAY9X,EACnB,EAEA8X,WAAAA,CAAY9X,GAEVS,QAAQC,IAAI,kBAAmBV,GAC/B7G,KAAKiH,OAAOC,KAAK,mBAAoBL,GACpCM,MAAKC,IACJE,QAAQC,IAAI,iBAAkBH,EAASZ,MAEvCxG,KAAKuc,UAAY,GACjBvc,KAAKwc,iBAAmB,GACxBxc,KAAKyc,cAAgB,GACrBzc,KAAKiR,gBAAkB,GACvBjR,KAAKwb,qBAAsB,CAAK,IAEjChU,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAM,GAGjD,EAEA0V,WAAAA,GACE,MAAM9L,EAAUrR,KAAKgV,QACrB1N,QAAQC,IAAK,gCAA+B8J,KAC5CrR,KAAKiH,OAAO6K,IAAK,sBAAqBT,KACrClK,MAAKC,IACAA,EAASZ,MACXc,QAAQC,IAAI,gCAAiCH,EAASZ,MACtDxG,KAAK6b,OAASzU,EAASZ,OAGvBc,QAAQC,IAAI,2CACZvH,KAAK6b,OAAS,GAChB,IAEDrU,OAAMC,IACLH,QAAQG,MAAM,0CAA2CA,EAAM,GAEnE,EAEAsU,WAAAA,CAAY6C,GACV5e,KAAKgc,gBAAkBhc,KAAKgc,kBAAoB4C,EAAU,KAAOA,CACnE,EAEAlU,wBAAAA,GAGE,GAFA1K,KAAK2K,6BAA+B3K,KAAK2K,4BAErC3K,KAAK2K,4BAA6B,CAEpC,MAAMoM,EAAoB,CAAC,cAAe,cAAe,qBAAsB,yBAC/EA,EAAkBzC,SAAQ/R,IACxB,MAAMgS,EAAU,CACdhS,KAAMA,EACNgS,QAAS,CACP/C,OAAQxR,KAAK8I,gBAGjBxB,QAAQC,IAAI,6BAA+BhF,EAAO,IAAKgS,GACvDvU,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyS,GAAS,GAEzC,CACF,EAEApJ,cAAAA,CAAeN,EAAcmM,EAAcC,GACzC,IAAIC,EAEiB,UAAjBD,EACFC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPO,WAAYjK,EAAaiK,WACzBtD,OAAQxR,KAAK8I,cACb1B,SAAU4P,IAGY,UAAjBC,EACTC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPS,QAASnK,EAAamK,QACtBxD,OAAQxR,KAAK8I,cACbqO,OAAQH,IAGc,WAAjBC,GACTC,EAAkB,CAChB3U,KAAMyU,EAAe,sBAAwB,uBAC7CzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb2M,eAAgB5K,EAAa4K,iBAKjCzV,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAG5BlX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAsB,kBAAdA,EAAK7U,MAA4B6U,EAAK3B,iBAAmB5K,EAAa4K,kBAEnG,qBAAjBwB,IACTC,EAAkB,CAChB3U,KAAMyU,EAAe,yBAA2B,0BAChDzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb8M,UAAW/K,EAAa+K,aAM9BtO,QAAQC,IAAK,GAAE0P,sCAAkDC,GACjElX,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAEP,qBAAjBD,EACFjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAQA,EAAKxB,YAAc/K,EAAa+K,YAC7D,UAAjBqB,GAA6C,UAAjBA,IACrCjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAyB,UAAjBH,EAA2BG,EAAKtC,aAAejK,EAAaiK,WAAasC,EAAKpC,UAAYnK,EAAamK,UAElK,IG75BJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,yECPI1S,EAAAA,EAAAA,GACM,OADDD,MAAM,0BAAwB,W,IAE9BA,MAAM,0B,IACJA,MAAM,U,IAORA,MAAM,0B,IAIRA,MAAM,kB,IACJA,MAAM,mB,IACAA,MAAM,gB,IACRA,MAAM,0B,IAoBNA,MAAM,a,YACXC,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,K,GAxCpB,Y,GAAA,Q,IAAAF,IAAA,EA6C8CC,MAAM,oB,IAMvCA,MAAM,gB,IAKNA,MAAM,8B,YAEPC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,4qBAO6C,K,IAdzDzC,I,YAoBFvD,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,IAEdD,MAAM,qB,IAhFnBD,IAAA,G,IAAAA,IAAA,EAmF8CC,MAAM,wB,IACnCA,MAAM,wB,IAIJA,MAAM,oB,GAxFzB,Y,GAAA,Y,IAAAD,IAAA,G,IAgGiBC,MAAM,wB,IAIJA,MAAM,oB,GApGzB,Y,GAAA,Y,IAAAD,IAAA,G,IA2GiBC,MAAM,0B,IAGJA,MAAM,oB,GA9GzB,Y,GAAA,Y,IAAAD,IAAA,G,IAqHiBC,MAAM,8B,IAGJA,MAAM,oB,GAxHzB,Y,GAAA,Y,IAiIaA,MAAM,8B,YAELC,EAAAA,EAAAA,GAiBO,QAjBDD,MAAM,gBAAc,EACxBC,EAAAA,EAAAA,GAeM,OAfDuF,QAAQ,MAAMC,MAAM,6BACvBC,MAAM,eAAeC,OAAO,eAAeC,QAAQ,4BACnDC,oBAAoB,iB,EAEpB5F,EAAAA,EAAAA,GAUI,KAVD6F,UAAU,2DACbC,KAAK,UAAUC,OAAO,Q,EACtB/F,EAAAA,EAAAA,GAOuD,QAPjDgG,EAAE,0rBAO6C,K,IAdzDoI,I,YAoBFpO,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,K,YAErBA,EAAAA,EAAAA,GAAqB,UAAjB,gBAAY,K,GAzJxB,Q,IAAAF,IAAA,G,IAAAA,IAAA,G,mIAAA1C,EAAAA,EAAAA,IAAA6I,EAAAA,GAAA,OACIjG,EAAAA,EAAAA,GAcO,eAbP3C,IAEA2C,EAAAA,EAAAA,GAOM,MAPNc,GAOM,EANJd,EAAAA,EAAAA,GAKI,MALJe,GAKI,EAJJzD,EAAAA,EAAAA,IAAuD4I,EAAA,CAA1CC,GAAG,IAAIpG,MAAM,Y,CANhCqG,SAAAC,EAAAA,EAAAA,KAM2C,IAAI,EAN/CC,EAAAA,EAAAA,IAM2C,WAN3CC,EAAA,KAOMjJ,EAAAA,EAAAA,IAA+D4I,EAAA,CAAlDC,GAAG,UAAUpG,MAAM,Y,CAPtCqG,SAAAC,EAAAA,EAAAA,KAOiD,IAAM,EAPvDC,EAAAA,EAAAA,IAOiD,aAPjDC,EAAA,KAQMjJ,EAAAA,EAAAA,IAA6D4I,EAAA,CAAhDC,GAAG,SAASpG,MAAM,Y,CARrCqG,SAAAC,EAAAA,EAAAA,KAQgD,IAAK,EARrDC,EAAAA,EAAAA,IAQgD,YARhDC,EAAA,KASMjJ,EAAAA,EAAAA,IAAqF4I,EAAA,CAAvEC,GAAE,YAAc1E,EAAA+E,gBAAiBzG,MAAM,Y,CAT3DqG,SAAAC,EAAAA,EAAAA,KASsE,IAAO,EAT7EC,EAAAA,EAAAA,IASsE,cATtEC,EAAA,G,eAYIvG,EAAAA,EAAAA,GAEM,MAFN2B,GAEM,EADJ3B,EAAAA,EAAAA,GAA8C,UAArCmB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAgF,cAAAhF,EAAAgF,gBAAAjF,KAAc,gBAGlCxB,EAAAA,EAAAA,GA4KM,MA5KNiC,GA4KM,EA3KJjC,EAAAA,EAAAA,GA0KM,MA1KNkC,GA0KM,EAzKJlC,EAAAA,EAAAA,GAmBU,UAnBVoC,GAmBU,EAlBRpC,EAAAA,EAAAA,GAWM,MAXNwC,GAWM,gBAVJpF,EAAAA,EAAAA,IASE6I,EAAAA,GAAA,MA7BZU,EAAAA,EAAAA,IAqB+BlF,EAAAmF,mBAAZC,K,WADTC,EAAAA,EAAAA,IASEC,EAAA,CAPCjH,IAAK+G,EAASG,OACdC,cAAeJ,EAASG,OACxBE,SAAUtG,EAAAsG,SAASC,QAAOC,GAAKA,EAAEC,SAAWR,EAASG,SACrDR,cAAe/E,EAAA+E,cACfc,oBAAqB7F,EAAA8F,gBACrBC,YAAW/F,EAAAgG,gBACZ1H,MAAM,e,qGAIVzC,EAAAA,EAAAA,IAEEoJ,EAAA,CADDF,cAAe/E,EAAA+E,eAAa,6BAM/BxG,EAAAA,EAAAA,GAWQ,QAXR0C,GAWQ,CAVNvC,IACAH,EAAAA,EAAAA,GAQK,0BAPH5C,EAAAA,EAAAA,IAMK6I,EAAAA,GAAA,MAhDfU,EAAAA,EAAAA,IA0CiC/F,EAAA8G,iBAAZb,K,WAAXzJ,EAAAA,EAAAA,IAMK,MANoC0C,IAAK+G,EAASc,OAASxG,QAAKE,GAAEI,EAAAmG,gBAAgBf,I,EACrF7G,EAAAA,EAAAA,GAAmG,OAA7F6H,IAAKhB,EAASiB,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OA3C/FkD,KAAAqD,EAAAA,EAAAA,IA2C+G,KACnGjE,EAAAA,EAAAA,IAAIwE,EAASoB,UAAY,IAAMpB,EAASqB,UAAY,IACpD,GAAYrB,EAASsB,cAAW,WAAhC/K,EAAAA,EAAAA,IAEO,OAFP+F,IAEOd,EAAAA,EAAAA,IADFwE,EAASsB,aAAW,KA9CrC7F,EAAAA,EAAAA,IAAA,UAAAlC,O,WAmDMJ,EAAAA,EAAAA,GAGQ,QAHRqD,GAGQ,CAFQ5B,EAAA8a,wBAAqB,WAAnCnf,EAAAA,EAAAA,IAA6G,UApDrH0C,IAAA,EAoD8CqB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAA4b,mBAAqB5b,EAAA4b,oBAAmB,qBApD7Fla,EAAAA,EAAAA,IAAA,QAqDQtC,EAAAA,EAAAA,GAAwE,UAA/DmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEI,EAAA2G,6BAA4B,0BAE9CpI,EAAAA,EAAAA,GAwEQ,SAxEDD,OAvDbiB,EAAAA,EAAAA,IAAA,CAuDmB,sBAAqB,cAAyBJ,EAAAyH,gC,EACzDrI,EAAAA,EAAAA,GAuBM,MAvBNsD,GAuBM,EAtBJtD,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAyH,6BAA8B,IAzDxD7H,IA8EUC,MAEFT,EAAAA,EAAAA,GA8CM,MA9CNU,GA8CM,gBA7CJtD,EAAAA,EAAAA,IA4CM6I,EAAAA,GAAA,MA7HhBU,EAAAA,EAAAA,IAiFsC/F,EAAA0H,eAAhBC,K,WAAZnL,EAAAA,EAAAA,IA4CM,OA5CsC0C,IAAKyI,EAAapL,GAAI4C,MAAM,gB,CACrC,gBAAtBwI,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAUM,MA5FlBuD,GAAA,CAmFyBC,EAAA4H,sBAAmB,WAA9BpL,EAAAA,EAAAA,IAA4F,MAA5FwG,IAA4FvB,EAAAA,EAAAA,IAA5BzB,EAAA4H,qBAAmB,KAnFjGlG,EAAAA,EAAAA,IAAA,QAoFctC,EAAAA,EAAAA,GAGI,IAHJ+D,GAGI,EAvFlBuC,EAAAA,EAAAA,IAoF8C,+BACLtG,EAAAA,EAAAA,GAA6C,eAAAqC,EAAAA,EAAAA,IAAlCkG,EAAaE,WAAS,IArF1EnC,EAAAA,EAAAA,IAqFsF,YAAOtG,EAAAA,EAAAA,GAA2C,cAAnC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaG,OAAQ,IAAC,IArF/HpC,EAAAA,EAAAA,IAqFwI,SACrHtG,EAAAA,EAAAA,GAAuF,eAAAqC,EAAAA,EAAAA,IAA5EkG,EAAaI,kBAAmB,KAACtG,EAAAA,EAAAA,IAAGkG,EAAaK,iBAAe,MAEhF5I,EAAAA,EAAAA,GAGM,MAHNgE,GAGM,EAFJhE,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,QAASoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,QAAS,UAAU,QAAK,EAzFnGtE,KA0FgBjE,EAAAA,EAAAA,GAAuG,UAA/FD,MAAM,WAAYoB,QAAKE,GAAEI,EAAAoH,eAAeN,EAAc,YAAa,UAAU,YAAS,EA1F9GO,SA8FkD,gBAAtBP,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAUM,MAxGlB2L,GAAA,EAgGc/I,EAAAA,EAAAA,GAGI,IAHJgJ,GAGI,EAnGlB1C,EAAAA,EAAAA,IAgG8C,8CACUtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAjG9FnC,EAAAA,EAAAA,IAiGuG,SACpFtG,EAAAA,EAAAA,GAA+C,eAAAqC,EAAAA,EAAAA,IAApCkG,EAAaW,aAAW,IAlGtD5C,EAAAA,EAAAA,IAkGkE,SAEpDtG,EAAAA,EAAAA,GAGM,MAHNiJ,GAGM,EAFJjJ,EAAAA,EAAAA,GAA2F,UAAnFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,UAAU,SAAM,EArGlGY,KAsGgBnJ,EAAAA,EAAAA,GAA8F,UAAtFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,UAAU,UAAO,EAtGrGa,SA0GkD,kBAAtBb,EAAatI,OAAI,WAAjC7C,EAAAA,EAAAA,IAQM,MAlHlBiM,GAAA,EA2GcrJ,EAAAA,EAAAA,GAEI,IAFJsJ,GAEI,EADAtJ,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAa1F,WAAY,KAACR,EAAAA,EAAAA,IAAGkG,EAAazF,UAAQ,IA5G/EwD,EAAAA,EAAAA,IA4G2F,6BAE7EtG,EAAAA,EAAAA,GAGM,MAHNuJ,GAGM,EAFJvJ,EAAAA,EAAAA,GAA4F,UAApFD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,WAAW,SAAM,EA/GnGiB,KAgHgBxJ,EAAAA,EAAAA,GAA+F,UAAvFD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,WAAW,UAAO,EAhHtGkB,UAAAnH,EAAAA,EAAAA,IAAA,OAoH6C,qBAAtBiG,EAAatI,OAAI,WAA5B7C,EAAAA,EAAAA,IAQM,MA5HlBsM,GAAA,EAqHc1J,EAAAA,EAAAA,GAEI,IAFJ2J,GAEI,EADF3J,EAAAA,EAAAA,GAAyE,eAAAqC,EAAAA,EAAAA,IAA9DkG,EAAaN,WAAY,KAAC5F,EAAAA,EAAAA,IAAGkG,EAAaL,UAAQ,IAtH7E5B,EAAAA,EAAAA,IAsHyF,+BAA0BtG,EAAAA,EAAAA,GAA+C,cAAvC,KAACqC,EAAAA,EAAAA,IAAGkG,EAAaE,WAAY,IAAC,IAtHzJnC,EAAAA,EAAAA,IAsHkK,SAEpJtG,EAAAA,EAAAA,GAGM,MAHN4J,GAGM,EAFJ5J,EAAAA,EAAAA,GAAsG,UAA9FD,MAAM,SAAUoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAM,qBAAqB,SAAM,EAzH7GsB,KA0HgB7J,EAAAA,EAAAA,GAAyG,UAAjGD,MAAM,UAAWoB,QAAKE,GAAEI,EAAAoH,eAAeN,GAAc,EAAO,qBAAqB,UAAO,EA1HhHuB,UAAAxH,EAAAA,EAAAA,IAAA,Y,sBAgIMtC,EAAAA,EAAAA,GAyDQ,SAzD0BD,OAhIxCiB,EAAAA,EAAAA,IAAA,CAgI8C,oBAAmB,cAAyBJ,EAAA4b,sB,EAClFxc,EAAAA,EAAAA,GAuBQ,MAvBR+J,GAuBQ,EAtBJ/J,EAAAA,EAAAA,GAmBS,UAnBAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAET,EAAA4b,mBAAoB,EAAO5b,EAAA0H,cAAgB,EAAE,IAlIzE+F,IAuJYC,KAEJqH,IACA3V,EAAAA,EAAAA,GAA6G,OAAvG6H,IAAKjH,EAAA6b,SAAS3U,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,kBAAkBjI,MAAM,yB,OA1J7F6V,KA2JQ5V,EAAAA,EAAAA,GAAwC,SAArC,cAAUqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS/Y,UAAQ,IACjC1D,EAAAA,EAAAA,GAA6D,SAA1D,UAAMqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS5Z,WAAY,KAACR,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS3Z,UAAQ,IACtD9C,EAAAA,EAAAA,GAAkC,SAA/B,WAAOqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS7Z,OAAK,IAC3B5C,EAAAA,EAAAA,GAA2D,SAAxD,mBAAeqC,EAAAA,EAAAA,IAAGZ,EAAAib,UAAU9b,EAAA6b,SAAS1Z,cAAW,IACnD/C,EAAAA,EAAAA,GAAoC,SAAjC,YAAQqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS9Y,QAAM,IAC7B3D,EAAAA,EAAAA,GAAuC,SAApC,cAAUqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAAS5Y,SAAO,IAChC7D,EAAAA,EAAAA,GAAqD,SAAlD,qBAAiBqC,EAAAA,EAAAA,IAAGzB,EAAA6b,SAASzZ,gBAAc,IAC9ChD,EAAAA,EAAAA,GAAiE,SAA9D,qBAAiBqC,EAAAA,EAAAA,IAAGZ,EAAA6L,gBAAgB1M,EAAA6b,SAASE,YAAS,GAC3Clb,EAAA+E,gBAAkB5F,EAAA6b,SAAS7L,SAAM,WAA/CxT,EAAAA,EAAAA,IAES,UArKjB0C,IAAA,EAmK0DqB,QAAKC,EAAA,KAAAA,EAAA,OAAAI,IAAEC,EAAAmb,sBAAAnb,EAAAmb,wBAAApb,M,QACxB,WAA5BZ,EAAA6b,SAASzZ,eAA8B,eAAiB,eAAjC,KApKpCV,EAAAA,EAAAA,IAAA,QAuKQtC,EAAAA,EAAAA,GAEM,OAFAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAic,eAAiBjc,EAAAic,gBAAe,eACjCxa,EAAAA,EAAAA,IAAGzB,EAAAkc,UAAUjR,QAAM,GAErBjL,EAAAic,gBAAa,WAAvBzf,EAAAA,EAAAA,IAIK,KA9KbyY,GAAA,gBA2KUzY,EAAAA,EAAAA,IAEK6I,EAAAA,GAAA,MA7KfU,EAAAA,EAAAA,IA2K6B/F,EAAAkc,WAAR/X,K,WAAX3H,EAAAA,EAAAA,IAEK,MAF0B0C,IAAKiF,EAAK6L,S,QACpC7L,EAAKlC,UAAY,IAAMkC,EAAKjC,UAAQ,M,UA5KnDR,EAAAA,EAAAA,IAAA,QAgLQtC,EAAAA,EAAAA,GAEM,OAFAmB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAET,EAAAmc,eAAiBnc,EAAAmc,gBAAe,eACjC1a,EAAAA,EAAAA,IAAGzB,EAAAoc,UAAUnR,QAAM,GAErBjL,EAAAmc,gBAAa,WAAvB3f,EAAAA,EAAAA,IAIK,KAvLb0Y,GAAA,gBAoLU1Y,EAAAA,EAAAA,IAEK6I,EAAAA,GAAA,MAtLfU,EAAAA,EAAAA,IAoLiC/F,EAAAoc,WAAZC,K,WAAX7f,EAAAA,EAAAA,IAEK,MAF8B0C,IAAKmd,EAASrM,S,QAC5CqM,EAASpa,UAAY,IAAMoa,EAASna,UAAQ,M,UArL3DR,EAAAA,EAAAA,IAAA,kBAgIqB1B,EAAA4b,0BAAiB,G,kEC7H/Bzc,MAAM,qB,IAEJA,MAAM,sB,IALfD,IAAA,EAMmCC,MAAM,kB,IAE1BA,MAAM,e,GARrB,Q,IAUiBA,MAAM,a,IACHA,MAAM,a,IACNA,MAAM,a,IAIXA,MAAM,a,IAhBrBD,IAAA,EAiBmCC,MAAM,gB,GAjBzC,Q,IAAAD,IAAA,G,YAwBQE,EAAAA,EAAAA,GAA0B,SAAvB,uBAAmB,K,IAAtBmD,I,2CArBN/F,EAAAA,EAAAA,IAyBM,MAzBNC,GAyBM,EAvBJ2C,EAAAA,EAAAA,GAqBM,MArBNc,GAqBM,CApBOF,EAAAgO,MAAM/C,OAAS,IAAH,WAAvBzO,EAAAA,EAAAA,IAgBM,MAhBN2D,GAgBM,gBAfL3D,EAAAA,EAAAA,IAcO6I,EAAAA,GAAA,MArBdU,EAAAA,EAAAA,IAO2B/F,EAAAgO,OAARhK,K,WAAZxH,EAAAA,EAAAA,IAcO,OAdqB0C,IAAK8E,EAAKyI,OAAQtN,MAAM,a,EACjDC,EAAAA,EAAAA,GAMM,MANN2B,GAMM,EALJ3B,EAAAA,EAAAA,GAA+F,OAAzF6H,IAAKjD,EAAKkD,gBAAkBlH,EAAAmH,kBAAmBC,IAAI,gBAAgBjI,MAAM,iB,OAT3FkC,KAUYjC,EAAAA,EAAAA,GAGM,MAHNkC,GAGM,EAFJlC,EAAAA,EAAAA,GAAuE,OAAvEoC,IAAuEC,EAAAA,EAAAA,IAA5CuC,EAAK/B,WAAY,KAACR,EAAAA,EAAAA,IAAGuC,EAAK9B,UAAQ,IAC7D9C,EAAAA,EAAAA,GAAoE,OAApEwC,IAAoEH,EAAAA,EAAAA,IAAzCZ,EAAA6L,gBAAgB1I,EAAK8F,YAAS,QAI7D1K,EAAAA,EAAAA,GAGM,MAHN0C,GAGM,CAFKkC,EAAK4F,UAAO,WAArBpN,EAAAA,EAAAA,IAAkE,IAAlE+C,IAAkEkC,EAAAA,EAAAA,IAAnBuC,EAAK4F,SAAO,KAjBvElI,EAAAA,EAAAA,IAAA,OAkBuBsC,EAAK2I,WAAQ,WAAxBnQ,EAAAA,EAAAA,IAAmF,OAlB/F0C,IAAA,EAkBuC+H,IAAKjD,EAAK2I,SAAUvF,IAAI,aAAajI,MAAM,c,OAlBlFK,MAAAkC,EAAAA,EAAAA,IAAA,c,sBAuBMlF,EAAAA,EAAAA,IAEM,MAzBZ6F,GAAAI,Q,CAmCE,QACEa,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnBC,YAAavP,KAAKC,MAAMd,aAAaS,QAAQ,UAAY,CAAC,EAC1D4I,gBAAiBxI,KAAKC,MAAMd,aAAaS,QAAQ,qBAAuB,GACxE8P,MAAO,GAEX,EACAvC,OAAAA,GACE3O,KAAKmR,aACLnR,KAAK+Q,YAAcvP,KAAKC,MAAMd,aAAaS,QAAQ,UAAY,CAAC,CAClE,EACAsF,SAAU,CACRwJ,SAAAA,GAEE,OAAOlQ,KAAK+Q,YAAY3G,gBAAkB0G,EAC5C,GAEFjD,MAAO,CACL/E,cAAemF,OACfoD,QAAS,CACP9O,KAAM,CAAC0L,OAAQH,OAAQ,MACvBpF,QAAS,OAGbxI,QAAS,CACP0P,eAAAA,CAAgB5C,GAEd,MAAMsE,EAAO,IAAIvE,KAAKC,GACtB,OAAOsE,EAAKC,mBAAmB,QACjC,EAEAJ,UAAAA,GAEE,MAAMK,EAASxR,KAAKgd,OAAOhL,OAAOR,OAGlCxR,KAAKiH,OAAO6K,IAAK,2BAA0BN,KACxCrK,MAAKC,IACJE,QAAQC,IAAI,+BAAgCH,EAASZ,MACrDxG,KAAKkR,MAAQnD,MAAMoF,QAAQ/L,EAASZ,MAAQY,EAASZ,KAAO,EAAE,IAE/DgB,OAAMC,IACLH,QAAQG,MAAM,wBAAyBA,EAAML,SAAWK,EAAML,SAASZ,KAAOiB,EAAMkF,QAAQ,GAElG,IC1EN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UF4LA,IACE7M,KAAM,cACNyS,WAAY,CACVC,WAAU,GACVC,iBAAgBA,IAElBjM,IAAAA,GACE,MAAO,CACL6D,kBAAmByG,GACnB4B,GAAI,KACJC,UAAW,yBACX3I,gBAAiB,GACjBW,6BAA6B,EAC7BnB,SAAU,GACVoJ,oBAAqB,CAAC,EACtBpF,WAAY,GACZjE,cAAe,KACfsJ,UAAW,CAAC,EACZ9H,UAAW,GACXgI,iBAAkB,GAClBnI,cAAe,GACfE,oBAAqB,GACrBgU,mBAAmB,EACnBC,SAAU,CAAC,EACXO,UAAW,GACXF,UAAW,GACXC,eAAe,EACfF,eAAe,EACf7Z,eAAgB,SAEpB,EACAqJ,OAAAA,GACE3O,KAAKiT,qBACLjT,KAAKkW,oBACLlW,KAAKwf,iBACLxf,KAAKyf,mBACL,MAAMhJ,EAAcjV,KAAKC,MAAMd,aAAaS,QAAQ,gBAChDqV,GAAeA,EAAYvD,SAC7BlT,KAAK8I,cAAgB2N,EAAYvD,OAErC,EACAxM,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,eACbmC,aAAAA,GACE,MAAMzB,EAAO7F,KAAKC,MAAMd,aAAaS,QAAQ,SAC7C,OAAOiG,EAAOA,EAAK6L,OAAS,IAC9B,EACAhK,iBAAAA,GACE,OAAK6E,MAAMoF,QAAQnT,KAAKgK,iBAGjBhK,KAAKgK,gBAAgBP,QAAON,GAAYnJ,KAAK6S,UAAU1J,EAASG,UAF9D,EAGX,EACAuV,qBAAAA,GACE,MAAMa,EAAU1f,KAAK8I,gBAAkB9I,KAAK+e,SAAS7L,OAC/C+G,EAAaja,KAAKsf,UAAUnN,MAAKoN,GAAYA,EAASrM,SAAWlT,KAAK8I,gBACtE6W,EAAmD,WAAjC3f,KAAK+e,SAASzZ,eAEtC,OAAOqa,GAAmBD,GAAWzF,CACvC,GAEF/Z,QAAS,KACJ0G,EAAAA,EAAAA,IAAW,CAAC,WACfmC,YAAAA,GACE/I,KAAKiH,OAAOC,KAAK,eACdC,MAAK,KACJnH,KAAKmC,SACLnC,KAAKwT,SAASC,OAAO,cACrB9S,aAAaC,QACbZ,KAAKe,QAAQC,KAAK,WAAW,IAE9BwG,OAAMC,IACLH,QAAQG,MAAM,iBAAkBA,EAAM,GAE5C,EAEAyC,eAAAA,CAAgBf,GACd7B,QAAQC,IAAI,yBAA0B4B,EAASG,QAC/CtJ,KAAKuJ,cAAgBJ,EAASG,OAC9BtJ,KAAK0T,sBAAwBvK,EAASc,OAGtCjK,KAAK4S,oBAAoBzJ,EAASG,QAAU,EAG5CtJ,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWH,EAASG,OACnB,IAAKsK,EAAKnJ,YAAa,GAEzBmJ,IAGT5T,KAAK6T,cAAc1K,EAASG,aAGYwK,IAApC9T,KAAK6S,UAAU1J,EAASG,QAC1BtJ,KAAK6S,UAAU1J,EAASG,SAAU,EAElCtJ,KAAK6S,UAAU1J,EAASG,SAAWtJ,KAAK6S,UAAU1J,EAASG,OAE/D,EAEAS,eAAAA,CAAgBJ,QAEiBmK,IAA3B9T,KAAK6S,UAAUlJ,KACjB3J,KAAK6S,UAAUlJ,IAAU,EAE7B,EAEAkK,aAAAA,CAAclK,GACZ,IAAImN,EAAe,CACjBvU,KAAM,gBACNgS,QAAS,CACP5K,OAAQA,IAIZrC,QAAQC,IAAI,8BAA+BoC,GAC3C3J,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUgV,GAC9B,EAEA7D,kBAAAA,GACE3L,QAAQC,IAAI,sCACZvH,KAAK0S,GAAK,IAAIqB,UAAU/T,KAAK2S,WAC7B3S,KAAK0S,GAAGsB,iBAAiB,QAAQ,KAAQ1M,QAAQC,IAAI,mBAAmB,IACxEvH,KAAK0S,GAAGsB,iBAAiB,UAAWhU,KAAKkU,kBACzClU,KAAK0S,GAAGsB,iBAAiB,SAASvM,IAAWH,QAAQG,MAAM,oBAAqBA,EAAM,IACtFzH,KAAK0S,GAAGsB,iBAAiB,SAAS,KAAQ1M,QAAQC,IAAI,8BAA8B,GACtF,EAEAsC,eAAAA,CAAgB8C,EAAShD,GACvB,MAAM+M,EAAiB,CACrBnU,KAAM,cACNgS,QAAS,CACPrG,aAAclO,KAAK8I,cACnBgE,QAASH,EACThD,OAAQA,EACRqD,WAAW,IAAID,MAAO6J,gBAG1BtP,QAAQC,IAAI,wBAAyBmP,GACrC1W,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAU4U,GAC9B,EAEAR,iBAAAA,GAEE,MAAMK,EAAY5V,aAAaS,QAAQ,iBACnCmV,EACFvW,KAAKgK,gBAAkBxI,KAAKC,MAAM8U,GAElCjP,QAAQC,IAAI,0BAEhB,EAEAiN,iBAAAA,CAAkB7K,GAEhB3J,KAAK4S,oBAAoBjJ,IAAW3J,KAAK4S,oBAAoBjJ,IAAW,GAAK,EAG7E3J,KAAKgK,gBAAkBhK,KAAKgK,gBAAgB2J,KAAIC,GAC1CA,EAAItK,SAAWK,EACV,IAAKiK,EAAKnJ,YAAazK,KAAK4S,oBAAoBjJ,IAElDiK,GAEX,EAEAlJ,wBAAAA,GAGE,GAFA1K,KAAK2K,6BAA+B3K,KAAK2K,4BAErC3K,KAAK2K,4BAA6B,CAEpC,MAAMoM,EAAoB,CAAC,cAAe,cAAe,qBAAsB,yBAC/EA,EAAkBzC,SAAQ/R,IACxB,MAAMgS,EAAU,CACdhS,KAAMA,EACNgS,QAAS,CACP/C,OAAQxR,KAAK8I,gBAGjBxB,QAAQC,IAAI,6BAA+BhF,EAAO,IAAKgS,GACvDvU,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUyS,GAAS,GAEzC,CACF,EAEApJ,cAAAA,CAAeN,EAAcmM,EAAcC,GACzC,IAAIC,EAEiB,UAAjBD,EACFC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPO,WAAYjK,EAAaiK,WACzBtD,OAAQxR,KAAK8I,cACb1B,SAAU4P,IAGY,UAAjBC,EACTC,EAAkB,CAChB3U,KAAM,kBACNgS,QAAS,CACPS,QAASnK,EAAamK,QACtBxD,OAAQxR,KAAK8I,cACbqO,OAAQH,IAGc,WAAjBC,GACTC,EAAkB,CAChB3U,KAAMyU,EAAe,sBAAwB,uBAC7CzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb2M,eAAgB5K,EAAa4K,iBAKjCzV,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAG5BlX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAsB,kBAAdA,EAAK7U,MAA4B6U,EAAK3B,iBAAmB5K,EAAa4K,kBAEnG,qBAAjBwB,IACTC,EAAkB,CAChB3U,KAAMyU,EAAe,yBAA2B,0BAChDzC,QAAS,CACP/C,OAAQxR,KAAK8I,cACb8M,UAAW/K,EAAa+K,aAM9BtO,QAAQC,IAAK,GAAE0P,sCAAkDC,GACjElX,KAAK0S,GAAGmE,KAAKrV,KAAKM,UAAUoV,IAEP,qBAAjBD,EACFjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAQA,EAAKxB,YAAc/K,EAAa+K,YAC7D,UAAjBqB,GAA6C,UAAjBA,IACrCjX,KAAK4K,cAAgB5K,KAAK4K,cAAcnB,QAAO2N,GAAyB,UAAjBH,EAA2BG,EAAKtC,aAAejK,EAAaiK,WAAasC,EAAKpC,UAAYnK,EAAamK,UAElK,EAEAd,gBAAAA,CAAiBrN,GACfS,QAAQC,IAAI,8BAA+BV,EAAML,MAGjD,MAAMgD,EAAW3C,EAAML,KAAKlG,MAAM,MAAMmJ,QAAO4K,GAAOA,EAAI5T,SAE1D,IAAI+F,EA6JJ,GA1JAgD,EAAS8K,SAAS3H,IAChB,IAGE,OAFAnG,EAAOhF,KAAKC,MAAMkL,GAEVnG,EAAKjE,MACX,IAAK,cACCiE,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,cAC/BvJ,KAAKwJ,SAASxI,KAAKwF,EAAK+N,SAGnBvU,KAAK6S,UAAUrM,EAAK+N,QAAQ5K,SAC/B3J,KAAKwU,kBAAkBhO,EAAK+N,QAAQ5K,QAG1C,MACA,IAAK,wBAEH,GADArC,QAAQC,IAAI,oBAAqBf,EAAK+N,SAClC/N,EAAK+N,QAAQ5K,SAAW3J,KAAKuJ,eAE3B/C,EAAK+N,QAAQ/K,UAAYhD,EAAK+N,QAAQ/K,SAAS2E,OAAS,EAAG,CAC7D,MAAMsG,EAAkBjO,EAAK+N,QAAQ/K,SAASkL,UAC9C1U,KAAKwJ,SAAW,IAAIiL,KAAoBzU,KAAKwJ,SAC/C,CAEJ,MACA,IAAK,sBACHlC,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMC,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAErC,gBAAtBA,EAAatI,MACbsI,EAAaiK,aAAeH,EAAOG,cAIJ,IAA/BF,EAEF5U,KAAK4K,cAAc5J,KAAK,CACtBuB,KAAM,iBACHoS,IAKL3U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBD,EAEP,IAGEnO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAuBtE,EAAK+N,QAAQ5H,SAG/C,MACA,IAAK,sBACHrF,QAAQC,IAAI,iCAAkCf,EAAK+N,SAC/CxG,MAAMoF,QAAQ3M,EAAK+N,SACrB/N,EAAK+N,QAAQD,SAAQK,IAEnB,MAAMI,EAA0B,CAC9BxS,KAAM,cACNyS,QAASL,EAAOM,QAChBlK,UAAW4J,EAAOO,KAClBnC,iBAAkB4B,EAAOQ,YACzBC,cAAeT,EAAOU,cACtB7J,YAAamJ,EAAOW,aAGhBV,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,gBAAtBA,EAAatI,MAA0BsI,EAAamK,UAAYL,EAAOM,WAG7C,IAA/BL,EAEF5U,KAAK4K,cAAc5J,KAAK+T,GAIxB/U,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBG,EAEP,IAIEvO,EAAK+N,QAAQ5H,UACf3M,KAAK8K,oBAAsBtE,EAAK+N,QAAQ5H,SAG9C,MACA,IAAK,wBACHrF,QAAQC,IAAI,0BAA2Bf,EAAK+N,SACxCxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQiB,IAEnB,MAAMC,EAA4B,CAChCjT,KAAM,gBACNkT,eAAgBF,EAAcE,eAC9BtQ,UAAWoQ,EAAcpQ,UACzBC,SAAUmQ,EAAcnQ,UAMpBwP,EAA4B5U,KAAK4K,cAAciK,WAAUhK,GAChC,kBAAtBA,EAAatI,MAA4BsI,EAAa4K,iBAAmBF,EAAcE,kBAG7D,IAA/Bb,EAEF5U,KAAK4K,cAAc5J,KAAKwU,GAIxBxV,KAAK4K,cAAcgK,GAA6B,IAC3C5U,KAAK4K,cAAcgK,MACnBY,EAEP,IAIN,MACA,IAAK,2BACHlO,QAAQC,IAAI,8BAA+Bf,EAAK+N,SAC5CxG,MAAMoF,QAAQ3M,EAAK+N,UACrB/N,EAAK+N,QAAQD,SAAQoB,IAEnB,MAAMC,EAA+B,CACnCpT,KAAM,mBACNqT,UAAWF,EAAQE,UACnBZ,QAASU,EAAQV,QACjBjK,UAAW2K,EAAQ3K,UACnB8K,gBAAiBH,EAAQlE,OACzBhH,SAAUkL,EAAQtQ,SAClBmF,UAAWmL,EAAQvQ,WAIrBnF,KAAK4K,cAAc5J,KAAK2U,EAA6B,IAG3D,MAEJ,CAAE,MAAOlO,GACPH,QAAQG,MAAM,oCAAqCA,EACrD,KAEEjB,EAAKsP,cAAe,CAEtBxO,QAAQC,IAAI,2BAA4Bf,EAAKsP,eAC7C,MAAMC,EAAqBC,OAAOC,OAAOzP,EAAKsP,eAC9CnV,aAAakB,QAAQ,gBAAiBL,KAAKM,UAAUiU,GACvD,CACIvP,EAAK2P,eAEP7O,QAAQC,IAAI,0BAA2Bf,EAAK2P,cAC5CxV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK2P,gBAEvD3P,EAAK4P,eAEP9O,QAAQC,IAAI,0BAA2Bf,EAAK4P,cAC5CzV,aAAakB,QAAQ,eAAgBL,KAAKM,UAAU0E,EAAK4P,gBAEvD5P,EAAKwM,kBACP1L,QAAQC,IAAI,yBAA0Bf,EAAKwM,iBAC3CrS,aAAakB,QAAQ,kBAAmBL,KAAKM,UAAU0E,EAAKwM,mBAE1DxM,EAAK6P,aACP/O,QAAQC,IAAI,wBAAyBf,EAAK6P,YAC1C1V,aAAakB,QAAQ,aAAcL,KAAKM,UAAU0E,EAAK6P,cAErD7P,EAAK8P,oBACPhP,QAAQC,IAAI,gCAAiCf,EAAK8P,mBAClD3V,aAAakB,QAAQ,oBAAqBL,KAAKM,UAAU0E,EAAK8P,oBAElE,EAEA0I,SAAAA,CAAU1N,GACR,OAAO,IAAIvE,KAAKuE,GAAMC,mBAAmB,QAAS,CAChDqO,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAEzC,EAEAlQ,eAAAA,CAAgB5C,GAEd,MAAMsE,EAAO,IAAIvE,KAAKC,GACtB,OAAOsE,EAAKC,mBAAmB,QACjC,EAEAiO,cAAAA,GAEE,MAAMhO,EAASxR,KAAKgd,OAAOhL,OAAOR,OAGlCxR,KAAKiH,OAAO6K,IAAK,4BAA2BN,KACzCrK,MAAKC,IACJE,QAAQC,IAAI,oCAAqCH,EAASZ,MAG1DxG,KAAKof,UAAY,GACjBpf,KAAKsf,UAAY,GAGblY,EAASZ,MAAQuH,MAAMoF,QAAQ/L,EAASZ,MAE1CY,EAASZ,KAAK8N,SAAQjN,IACM,cAAtBA,EAAK0Y,aACP/f,KAAKof,UAAUpe,KAAKqG,GACW,aAAtBA,EAAK0Y,cACd/f,KAAKsf,UAAUte,KAAKqG,EACtB,IAIFC,QAAQC,IAAI,iDAAkDiK,EAChE,IAEDhK,OAAMC,IACLH,QAAQG,MAAM,6BAA8BA,EAAML,SAAWK,EAAML,SAASZ,KAAOiB,EAAMkF,QAAQ,GAEvG,EAGE8S,gBAAAA,GAEE,MAAMjO,EAASxR,KAAKgd,OAAOhL,OAAOR,OAGlCxR,KAAKiH,OAAO6K,IAAK,0BAAyBN,KACvCrK,MAAKC,IACJE,QAAQC,IAAIH,EAASZ,MACrBxG,KAAK+e,SAAW3X,EAASZ,IAAI,IAE9BgB,OAAMC,IACLH,QAAQG,MAAM,+BAAgCA,EAAM,GAE1D,EAEAyX,oBAAAA,GACE,MAAMc,EAAqD,WAAjChgB,KAAK+e,SAASzZ,eAA8B,UAAY,SAElFtF,KAAKiH,OAAOC,KAAK,4BAA6B,CAC5CsK,OAAQxR,KAAK+e,SAAS7L,OACtB5N,eAAgB0a,IAEjB7Y,MAAKC,IACJE,QAAQC,IAAI,2BAA4BH,EAASZ,MAEjDxG,KAAK+e,SAASzZ,eAAiB0a,CAAiB,IAEjDxY,OAAMC,IACLH,QAAQG,MAAM,kCAAmCA,EAAM,GAE3D,IG9rBN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCEA,MAAMwY,GAAS,CACb,CACEC,KAAM,WACNpgB,KAAM,UACNqgB,UAAWC,EACXC,KAAM,CAAEC,cAAc,IAExB,CACEJ,KAAM,IACNpgB,KAAM,OACNqgB,UAAWI,GACXF,KAAM,CAAEC,cAAc,IAExB,CACEJ,KAAM,UACNpgB,KAAM,SACNqgB,UAAWK,GACXH,KAAM,CAAEC,cAAc,IAExB,CACEJ,KAAM,SACNpgB,KAAM,QACNqgB,UAAWM,GACXJ,KAAM,CAAEC,cAAc,IAExB,CACEJ,KAAM,kBACNpgB,KAAM,cACNqgB,UAAWO,GACXL,KAAM,CAAEC,cAAc,IAExB,CACEJ,KAAM,oBACNpgB,KAAM,cACNqgB,UAAWQ,GACXN,KAAM,CAAEC,cAAc,KAOpBpe,IAAS0e,EAAAA,EAAAA,IAAa,CAC1BC,SAASC,EAAAA,EAAAA,MACTb,YAGF/d,GAAO6e,YAAW,CAACtY,EAAIuY,EAAMC,KAE3B,MAAMX,EAAe7X,EAAGyY,QAAQ/O,MAAKgP,GAAUA,EAAOd,KAAKC,eACrD/e,EAAa6f,EAAM9f,MAAMC,WAE3B+e,IAAiB/e,EACnB0f,EAAK,aACKX,GAAgB/e,EAC1B0f,EAAK,KAELA,GACF,IAGF,U,sBC/DA3O,GAAAA,EAAM+O,SAASC,QAAU,wBACzBhP,GAAAA,EAAM+O,SAAS5D,iBAAkB,EAEjC,MAAM8D,IAAMC,EAAAA,EAAAA,IAAUC,GAEtBF,GAAIG,IAAIC,MACRJ,GAAIG,IAAIxf,IACRqf,GAAIG,IAAIN,GAERG,GAAIK,OAAOC,iBAAiB5a,OAASqL,GAAAA,EAErCiP,GAAIO,MAAM,QAELP,GAAIK,OAAOC,iBAAiBrO,SAASuO,MAAM,gBAC9CphB,aAAaC,QACbwgB,EAAMtgB,SAAS,UACfoB,GAAOlB,KAAK,Y,GCxBVghB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBpO,IAAjBqO,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBvY,EAAI4Y,E,WCzBxB,IAAIE,EAAW,GACfP,EAAoBQ,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIR,EAASrU,OAAQ6U,IAAK,CACrCL,EAAWH,EAASQ,GAAG,GACvBJ,EAAKJ,EAASQ,GAAG,GACjBH,EAAWL,EAASQ,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAASxU,OAAQ+U,MACpB,EAAXL,GAAsBC,GAAgBD,IAAa7M,OAAOmN,KAAKlB,EAAoBQ,GAAGW,OAAM,SAAShhB,GAAO,OAAO6f,EAAoBQ,EAAErgB,GAAKugB,EAASO,GAAK,IAChKP,EAAShR,OAAOuR,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbT,EAAS7Q,OAAOqR,IAAK,GACrB,IAAIK,EAAIT,SACE9O,IAANuP,IAAiBX,EAASW,EAC/B,CACD,CACA,OAAOX,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIR,EAASrU,OAAQ6U,EAAI,GAAKR,EAASQ,EAAI,GAAG,GAAKH,EAAUG,IAAKR,EAASQ,GAAKR,EAASQ,EAAI,GACrGR,EAASQ,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBqB,EAAI,SAASjB,GAChC,IAAIkB,EAASlB,GAAUA,EAAOmB,WAC7B,WAAa,OAAOnB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoB3Z,EAAEib,EAAQ,CAAEE,EAAGF,IAC5BA,CACR,C,eCNAtB,EAAoB3Z,EAAI,SAAS8Z,EAASsB,GACzC,IAAI,IAAIthB,KAAOshB,EACXzB,EAAoB0B,EAAED,EAAYthB,KAAS6f,EAAoB0B,EAAEvB,EAAShgB,IAC5E4T,OAAO4N,eAAexB,EAAShgB,EAAK,CAAEyhB,YAAY,EAAM/R,IAAK4R,EAAWthB,IAG3E,C,eCPA6f,EAAoB6B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO/jB,MAAQ,IAAIgO,SAAS,cAAb,EAChB,CAAE,MAAOgW,GACR,GAAsB,kBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBhC,EAAoB0B,EAAI,SAASO,EAAKC,GAAQ,OAAOnO,OAAOoO,UAAUC,eAAe9B,KAAK2B,EAAKC,EAAO,C,eCCtGlC,EAAoBoB,EAAI,SAASjB,GACX,qBAAXkC,QAA0BA,OAAOC,aAC1CvO,OAAO4N,eAAexB,EAASkC,OAAOC,YAAa,CAAE/hB,MAAO,WAE7DwT,OAAO4N,eAAexB,EAAS,aAAc,CAAE5f,OAAO,GACvD,C,eCDA,IAAIgiB,EAAkB,CACrB,IAAK,GAaNvC,EAAoBQ,EAAES,EAAI,SAASuB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4Bne,GAC/D,IAKI0b,EAAUuC,EALV9B,EAAWnc,EAAK,GAChBoe,EAAcpe,EAAK,GACnBqe,EAAUre,EAAK,GAGIwc,EAAI,EAC3B,GAAGL,EAASxQ,MAAK,SAAS1S,GAAM,OAA+B,IAAxB+kB,EAAgB/kB,EAAW,IAAI,CACrE,IAAIyiB,KAAY0C,EACZ3C,EAAoB0B,EAAEiB,EAAa1C,KACrCD,EAAoBvY,EAAEwY,GAAY0C,EAAY1C,IAGhD,GAAG2C,EAAS,IAAInC,EAASmC,EAAQ5C,EAClC,CAEA,IADG0C,GAA4BA,EAA2Bne,GACrDwc,EAAIL,EAASxU,OAAQ6U,IACzByB,EAAU9B,EAASK,GAChBf,EAAoB0B,EAAEa,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOxC,EAAoBQ,EAAEC,EAC9B,EAEIoC,EAAqBC,KAAK,8BAAgCA,KAAK,+BAAiC,GACpGD,EAAmBxQ,QAAQoQ,EAAqBM,KAAK,KAAM,IAC3DF,EAAmB9jB,KAAO0jB,EAAqBM,KAAK,KAAMF,EAAmB9jB,KAAKgkB,KAAKF,G,IC/CvF,IAAIG,EAAsBhD,EAAoBQ,OAAE3O,EAAW,CAAC,MAAM,WAAa,OAAOmO,EAAoB,KAAO,IACjHgD,EAAsBhD,EAAoBQ,EAAEwC,E","sources":["webpack://social-network/./src/App.vue","webpack://social-network/./src/App.vue?7ccd","webpack://social-network/./src/store/index.js","webpack://social-network/./src/views/AuthenticationModal.vue","webpack://social-network/./src/views/AuthenticationModal.vue?8ac5","webpack://social-network/./src/views/MainContainer.vue","webpack://social-network/./src/components/ChatWindow.vue","webpack://social-network/./src/components/ChatWindow.vue?d527","webpack://social-network/./src/components/ContentContainer.vue","webpack://social-network/./src/constants.js","webpack://social-network/./src/components/ContentContainer.vue?adb7","webpack://social-network/./src/views/MainContainer.vue?52e2","webpack://social-network/./src/views/GroupsPage.vue","webpack://social-network/./src/views/GroupsPage.vue?d555","webpack://social-network/./src/views/UsersPage.vue","webpack://social-network/./src/views/UsersPage.vue?365c","webpack://social-network/./src/views/GroupDetail.vue","webpack://social-network/./src/components/GroupChatWindow.vue","webpack://social-network/./src/components/GroupChatWindow.vue?235a","webpack://social-network/./src/views/GroupDetail.vue?d46b","webpack://social-network/./src/views/ProfilePage.vue","webpack://social-network/./src/components/ProfileContentContainer.vue","webpack://social-network/./src/components/ProfileContentContainer.vue?2f1d","webpack://social-network/./src/views/ProfilePage.vue?ccbe","webpack://social-network/./src/router/index.js","webpack://social-network/./src/main.js","webpack://social-network/webpack/bootstrap","webpack://social-network/webpack/runtime/chunk loaded","webpack://social-network/webpack/runtime/compat get default export","webpack://social-network/webpack/runtime/define property getters","webpack://social-network/webpack/runtime/global","webpack://social-network/webpack/runtime/hasOwnProperty shorthand","webpack://social-network/webpack/runtime/make namespace object","webpack://social-network/webpack/runtime/jsonp chunk loading","webpack://social-network/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created() {\n    this.checkCookie();\n  },\n  methods: {\n    checkCookie() {\n      const sessionIdCookie = document.cookie.split(';').find(row => row.trim().startsWith('session_id='));\n      if (!sessionIdCookie) {\n        localStorage.clear();\n        this.$store.dispatch('logOut');\n        this.$router.push('/welcome');\n      } \n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=4647e860\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4647e860&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// src/store/index.js\nimport { createStore } from 'vuex';\nimport router from '../router';\n\n// Check if there's a login status stored in localStorage\nconst savedLoggedInStatus = localStorage.getItem('isLoggedIn');\n\nexport default createStore({\n  state: {\n    isLoggedIn: savedLoggedInStatus ? JSON.parse(savedLoggedInStatus) : false,\n  },\n  mutations: {\n    setLoggedIn(state, status) {\n      state.isLoggedIn = status;\n\n      // Store the login status in localStorage\n      localStorage.setItem('isLoggedIn', JSON.stringify(status));\n    }\n  },\n  actions: {\n    logIn({ commit }) {\n      commit('setLoggedIn', true);\n      router.push('/'); // use router.push instead of this.$router.push\n    },\n    logOut({ commit }) {\n      commit('setLoggedIn', false);\n      router.push('/welcome');\n    }\n  }\n});\n","<template>\n  <div class=\"modal\" v-if=\"showModal\">\n    <div class=\"form-container\">\n      <div class=\"tabs\">\n      <div class=\"tab\" :class=\"{active: showForm === 'signup'}\" @click=\"showForm = 'signup'\">Register</div>\n      <div class=\"tab\" :class=\"{active: showForm === 'signin'}\" @click=\"showForm = 'signin'\">Login</div>\n    </div>\n\n    <!-- Sign In Form -->\n    <form v-if=\"showForm === 'signin'\" @submit.prevent=\"handleSignIn\" class=\"form-content\">\n      <h2>Sign In</h2>\n      <input type=\"text\" placeholder=\"Email or Nickname\" v-model=\"signInUser.credential\" name=\"credential\" required>\n      <input type=\"password\" placeholder=\"Password\" v-model=\"signInUser.password\" name=\"password\" required>\n      <button type=\"submit\">Sign In</button>\n      <br>\n      <div v-if=\"signInError\" class=\"error-message\">{{ signInError }}</div>\n    </form>\n\n    <!-- Sign Up Form -->\n    <form v-if=\"showForm === 'signup'\" @submit.prevent=\"handleSignUp\" class=\"form-content\">\n      <h2>Register</h2>\n      <!-- Step 1: Required fields -->\n      <div v-if=\"signUpStep === 1\">\n        <input type=\"email\" placeholder=\"Email\" v-model=\"signUpUser.email\" required>\n        <input type=\"password\" placeholder=\"Password\" v-model=\"signUpUser.password\" required>\n        <input type=\"text\" placeholder=\"First Name\" v-model=\"signUpUser.firstName\" required>\n        <input type=\"text\" placeholder=\"Last Name\" v-model=\"signUpUser.lastName\" required>\n        <input type=\"date\" placeholder=\"Date of Birth\" v-model=\"signUpUser.dateOfBirth\" required>\n        <select v-model=\"signUpUser.profilePrivacy\">\n          <option value=\"Public\">Account Privacy - Public</option>\n          <option value=\"Private\">Account Privacy - Private</option>\n        </select>\n        <button type=\"button\" @click=\"nextStep\">Next</button>\n        <br>\n        <div v-if=\"signUpError\" class=\"error-message\">{{ signUpError }}</div>\n      </div>\n\n      <!-- Step 2: Optional fields -->\n      <div v-if=\"signUpStep === 2\">\n        <h4>Optional</h4>\n        <input type=\"file\" @change=\"handleFileUpload\">\n        <input type=\"text\" placeholder=\"Nickname\" v-model=\"signUpUser.nickname\">\n        <select v-model=\"signUpUser.gender\">\n          <option value=\"\" disabled selected hidden>Gender</option>\n          <option value=\"\">Prefer not to say</option>\n          <option value=\"Male\">Male</option>\n          <option value=\"Female\">Female</option>\n        </select>\n        <textarea placeholder=\"About Me\" v-model=\"signUpUser.aboutMe\"></textarea>\n        <button type=\"button\" @click=\"previousStep\">Previous</button>\n        <button type=\"submit\">Sign Up</button>\n        <br>\n        <div v-if=\"signUpError\" class=\"error-message\">{{ signUpError }}</div>\n      </div>\n    </form>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  data() {\n    return {\n      showModal: true,\n      showForm: 'signin', // This can be 'signin' or 'signup'\n      signInUser: {\n        credential: '', // This replaces the email field to be more generic\n        password: '',\n      },\n      signUpStep: 1,\n      signUpUser: {\n        email: '',\n        password: '',\n        firstName: '',\n        lastName: '',\n        dateOfBirth: null,\n        avatar: null,\n        nickname: '',\n        aboutMe: '',\n        profilePrivacy: 'Public',\n        gender: ''\n      },\n      signInError: '',\n      signUpError: '',\n    };\n  },\n  computed: {\n    ...mapState(['isLoggedIn']),\n  },\n  methods: {\n    ...mapActions(['logIn', 'logOut']),\n    nextStep() {\n      this.signUpStep++;\n    },\n    previousStep() {\n      this.signUpStep--;\n    },\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      this.signUpUser.avatar = file;\n    },\n    handleSignIn() {\n      this.$axios.post('/api/login', {\n        credential: this.signInUser.credential,\n        password: this.signInUser.password\n      }).then(response => {\n        this.logIn(); // Vuex action to update state\n        this.showModal = false;\n        const { user } = response.data;\n        localStorage.setItem('user', JSON.stringify(user));\n        this.signInError = '';\n        console.log('Sign In Success:', response);\n        // Handle login success\n      }).catch(error => {\n        console.error('Sign In Error:', error);\n        this.signInError = error.response.data.error || 'Sign In failed. Please try again.';\n        // Handle login error\n      });\n    },\n\n    handleSignUp() {\n      const formData = new FormData();\n      formData.append('Email', this.signUpUser.email);\n      formData.append('Password', this.signUpUser.password);\n      formData.append('FirstName', this.signUpUser.firstName);\n      formData.append('LastName', this.signUpUser.lastName);\n      formData.append('DateOfBirth', this.signUpUser.dateOfBirth);\n      formData.append('ProfilePrivacy', this.signUpUser.profilePrivacy);\n      formData.append('Gender', this.signUpUser.gender);\n      if (this.signUpUser.avatar) {\n        formData.append('profilePicture', this.signUpUser.avatar);\n      }\n      formData.append('Nickname', this.signUpUser.nickname);\n      formData.append('AboutMe', this.signUpUser.aboutMe);\n\n      this.$axios.post('/api/register', formData).then(response => {\n        console.log(response);\n        this.showForm = 'signin'; // Switch to Sign In form\n        this.signUpError = '';\n        // Fill in the email and password fields in the sign-in form\n        this.signInUser.credential = this.signUpUser.email;\n        this.signInUser.password = this.signUpUser.password;\n      }).catch(error => {\n        console.error(error);\n        this.signUpError = error.response.data.error || 'Registration failed. Please try again.';\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  position: fixed; /* Stay in place */\n  z-index: 1000; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  display: flex;\n  flex-direction: column;\n  align-items: center; /* Align the content vertically */\n  justify-content: center; /* Align the content horizontally */\n}\n\n.form-container {\n  max-width: 500px; /* Maximum width of the form */\n}\n\n.tabs {\n  display: flex;\n  width: 100%;\n}\n\n.tab {\n  flex: 1;\n  text-align: center;\n  padding: 10px 0;\n  cursor: pointer;\n  background-color: rgb(177, 177, 177); /* Non-active tab background */\n}\n\n.tab.active {\n  background-color: white; /* Active tab background */\n}\n\n.form-content {\n  background-color: white; /* Form background */\n  padding: 20px; /* Same as your existing form padding */\n  width: 100%;\n}\n\nform {\n  background: white;\n  padding: 20px;\n  border-radius: 0px 0px 8px 8px;\n  box-shadow: 0 4px 10px rgba(0,0,0,0.1);\n  width: 100%;\n  min-height: 490px;\n  text-align: center;\n}\n\ninput[type=email],\ninput[type=password],\ninput[type=text],\ninput[type=date],\ninput[type=file],\ntextarea {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px;\n  margin-top: 8px; /* Margin top */\n  margin-bottom: 8px; /* Margin bottom */\n  border: 1px solid #ccc; /* Border */\n  border-radius: 4px; /* Rounded borders */\n}\n\nselect {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 10px;\n  margin-top: 8px; /* Margin top */\n  margin-bottom: 8px; /* Margin bottom */\n  border: 1px solid #ccc; /* Border */\n  border-radius: 4px; /* Rounded borders */\n  background-color: white;\n  color: #333;\n  cursor: pointer;\n}\n\nselect:invalid { color: gray; }\n\n/* Style for option elements to match the select */\noption {\n  padding: 10px;\n  background-color: white;\n  color: #333;\n}\n\nbutton {\n  background-color: #42b983; /* Green background */\n  color: white;\n  padding: 14px 20px;\n  margin: 8px 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #333; /* Darker background on hover */\n}\n\n@media screen and (min-width: 768px) {\n  /* On larger screens, the form can be a bit wider */\n  form {\n    width: 70%;\n    max-width: 400px;\n  }\n}\n</style>\n","import { render } from \"./AuthenticationModal.vue?vue&type=template&id=af0baf24&scoped=true\"\nimport script from \"./AuthenticationModal.vue?vue&type=script&lang=js\"\nexport * from \"./AuthenticationModal.vue?vue&type=script&lang=js\"\n\nimport \"./AuthenticationModal.vue?vue&type=style&index=0&id=af0baf24&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-af0baf24\"]])\n\nexport default __exports__","<template>\n  <header>\n    <div class=\"header-element-wrapper\">\n      <h1>Welcome to the Home Page</h1>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <nav class=\"navbar\">\n        <router-link to=\"/\" class=\"nav-item\">HOME</router-link>\n        <router-link to=\"/groups\" class=\"nav-item\">GROUPS</router-link>\n        <router-link to=\"/users\" class=\"nav-item\">USERS</router-link> \n        <router-link :to=\"`/profile/${currentUserId}`\" class=\"nav-item\">PROFILE</router-link>\n      </nav>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <button @click=\"handleLogout\">Log Out</button>\n    </div>\n  </header>\n  <div class=\"main-container\">\n    <div class=\"content-wrapper\">\n      <section class=\"content-body\">\n        \n        <ContentContainer \n        :currentUserId=\"currentUserId\"\n        />\n\n        <div class=\"chat-windows-container\">\n          <ChatWindow\n            v-for=\"relation in filteredOpenChats\"\n            :key=\"relation.RoomID\"\n            :currentRoomId=\"relation.RoomID\"\n            :messages=\"messages.filter(m => m.roomId === relation.RoomID)\"\n            :currentUserId=\"currentUserId\"\n            :sendMessageFunction=\"sendChatMessage\"\n            @closeChat=\"handleCloseChat\"\n            class=\"chat-window\"\n          />\n        </div>\n      </section>\n      <aside class=\"user-list\">\n        <h2>Contacts</h2>\n        <ul>\n          <li v-for=\"relation in followRelations\" :key=\"relation.UserID\" @click=\"handleUserClick(relation)\">\n            <img :src=\"relation.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n            {{ (relation.FirstName + ' ' + relation.LastName) }}\n            <span v-if=\"relation.UnreadCount\" class=\"unread-indicator\">\n              {{ relation.UnreadCount }}\n            </span>\n          </li>\n        </ul>\n      </aside>\n      <aside class=\"left-sidebar\">\n        <div class=\"action-buttons-left-sidebar\">\n          <button @click=\"toggleNotificationCenter()\">Notification Center</button>\n        </div>\n      </aside>\n      <aside class=\"notification-center\" :class=\"{ 'is-visible': isNotificationCenterVisible }\">\n        <div class=\"notification-center-header\">\n          <button @click=\"isNotificationCenterVisible = false; notifications = [];\">\n            <span class=\"sidebar-back\">\n              <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                preserveAspectRatio=\"xMidYMid meet\">\n\n                <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                fill=\"#000000\" stroke=\"none\">\n                <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                </g>\n              </svg>\n            </span>\n          </button>\n\n          <h2>Notifications</h2>\n        </div>\n        <div class=\"notification-list\">\n          <div v-for=\"notification in notifications\" :key=\"notification.id\" class=\"notification\">\n            <div v-if=\"notification.type === 'eventInvite'\">\n              <div v-if=\"notificationMessage\" class=\"notification-message\">{{ notificationMessage }}</div>\n              <p class=\"event-invite-message\">\n                You have been invited to <strong>{{ notification.groupName }}</strong> event <strong>\"{{ notification.title }}\"</strong>\n                by <strong>{{ notification.creatorFirstName }} {{ notification.creatorLastName }}</strong>\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"going\" @click=\"handleResponse(notification, 'Going', 'event')\">Going</button>\n                <button class=\"notGoing\" @click=\"handleResponse(notification, 'Not Going', 'event')\">Not Going</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'groupInvite'\">\n              <!-- New groupInvite notification UI -->\n              <p class=\"group-invite-message\">\n                You have been invited to join the group <strong>\"{{ notification.groupName }}\"</strong>\n                by <strong>{{ notification.creatorName }}</strong>. <!-- Consider fetching user's name if possible -->\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'group')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'group')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'followRequest'\">\n              <p class=\"follow-request-message\">\n                  <strong>{{ notification.firstName }} {{ notification.lastName }}</strong> wants to follow you.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'follow')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'follow')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-if=\"notification.type === 'groupJoinRequest'\">\n              <p class=\"group-join-request-message\">\n                <strong>{{ notification.FirstName }} {{ notification.LastName }}</strong> wants to join your group <strong>\"{{ notification.groupName }}\"</strong>.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'groupJoinRequest')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'groupJoinRequest')\">Decline</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport ChatWindow from '@/components/ChatWindow.vue';\nimport ContentContainer from '@/components/ContentContainer.vue';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '@/constants';\n\nexport default {\n  name: 'MainContainer',\n  components: {\n    ChatWindow,\n    ContentContainer,\n  },\n  data() {\n    return {\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      ws: null, // WebSocket instance\n      serverUrl: \"ws://localhost:8091/ws\",\n      messages: [],\n      unreadMessagesCount: {},\n      newMessage: \"\",\n      currentRoomId: null,\n      openChats: {},\n      followRelations: [],\n      loadingFollowRelations: true,\n      groupName: '',\n      groupDescription: '',\n      notifications: [],\n      notificationMessage: '',\n      isNotificationCenterVisible: false,\n      pendingRequests: {},\n    };\n  },\n  mounted: function() {\n    this.connectToWebsocket();\n  },\n  computed: {\n    ...mapState(['isLoggedIn']),\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      return user ? user.userID : null;\n    },\n\n    filteredOpenChats() {\n      if (!Array.isArray(this.followRelations)) {\n        return []; // Return an empty array if followRelations is not an array\n      }\n      return this.followRelations.filter(relation => this.openChats[relation.RoomID]);\n    }\n  },\n  watch: {\n    notifications: {\n      handler(newValue, oldValue) {\n        console.log(`Notifications changed`, newValue, oldValue);\n      },\n      deep: true\n    },\n  },\n  methods: {\n    ...mapActions(['logOut']),\n    handleLogout() {\n      this.$axios.post('/api/logout')\n      .then(() => {\n        this.logOut(); \n        this.$cookies.remove('session_id');\n        localStorage.clear();\n        this.$router.push('/welcome');\n      })\n      .catch(error => {\n        console.error('Logout failed:', error);\n      });\n    },\n\n    handleUserClick(relation) {\n      console.log('Opening chat for room:', relation.RoomID);\n      this.currentRoomId = relation.RoomID;\n      this.currentRelationUserId = relation.UserID;\n\n      // Reset unread message count when opening the chat\n      this.unreadMessagesCount[relation.RoomID] = 0;\n\n      // Update the followRelations to trigger reactivity\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === relation.RoomID) {\n          return { ...rel, UnreadCount: 0 };\n        }\n        return rel;\n      });\n\n      this.fetchMessages(relation.RoomID);\n\n      // Toggle the state of the chat window\n      if (this.openChats[relation.RoomID] === undefined) {\n        this.openChats[relation.RoomID] = true;\n      } else {\n        this.openChats[relation.RoomID] = !this.openChats[relation.RoomID];\n      }\n    },\n\n    connectToWebsocket() {\n      console.log(\"Attempting to connect to WebSocket\");\n      this.ws = new WebSocket(this.serverUrl);\n      this.ws.addEventListener('open', this.onWebsocketOpen);\n      this.ws.addEventListener('message', (event) => { this.handleNewMessage(event) });\n      this.ws.addEventListener('error', this.onWebsocketError);\n      this.ws.addEventListener('close', this.onWebsocketClose);\n    },\n\n    onWebsocketOpen() {\n      console.log(\"Connected to WS!\");\n    },\n\n    onWebsocketError(error) {\n      // Handle WebSocket errors\n      console.error(\"WebSocket Error: \", error);\n    },\n\n    onWebsocketClose() {\n      // Handle WebSocket close event\n      console.log(\"WebSocket connection closed\");\n    },\n\n    handleNewMessage(event) {\n      console.log(\"Received WebSocket message:\", event.data);\n\n      // Split the received data by newline and filter out any empty strings\n      const messages = event.data.split('\\n').filter(msg => msg.trim());\n\n      let data;\n\n      // Process each message individually\n      messages.forEach((message) => {\n        try {\n          data = JSON.parse(message);\n          // Now handle the parsed data object as before\n          switch (data.type) {\n            case 'chatMessage':\n              if (data.payload.roomId === this.currentRoomId) {\n                this.messages.push(data.payload);\n              } else {\n                // Increment unread message count if ChatWindow is not open\n                if (!this.openChats[data.payload.roomId]) {\n                  this.updateUnreadCount(data.payload.roomId);\n                }\n              }\n            break;\n            case 'fetchMessagesResponse':\n              console.log(\"Fetched messages:\", data.payload);\n              if (data.payload.roomId === this.currentRoomId) {\n                // Check if messages are present in the payload\n                if (data.payload.messages && data.payload.messages.length > 0) {\n                  const fetchedMessages = data.payload.messages.reverse();\n                  this.messages = [...fetchedMessages, ...this.messages];\n                }\n              }\n            break;\n            case 'eventInviteResponse':\n              console.log(\"Event invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Check if a notification with the same responseId already exists in the array\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return (\n                      notification.type === 'eventInvite' &&\n                      notification.responseId === invite.responseId\n                    );\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push({\n                      type: 'eventInvite',\n                      ...invite,\n                    });\n                  } else {\n                    // If a duplicate is found, you can update the existing notification or skip it\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...invite,\n                    };\n                  }\n                });\n              } else {\n                if (data.payload.message) {\n                  this.notificationMessage = (data.payload.message);\n                }\n              }\n            break;\n            case 'groupInviteResponse':\n              console.log(\"Group invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Construct a notification object for the group invite\n                  const groupInviteNotification = {\n                    type: 'groupInvite', // This is the type for group invite notifications\n                    groupId: invite.GroupID,\n                    groupName: invite.Name,\n                    groupDescription: invite.Description,\n                    creatorUserId: invite.CreatorUserID,\n                    creatorName: invite.CreatorName\n                  };\n                  // Check if a notification for the same group already exists\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'groupInvite' && notification.groupId === invite.GroupID;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(groupInviteNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...groupInviteNotification,\n                    };\n                  }\n                });\n              } else {\n                // If the payload is not an array and contains a message, handle it (e.g., show a message to the user)\n                if (data.payload.message) {\n                  this.notificationMessage = data.payload.message;\n                }\n              }\n            break;\n            case 'followRequestResponse':\n              console.log(\"Follow request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(followRequest => {\n                  // Construct a notification object for the follow request\n                  const followRequestNotification = {\n                    type: 'followRequest', // This is the type for follow request notifications\n                    followerUserId: followRequest.followerUserId,\n                    firstName: followRequest.firstName,\n                    lastName: followRequest.lastName,\n                    // Add any other fields you need for the notification\n                  };\n\n                  // Check if a notification for the same follow request already exists\n                  // You might use a unique identifier, like followerUserId, to check for duplicates\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'followRequest' && notification.followerUserId === followRequest.followerUserId;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(followRequestNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...followRequestNotification,\n                    };\n                  }\n                });\n              }\n\n            break;\n            case 'groupJoinRequestResponse':\n              console.log(\"Group join request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(request => {\n                  // Construct a notification object for the group join request\n                  const groupJoinRequestNotification = {\n                    type: 'groupJoinRequest',\n                    requestId: request.requestId,\n                    groupId: request.groupId,\n                    groupName: request.groupName,\n                    requesterUserId: request.userId,\n                    LastName: request.lastName,\n                    FirstName: request.firstName,\n                  };\n\n                  // Add the new notification\n                  this.notifications.push(groupJoinRequestNotification);\n                });\n              }\n            break;\n            }\n        } catch (error) {\n          console.error(\"Error parsing individual message:\", error);\n        }\n      });\n      if (data.userRelations) {\n        // Handle and save userRelations\n        console.log(\"User relations received:\", data.userRelations);\n        const userRelationsArray = Object.values(data.userRelations);\n        localStorage.setItem('userRelations', JSON.stringify(userRelationsArray));\n        this.loadUserRelations();\n      }\n      if (data.followingMap) {\n        // Handle and save followingMap\n        console.log(\"Following map received:\", data.followingMap);\n        localStorage.setItem('followingMap', JSON.stringify(data.followingMap));\n      }\n      if (data.followersMap) {\n        // Handle and save followersMap\n        console.log(\"Followers map received:\", data.followersMap);\n        localStorage.setItem('followersMap', JSON.stringify(data.followersMap));\n      }\n      if (data.pendingRequests) {\n        console.log(\"Requests map received:\", data.pendingRequests);\n        localStorage.setItem('pendingRequests', JSON.stringify(data.pendingRequests));\n      }\n      if (data.userGroups) {\n        console.log(\"User groups received:\", data.userGroups);\n        localStorage.setItem('userGroups', JSON.stringify(data.userGroups));\n      }\n      if (data.groupJoinRequests) {\n        console.log(\"Group join requests received:\", data.groupJoinRequests);\n        localStorage.setItem('groupJoinRequests', JSON.stringify(data.groupJoinRequests));\n      }\n    },\n\n    updateUnreadCount(roomId) {\n      // Initialize or increment the unread count\n      this.unreadMessagesCount[roomId] = (this.unreadMessagesCount[roomId] || 0) + 1;\n\n      // Update the followRelations to reflect the changes\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === roomId) {\n          return { ...rel, UnreadCount: this.unreadMessagesCount[roomId] };\n        }\n        return rel;\n      });\n    },\n\n    loadUserRelations() {\n      const relations = localStorage.getItem('userRelations');\n      if (relations) {\n        try {\n          const parsedRelations = JSON.parse(relations);\n          this.followRelations = parsedRelations.map(relation => {\n            // Initialize unreadMessagesCount for the room if it doesn't exist\n            if (this.unreadMessagesCount[relation.RoomID] === undefined) {\n              this.unreadMessagesCount[relation.RoomID] = relation.UnreadCount || 0;\n            }\n            return {\n              ...relation,\n              UnreadCount: this.unreadMessagesCount[relation.RoomID]\n            };\n          });\n          // Set loading state to false once data is loaded\n          this.loadingFollowRelations = false;\n        } catch (error) {\n          console.error('Error parsing followRelations from localStorage:', error);\n        }\n      } else {\n        console.log('No followRelations found in localStorage');\n        this.followRelations = [];\n        // Set loading state to false if no data found\n        this.loadingFollowRelations = false;\n      }\n    },\n\n    sendChatMessage(message, roomId) {\n      const currentUser = JSON.parse(localStorage.getItem('user'));\n      const senderUserId = currentUser.userID;\n      // Create a new Date object for the current time\n      const timestamp = new Date();\n      let messagePayload = {\n        type: \"chatMessage\",\n        payload: {\n          senderUserId: senderUserId,\n          receiverUserId: this.currentRelationUserId,\n          content: message,\n          roomId: roomId,\n          // Add the timestamp to the payload\n          timestamp: timestamp.toISOString() // Convert to ISO string format\n        }\n      };\n      console.log(\"Sending chat message with timestamp:\", messagePayload);\n      this.ws.send(JSON.stringify(messagePayload));\n    },\n\n    fetchMessages(roomId) {\n      let fetchPayload = {\n        type: \"fetchMessages\", // Updated type to reflect the new functionality\n        payload: {\n          roomId: roomId\n        }\n      };\n\n      console.log(\"Fetching messages for room:\", roomId);\n      this.ws.send(JSON.stringify(fetchPayload));\n    },\n\n    handleCloseChat(roomId) {\n      // Set the chat window state to closed for the given room ID\n      if (this.openChats[roomId] !== undefined) {\n        this.openChats[roomId] = false;\n        this.messages = [];\n      }\n    },\n\n    toggleNotificationCenter() {\n      this.isNotificationCenterVisible = !this.isNotificationCenterVisible;\n      // If opening the notification center, check for new notifications\n      if (this.isNotificationCenterVisible) {\n        // List of notification types to check\n        const notificationTypes = [\"eventInvite\", \"groupInvite\", \"followRequestCheck\", \"groupJoinRequestCheck\"];\n        notificationTypes.forEach(type => {\n          const payload = {\n            type: type,\n            payload: {\n              userId: this.currentUserId\n            }\n          };\n          console.log(\"Notifications payload for \" + type + \":\", payload);\n          this.ws.send(JSON.stringify(payload));\n        });\n      }\n    },\n\n    handleResponse(notification, userResponse, responseType) {\n      let responsePayload;\n\n      if (responseType === \"event\") {\n        responsePayload = {\n          type: \"eInviteResponse\",\n          payload: {\n            responseId: notification.responseId,\n            userId: this.currentUserId,\n            response: userResponse,\n          },\n        };\n      } else if (responseType === \"group\") {\n        responsePayload = {\n          type: \"gInviteResponse\",\n          payload: {\n            groupId: notification.groupId,\n            userId: this.currentUserId,\n            accept: userResponse,\n          },\n        };\n      } else if (responseType === \"follow\") {\n        responsePayload = {\n          type: userResponse ? \"acceptFollowRequest\" : \"declineFollowRequest\",\n          payload: {\n            userId: this.currentUserId,\n            followerUserId: notification.followerUserId,\n          },\n        };\n\n        // Send the WebSocket message\n        this.ws.send(JSON.stringify(responsePayload));\n\n        // This includes removing the pending follow request notification\n        this.notifications = this.notifications.filter(item => item.type !== 'followRequest' || item.followerUserId !== notification.followerUserId);\n\n      } else if (responseType === \"groupJoinRequest\") {\n        responsePayload = {\n          type: userResponse ? \"acceptGroupJoinRequest\" : \"declineGroupJoinRequest\",\n          payload: {\n            userId: this.currentUserId,\n            requestId: notification.requestId,\n          },\n        };\n      }\n\n\n      console.log(`${responseType} response payload going to backend`, responsePayload);\n      this.ws.send(JSON.stringify(responsePayload));\n\n      if (responseType === \"groupJoinRequest\") {\n        this.notifications = this.notifications.filter(item => item.requestId !== notification.requestId);\n      } else if (responseType === \"event\" || responseType === \"group\") {\n        this.notifications = this.notifications.filter(item => responseType === \"event\" ? item.responseId !== notification.responseId : item.groupId !== notification.groupId);\n      }\n    },\n\n\n\n  }\n}\n</script>\n\n<style>\n\nhtml{\n  font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;\n  height: 100vh;\n  background-color: #F0F2F5;\n}\nbody {\n  position: relative;\n  margin: 0;\n}\n\n.main-container {\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 60px);\n  text-align: center;\n  background-color: #F0F2F5;\n  margin-top: 60px;\n}\n\nheader {\n  background-color: #ffffff;\n  padding: 20px;\n  height: 60px;\n  width: 100%;\n  top: 0;\n  display: flex;\n  position: fixed;\n  box-sizing: border-box;\n  z-index: 5;\n}\n\n.header-element-wrapper {\n  flex: 1; \n  display: flex;\n  align-items: center;\n}\n\n/* Specific alignment for each wrapper */\n.header-element-wrapper:first-child {\n  justify-content: flex-start;\n}\n\n.header-element-wrapper:nth-child(2) {\n  justify-content: center;\n}\n\n.header-element-wrapper:last-child {\n  justify-content: flex-end;\n}\n\nheader h1 {\n  margin: 0px;\n  font-size: 1.5rem;\n}\n\n.content-wrapper {\n  display: flex;\n  flex: 1;\n  height: 100%;\n  justify-content: center;\n}\n\n.content-body {\n  flex: 1;\n  margin: 0 auto;\n  width: 80%;\n  height: 100%;\n  padding: 10px;\n  padding-top: 0;\n  display: flex;\n  flex-direction: column;\n  background-color: #F0F2F5;\n  box-shadow: 0px 24px 19px -30px rgba(0,0,0,0.45) inset;\n  box-sizing: border-box;\n}\n\n.user-list {\n  width: 15%; /* or whatever width you want for the sidebar */\n  height: calc(100vh - (60px));\n  overflow-y: auto;\n  position: fixed;\n  right: 0;\n  overflow-x: hidden;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  background-color: #F0F2F5;\n}\n\n.user-list ul {\n  list-style: none;\n  padding: 10px;\n  margin: 0;\n\n}\n\n.user-list ul li {\n  margin-bottom: 5px;\n  min-height: 25px;\n  width: 250px;\n  padding: 5px;\n  padding-left: 10px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  font-size: 1rem;\n  font-weight: 600;\n  font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;\n  border-radius: 12px;\n\n\n}\n\n.user-list ul li:hover {\n  cursor: pointer;\n  background-color: #E4E6E9;\n}\n\n.user-list h2 {\n  font-weight: 500;\n  color: #333;\n  text-align: left;\n  padding-left: 15px;\n  margin-bottom: 0px;\n}\n\n.left-sidebar {\n  margin: 0;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  width: 15%;\n  padding: 15px;\n  height: calc(100% - 60px);\n  box-sizing: border-box;\n  position: fixed;\n  left: 0;\n  background-color: #F0F2F5;\n  z-index: 2;\n}\n\n.profile-image {\n  width: 35px; /* or any size you prefer */\n  height: 35px;\n  border-radius: 50%; /* Circular images */\n  object-fit: fill; /* Keeps the aspect ratio, and crops the image */\n  margin-right: 10px; /* Adds some spacing between image and text */\n}\n\n.chat-windows-container {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: flex-end;\n  flex-wrap: nowrap;\n  z-index: 5;\n  overflow-x: auto;\n  max-width: 100%;\n  gap: 5px;\n}\n\nheader button {\n  cursor: pointer;\n}\n\n.unread-indicator {\n  background-color: red;\n  color: white;\n  border-radius: 50%;\n  padding: 0 5px;\n  font-size: 0.8em;\n  margin-left: 10px;\n}\n\n.navbar {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 0;\n  gap: 20px;\n}\n\n.nav-item {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: #333;\n  font-weight: bold;\n  gap: 8px; /* Space between icon and text */\n\n}\n\n.notification-center-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  background-color: #f5f5f5;\n  border-bottom: 1px solid #ddd;\n  height: 60px;\n  box-sizing: border-box;\n}\n\n.notification-center-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  flex-grow: 1;\n  text-align: center;\n}\n\n.notification-center-header button {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  margin-left: 5px;\n}\n\n.notification-list {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  overflow-y: auto;\n  gap: 10px;\n}\n\n.notification-center {\n  transition: transform 0.3s ease-in-out;\n  transform: translateX(-100%); /* Start off-screen to the right */\n  width: 350px; /* Adjust based on your design */\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 1000; /* Ensures the sidebar appears above other elements */\n  background-color: white;\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.notification-center.is-visible {\n  transform: translateX(0);\n}\n\n.notification {\n  border: 1px solid #e1e4e8;\n  border-radius: 8px;\n  padding: 15px;\n  background-color: white;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  transition: box-shadow 0.3s ease-in-out;\n}\n\n.notification:hover {\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n}\n\n.notification:last-child {\n  border-bottom: none;\n}\n\n.event-invite-message {\n  font-size: 1rem;\n  margin-bottom: 10px;\n}\n\n.response-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n}\n\n.response-buttons button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: background-color 0.3s ease;\n}\n\n.response-buttons button:hover {\n  opacity: 0.8;\n}\n\nbutton.going,\nbutton.accept {\n  background-color: #4CAF50; /* Green */\n  color: white;\n}\n\nbutton.notGoing,\nbutton.decline {\n  background-color: #f44336; /* Red */\n  color: white;\n}\n\n.sidebar-back svg {\n  height: 1rem;\n  width: 1.5rem;\n}\n\n.action-buttons-left-sidebar {\n  display: flex;\n  flex-direction: column;\n  background: none;\n\n}\n\nbutton {\n  background: none;\n  color: black;\n  font-size: 1rem;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\nbutton:hover {\n  background-color: #cacaca;\n}\n\n</style>\n","<template>\n  <div class=\"chat-window\" v-if=\"currentRoomId\">\n    <div class=\"chat-header\">\n      <span>{{ chatPartnerName }}</span>\n      <span class=\"close\" @click=\"closeChat\">&times;</span>\n    </div>\n    <ul class=\"chat-messages\" ref=\"messagesContainer\">\n      <li v-for=\"message in messagesForCurrentRoom\" :key=\"message.messageId\"\n      :class=\"{'message-sent': isCurrentUserSender(message), 'message-received': !isCurrentUserSender(message)}\">\n        <div class=\"message-content\">{{ message.content }}</div>\n        <div class=\"message-timestamp\">{{ new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}}</div>\n      </li>\n    </ul>\n    <div class=\"chat-input\">\n      <div v-if=\"showEmojiPicker\" class=\"emoji-picker\">\n        <button v-for=\"emoji in emojis\" :key=\"emoji\" @click=\"addEmoji(emoji)\">\n          {{ emoji }}\n        </button>\n      </div>\n      <input type=\"text\" v-model=\"newMessage\" @keyup.enter=\"sendMessage\" placeholder=\"Type a message...\">\n      <div class=\"input-area-button-container\">\n        <button @click=\"toggleEmojiPicker\"> <span class=\"emoji\"></span></button>\n        <button @click=\"sendMessage\">Send</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      newMessage: \"\",\n      showEmojiPicker: false,\n      emojis: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','', '', '', '', '', '', '', ''],\n    };\n  },\n  props: {\n    currentRoomId: String,\n    messages: Array,\n    sendMessageFunction: Function,\n    currentUserId: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  computed: {\n    messagesForCurrentRoom() {\n      return this.messages.filter(m => m.roomId === this.currentRoomId);\n    },\n\n    isCurrentUserSender() {\n      return message => message.senderUserId === this.currentUserId;\n    },\n\n    chatPartnerName() {\n      if (!this.messagesForCurrentRoom.length) return 'User Name';\n\n      const firstMessage = this.messagesForCurrentRoom[0];\n\n      if (firstMessage.senderUserId === this.currentUserId) {\n        return `${firstMessage.receiverFirstName} ${firstMessage.receiverLastName}`;\n      } else {\n        return `${firstMessage.senderFirstName} ${firstMessage.senderLastName}`;\n      }\n    },\n\n  },\n  watch: {\n    messages() {\n      this.scrollToBottom();\n    }\n  },\n  \n  mounted() {\n    this.scrollToBottom();\n  },\n  methods: {\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const messagesContainer = this.$refs.messagesContainer;\n        if (messagesContainer) {\n          messagesContainer.scrollTop = messagesContainer.scrollHeight;\n        }\n      });\n    },\n\n    sendMessage() {\n      if (!this.newMessage.trim()) return;\n      if (this.newMessage !== \"\") {\n        this.sendMessageFunction(this.newMessage, this.currentRoomId);\n        this.newMessage = \"\";\n      }\n    },\n\n    checkMessageSender(message) {\n      console.log(`Message ID: ${message.messageId}, Sender ID: ${message.senderUserId}, Current User ID: ${this.currentUserId}`);\n      return message.senderUserID === this.currentUserId;\n    },\n\n    closeChat() {\n      this.$emit('closeChat', this.currentRoomId);\n    },\n\n    toggleEmojiPicker() {\n      this.showEmojiPicker = !this.showEmojiPicker;\n    },\n    addEmoji(emoji) {\n      this.newMessage += emoji;\n      this.toggleEmojiPicker(); // Optionally close the picker after an emoji is selected\n    },\n\n  },\n}\n</script>\n\n\n<style scoped>\n.chat-window {\n  bottom: 0;\n  min-width: 350px;\n  max-width: 350px;\n  height: 450px; /* Adjust as necessary */\n  background-color: white;\n  border: 1px solid #ccc;\n  border-radius: 10px 10px 0 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.chat-header {\n  padding: 10px;\n  background: #f5f5f5;\n  border-radius: 10px 10px 0 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #ccc;\n}\n\n.chat-header span {\n  font-weight: bold;\n}\n\n.chat-header .close {\n  cursor: pointer;\n}\n\n.chat-messages {\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 0px;\n  list-style: none;\n  margin: 0px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.chat-input {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  border-top: 1px solid #ccc;\n}\n\n.chat-input input {\n  width: calc(100% - 90px); /* Adjust width based on your Send button width */\n  padding: 10px;\n  margin-right: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.chat-input input:focus {\n  outline: none; /* Removes the default focus outline */\n  border-color: #aaa; \n}\n\n.chat-input button {\n  padding: 7px 10px;\n  background-color: #0078ff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.message-sent {\n  display: flex;\n  flex-direction: row-reverse;\n  align-self: flex-end;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.message-received {\n  display: flex;\n  flex-direction: row;\n  align-self: flex-end;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.message-content {\n  background-color: #0084ff;\n  color: white;\n  text-align: left;\n  word-wrap: break-word;\n  padding: 5px 10px;\n  border-radius: 15px;\n  margin-right: 10px;\n  margin-bottom: 5px;\n  font-size: 1rem;\n  max-width: 70%;\n  display: inline-block;\n  line-height: 1.4;\n}\n\n.message-received .message-content {\n  background-color: #dfdfdf;\n  color: #333;\n}\n\n.message-timestamp {\n  font-size: 0.8rem;\n  opacity: 0;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.message-sent:hover .message-timestamp {\n  opacity: 1;\n}\n\n.message-received:hover .message-timestamp {\n  opacity: 1;\n}\n\n\n\n.chat-messages li[data-tooltip]:hover:after {\n  content: attr(data-tooltip);\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  z-index: 1;\n  background: black;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n  white-space: nowrap;\n  pointer-events: none;\n}\n\n.emoji-picker {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px;\n  background-color: #f2f2f2;\n  border: 1px solid #e2e2e2;\n  border-radius: 4px;\n  position: absolute;\n  bottom: 50px; /* Adjust based on your layout */\n  left: 0;\n}\n\n.emoji-picker button {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n.input-area-button-container {\n  display: flex;\n  gap: 5px;\n}\n\n.input-area-button-container button:nth-child(1) {\n  background: none;\n  border: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  padding: 0;\n}\n\n.input-area-button-container button:nth-child(1) .emoji {\n  font-size: 24px; /* or any size you want */\n}\n</style>\n\n","import { render } from \"./ChatWindow.vue?vue&type=template&id=1978d54e&scoped=true\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js\"\n\nimport \"./ChatWindow.vue?vue&type=style&index=0&id=1978d54e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1978d54e\"]])\n\nexport default __exports__","<template>\n\n\n<div class=\"content-container\">\n  <div class=\"post-creation-area\">\n    <form class=\"post-form\" @submit.prevent=\"submitPost\">\n      <textarea v-model=\"newPost.content\" placeholder=\"What's happening?\"></textarea>\n      <input type=\"file\" @change=\"handleImageUpload\">\n      <div>\n        <label><input type=\"radio\" v-model=\"newPost.privacy\" value=\"public\"> Public</label>\n        <label><input type=\"radio\" v-model=\"newPost.privacy\" value=\"private\"> Private</label>\n        <label><input type=\"radio\" v-model=\"newPost.privacy\" value=\"almost_private\"> Almost Private</label>\n      </div>\n      <div v-if=\"newPost.privacy === 'almost_private'\">\n        <ul class=\"selected-user-list\">\n          <li v-for=\"relation in followRelations\" \n              :key=\"relation.UserID\" \n              :class=\"{ 'selected': isSelected(relation.UserID) }\" \n              @click=\"toggleSelection(relation.UserID)\">\n            {{ relation.FirstName }} {{ relation.LastName }}\n          </li>\n        </ul>\n      </div>\n      <button type=\"submit\">Post</button>\n    </form>\n  </div>\n\n  <div class=\"posts-display-area\">\n    <div v-if=\"filteredPosts.length > 0\">\n      <div v-for=\"post in filteredPosts\" :key=\"post.postID\" class=\"post-card\">\n        <div class=\"post-header\">\n          <img :src=\"post.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n          <div class=\"user-info\">\n            <span class=\"user-name\">{{ post.firstName }} {{ post.lastName }}</span>\n            <span class=\"post-date\">{{ formatTimestamp(post.timestamp) }}</span>\n          </div>\n        </div>\n\n        <div class=\"post-body\">\n          <p v-if=\"post.content\" class=\"post-content\">{{ post.content }}</p>\n          <img v-if=\"post.imageURL\" :src=\"post.imageURL\" alt=\"Post image\" class=\"post-image\">\n        </div>\n\n        <div class=\"post-actions\">\n          <button class=\"post-action-button\" @click=\"openModal(post)\">Comment</button>\n          <!-- Other buttons if needed -->\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <p>No posts available.</p>\n    </div>\n  </div>\n\n    <!-- Modal for post details and commenting -->\n    <div v-if=\"activePost\" class=\"post-modal\">\n      <div class=\"post-modal-content\">\n        <div class=\"modal-header\">\n          <img :src=\"activePost.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n          <div class=\"user-info\">\n            <span class=\"user-name\">{{ activePost.firstName }} {{ activePost.lastName }}</span>\n            <span class=\"post-date\">{{ formatTimestamp(activePost.timestamp) }}</span>\n          </div>\n        </div>\n        <div class=\"modal-body\">\n          <p>{{ activePost.content }}</p>\n          <img v-if=\"activePost.imageURL\" :src=\"activePost.imageURL\" alt=\"Post image\" class=\"post-image\">\n        </div>\n        <div class=\"modal-footer\">\n          <form @submit.prevent=\"submitComment\" enctype=\"multipart/form-data\" class=\"comment-form\">\n            <div class=\"comment-profile\">\n              <img :src=\"userImage || defaultProfilePic\" alt=\"Profile\" class=\"comment-profile-image\">\n            </div>\n            <textarea \n              v-model=\"newComment\" \n              placeholder=\"Write a comment...\"\n              rows=\"2\"\n              class=\"comment-textarea\">\n            </textarea>\n            <input class=\"comment-file-upload\" type=\"file\" @change=\"handleCommentImageUpload\" />\n            <button type=\"submit\" class=\"comment-submit\">Comment</button>\n          </form>\n          <div v-for=\"comment in comments\" :key=\"comment.commentID\" class=\"comment-container\">\n            <div class=\"comment-profile\">\n              <img :src=\"comment.profilePicture || defaultProfilePic\" alt=\"Profile\" class=\"comment-profile-image\">\n            </div>\n            <div class=\"comment-body\">\n              <div class=\"comment-header\">\n                <span class=\"comment-author\">{{ comment.firstName }} {{ comment.lastName }}</span>\n                <span class=\"comment-timestamp\">{{ formatTimestamp(comment.timestamp) }}</span>\n              </div>\n              <div class=\"comment-content\">\n                {{ comment.content }}\n                <div class=\"comment-media-container\" v-if=\"comment.commentMedia\">\n                  <img :src=\"comment.commentMedia\" alt=\"Comment media\" />\n                </div>\n              </div>\n              <div class=\"comment-actions\">\n                <!-- Insert any action buttons here -->\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"post-modal-backdrop\" @click=\"closeModal\"></div>\n    </div>\n\n</div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '../constants';\n\nexport default {\n  data() {\n    return {\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      userProfile: JSON.parse(localStorage.getItem('user')) || {},\n      newPost: {\n        content: '',\n        privacy: 'public',\n        image: null, // Initialize image property as null\n        selectedUserIds: []\n      },\n      followRelations: JSON.parse(localStorage.getItem('followRelations')) || [],\n      posts: [],\n      activePost: null,\n      newComment: '',\n      comments: [],\n    };\n  },\n  mounted() {\n    this.fetchPosts();\n    this.userProfile = JSON.parse(localStorage.getItem('user')) || {};\n  },\n  computed: {\n    filteredPosts() {\n      return this.posts ? this.posts.filter(post => this.isAllowedToView(post)) : [];\n    },\n    userImage() {\n      // Return the profile picture URL from the user profile or the default if not present\n      return this.userProfile.profilePicture || DEFAULT_PROFILE_PICTURE_URL;\n    }\n  },\n  props: {\n    currentUserId: Number,\n    groupID: {\n      type: [Number, String, null], // Accept number, string, or null\n      default: null, // Default to null if not provided\n    },\n  },\n  methods: {\n    formatTimestamp(timestamp) {\n      // Format the timestamp using a method of your choice. Here's an example using the JavaScript Date object:\n      const date = new Date(timestamp);\n      return date.toLocaleDateString(\"en-US\"); // Format as needed\n    },\n    handleImageUpload(event) {\n      this.newPost.image = event.target.files[0];\n    },\n\n    toggleSelection(userId) {\n      const index = this.newPost.selectedUserIds.indexOf(userId);\n      if (index > -1) {\n        this.newPost.selectedUserIds.splice(index, 1); // remove user ID\n      } else {\n        this.newPost.selectedUserIds.push(userId); // add user ID\n      }\n    },\n\n    isSelected(userId) {\n      return this.newPost.selectedUserIds.includes(userId);\n    },\n\n    submitPost() {\n      const formData = new FormData();\n      formData.append('content', this.newPost.content);\n      formData.append('privacy', this.newPost.privacy);\n      formData.append('selectedUserIds', JSON.stringify(this.newPost.selectedUserIds));\n      if (this.newPost.image) {\n        formData.append('image', this.newPost.image);\n      }\n      // Include groupID in the request if it's not null\n      if (this.groupID) {\n        formData.append('groupID', this.groupID);\n      }\n      this.$axios.post('/api/createPost', formData) // Adjust the endpoint if needed\n        .then(response => {\n          this.posts = [response.data, ...this.posts];\n          console.log(\"This is the created Post:\", response)\n          this.newPost = { content: '', privacy: 'public', image: null }; // Reset the form\n        })\n        .catch(error => {\n          console.error('Error creating post:', error);\n        });\n    },\n\n    fetchPosts() {\n      console.log('Fetching posts for group:', this.groupID)\n      let apiUrl = '/api/posts';\n      if (this.groupID) {\n        apiUrl += `?groupID=${this.groupID}`;\n      }\n      this.$axios.get(apiUrl)\n        .then(response => {\n          console.log(\"These are the fetched posts:\", response.data);\n          this.posts = response.data;\n        })\n        .catch(error => {\n          console.error('Error fetching posts:', error);\n        });\n    },\n\n\n    fetchComments(postID) {\n      this.$axios.get(`/api/getComments`, { params: { postID: postID } })\n      .then(response => {\n        console.log(\"Comments fetched:\", response.data);\n        this.comments = response.data;\n      })\n      .catch(error => {\n        console.error('Error fetching comments:', error);\n      });\n    },\n    \n    isAllowedToView(post) {\n      const currentUserID = this.currentUserId;\n\n      if (post.privacySetting === 'private') {\n        // Check if there is a follow relation between the current user and the post's user\n        return this.followRelations.some(relation => relation.UserID === post.UserID);\n      }\n\n      if (post.privacySetting === 'almost_private') {\n        // Parse the allowed viewers from the string to an array\n        const allowedViewers = JSON.parse(post.allowedViewers);\n        return allowedViewers.includes(currentUserID);\n      }\n\n      return true; // Public posts are viewable by everyone\n    },\n\n    openModal(post) {\n      this.activePost = post;\n      this.fetchComments(post.postID);\n    },\n\n    closeModal() {\n      this.activePost = null;\n      this.newComment = '';\n    },\n\n    handleCommentImageUpload(event) {\n      this.commentImage = event.target.files[0];\n    },\n\n    submitComment() {\n      const formData = new FormData();\n      formData.append('postID', this.activePost.postID);\n      formData.append('userID', this.currentUserId);\n      formData.append('content', this.newComment);\n      if (this.commentImage) {\n          formData.append('image', this.commentImage);\n      }\n\n      axios.post('/api/createComment', formData)\n      .then(response => {\n        console.log(\"Comment created:\", response.data);\n        this.comments = [response.data, ...this.comments];\n        this.newComment = '';\n        this.commentImage = null;\n      })\n      .catch(error => {\n          console.error('Error creating comment:', error);\n      });\n    },\n\n\n  }\n}\n</script>\n\n<style scoped>\n/* Add styles for your component */\n.post-form {\n  background: transparent;\n  border-radius: 10px;\n  padding: 20px;\n  max-width: 500px; /* Adjust the width as needed */\n  margin: auto; /* Center the form */\n}\n\n.selected {\n  background-color: blue; /* Choose your desired highlight color */\n  color: white;\n}\n\n.selected-user-list {\n  align-items: center;\n}\n\n.selected-user-list li {\n  list-style: none;\n}\n\n.post-form textarea,\n.post-form select {\n  outline: none !important  ;\n  resize: none;\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px; /* Space between form elements */\n  border: 1px solid #ccd0d5;\n  border-radius: 20px; /* Rounded corners for inputs and text area */\n  box-sizing: border-box;\n  font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;\n}\n\n.post-form textarea {\n  height: 80px; /* Adjust height for text area */\n}\n\n.post-form button {\n  padding: 10px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  margin: 4px 2px;\n\n  border: 1px solid #e1e4e8;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n/* Placeholder styling */\n.post-form textarea::placeholder {\n  color: #90949c;\n}\n\n/* Hide the actual file input and show the text button only */\n.post-form input[type=\"file\"]::-webkit-file-upload-button {\n  visibility: hidden;\n}\n\n.posts-display-area {\n  display: flex;\n  flex-direction: column;\n}\n\n.post-card {\n  border-radius: 10px;\n  margin-bottom: 16px;\n  overflow: hidden;\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.post-header {\n  display: flex;\n  align-items: center;\n  padding: 12px 12px 12px 16px;\n  border-bottom: 1px solid #e1e4e8;\n}\n\n.profile-image {\n  width: 40px; /* adjust size as needed */\n  height: 40px; /* adjust size as needed */\n  border-radius: 50%; /* makes it circular */\n  object-fit: cover; /* ensures the image covers the area */\n  margin-right: 12px;\n}\n\n.user-info {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 10px;\n}\n\n.user-name {\n  font-weight: bold;\n}\n\n.post-date {\n  color: #586069;\n  font-size: 0.8rem;\n}\n\n.post-content {\n  display: block;\n  word-break: break-word;\n  overflow-wrap: break-word;\n  text-align: left;\n  margin: 0px;\n  margin-bottom: 12px;\n}\n\n.post-image {\n  max-height: 800px;\n  max-width: 100%;\n  object-fit: fill;\n}\n\n.post-body {\n  padding: 16px 16px 0px 16px;\n}\n\n.post-actions {\n  display: flex;\n  justify-content: flex-end;\n  padding: 8px;\n}\n\n.post-action-button {\n  padding: 5px 10px;\n  border: 1px solid #e1e4e8;\n  background-color: #f8f9fa;\n  border-radius: 4px;\n  cursor: pointer;\n\n  \n}\n\n.post-action-button:hover {\n  background-color: #f6f8fa;\n}\n\n\n.post-form {\n  display: flex;\n  flex-direction: column;\n}\n\n.content-container {\n  display: flex;\n  flex-direction: column;\n  width: 40%;\n  margin-left: 30%;\n}\n\n.post-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000; /* Above everything else */\n  box-sizing: border-box;\n}\n\n.post-modal-content {\n  background: white;\n  padding: 20px;\n  border-radius: 5px;\n  width: 40%; /* Or your desired modal width */\n  z-index: 1001; /* Above the backdrop */\n  box-sizing: border-box;\n  overflow-y: scroll;\n  margin: 30px 0px;\n  max-height: calc(100vh - 60px);\n  scrollbar-width: thin;\n  scrollbar-color: #888 #f1f1f1;\n}\n\n.post-modal-content::-webkit-scrollbar-track {\n  background-color: #f1f1f1;\n}\n\n/* Styles for the scrollbar handle */\n.post-modal-content::-webkit-scrollbar-thumb {\n  background-color: #888;\n  border-radius: 10px;\n  border: 3px solid #f1f1f1;\n}\n\n/* Handle on hover */\n.post-modal-content::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n\n.post-modal-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.post-modal-content::-webkit-scrollbar-button {\n  display: none; \n}\n\n.post-modal-backdrop {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5); /* Semi-transparent backdrop */\n  z-index: 1000; /* Below the modal content */\n}\n\n.modal-header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 10px;\n  border-bottom: 1px solid #e1e4e8;\n  padding: 12px 12px 12px 0;\n}\n\n.modal-body {\n  display: block;\n  word-break: break-word;\n  overflow-wrap: break-word;\n  text-align: left;\n  margin: 0;\n  padding: 12px 12px 0px 12px;\n}\n\n.modal-body p {\n  margin: 0;\n}\n\n/* Comment CSS */\n.comment-container {\n  display: flex;\n  align-items: flex-start;\n  padding: 10px 10px 10px 0;\n}\n\n.comment-header {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 5px;\n}\n\n.comment-body {\n  flex-grow: 1;\n  background: #f8f8f8;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.comment-profile {\n  margin: 10px 10px 0 0;\n}\n\n.comment-profile-image {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n}\n\n.comment-author {\n  font-weight: bold;\n  color: #333;\n}\n\n.comment-user-name {\n  font-weight: bold;\n}\n\n.comment-timestamp {\n  color: #999;\n  font-size: 0.8em;\n}\n\n.comment-content {\n  padding: 0px 10px;\n  margin: 0;\n  color: #333;\n  text-align: left;\n}\n\n.comment-media-container img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 4px;\n  margin-top: 10px;\n}\n\n/* Rest of the modal-footer CSS */\n.modal-footer {\n  margin-top: 26px;\n}\n\n.comment-form {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.comment-textarea {\n  flex: 1;\n  padding: 10px;\n  margin-right: 10px;\n  border: 1px solid #e1e4e8;\n  border-radius: 4px;\n  resize: vertical;\n  outline: none;\n  overflow: auto;\n  resize: none;\n  font-family: Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif;\n}\n\n.comment-submit {\n  padding: 10px 15px;\n  background-color: #f8f8f8;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.modal-footer button:hover {\n  background-color: #e1e4e8;\n}\n\n\ninput[type=\"file\"] {\n  outline: none;\n  padding: 4px;\n  margin: -4px;\n}\n\ninput[type=\"file\"]:focus-within::file-selector-button,\ninput[type=\"file\"]:focus::file-selector-button {\n  outline: 2px solid #0964b0;\n  outline-offset: 2px;\n}\n\ninput[type=\"file\"]::before {\n  top: 16px;\n}\n\ninput[type=\"file\"]::after {\n  top: 14px;\n}\n\n/* ------- From Step 2 ------- */\n\ninput[type=\"file\"] {\n  position: relative;\n}\n\ninput[type=\"file\"]::file-selector-button {\n  width: 136px;\n  color: transparent;\n}\n\n/* Faked label styles and icon */\ninput[type=\"file\"]::before {\n  position: absolute;\n  pointer-events: none;\n  /*   top: 11px; */\n  left: 40px;\n  color: #0964b0;\n  content: \"Upload File\";\n}\n\ninput[type=\"file\"]::after {\n  position: absolute;\n  pointer-events: none;\n  /*   top: 10px; */\n  left: 16px;\n  height: 20px;\n  width: 20px;\n  content: \"\";\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%230964B0'%3E%3Cpath d='M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z'/%3E%3C/svg%3E\");\n}\n\n/* ------- From Step 1 ------- */\n\n/* file upload button */\ninput[type=\"file\"]::file-selector-button {\n  border-radius: 4px;\n  height: 40px;\n  box-sizing: border-box;\n  cursor: pointer;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.16);\n  box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.05);\n  margin-right: 16px;\n  transition: background-color 200ms;\n}\n\n/* file upload button hover state */\ninput[type=\"file\"]::file-selector-button:hover {\n  background-color: #f3f4f6;\n}\n\n/* file upload button active state */\ninput[type=\"file\"]::file-selector-button:active {\n  background-color: #e5e7eb;\n}\n\n\n\n</style>\n","// src/constants.js\nexport const DEFAULT_PROFILE_PICTURE_URL =\n  \"https://storage.googleapis.com/social-network-bucket/profilepics/user_icon.png\";\n","import { render } from \"./ContentContainer.vue?vue&type=template&id=126a0267&scoped=true\"\nimport script from \"./ContentContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ContentContainer.vue?vue&type=script&lang=js\"\n\nimport \"./ContentContainer.vue?vue&type=style&index=0&id=126a0267&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-126a0267\"]])\n\nexport default __exports__","import { render } from \"./MainContainer.vue?vue&type=template&id=e566018c\"\nimport script from \"./MainContainer.vue?vue&type=script&lang=js\"\nexport * from \"./MainContainer.vue?vue&type=script&lang=js\"\n\nimport \"./MainContainer.vue?vue&type=style&index=0&id=e566018c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"groups-page\">\n    <header>\n      <div class=\"header-element-wrapper\">\n      </div>\n      <div class=\"header-element-wrapper\">\n      <nav class=\"navbar\">\n      <router-link to=\"/\" class=\"nav-item\">HOME</router-link>\n      <router-link to=\"/groups\" class=\"nav-item\">GROUPS</router-link>\n      <router-link to=\"/users\" class=\"nav-item\">USERS</router-link> \n      <router-link to=\"/profile\" class=\"nav-item\">PROFILE</router-link>\n    </nav>\n      </div>\n      <div class=\"header-element-wrapper\">\n        <button @click=\"handleLogout\">Log Out</button>\n      </div>\n    </header>\n    <div class=\"main-container\">\n      <div class=\"content-wrapper\">\n        <section class=\"groups-content\">\n          <h2>Available Groups</h2>\n          <div class=\"group-list-container\">\n            <div class=\"group-card\" v-for=\"group in groups\" :key=\"group.groupId\">\n              <h3 class=\"group-title\">{{ group.name }}</h3>\n              <p class=\"group-description\">{{ group.description }}</p>\n              <div class=\"action-buttons\">\n                <button v-if=\"!isUserPartOfGroup(group.groupId) && !isJoinRequestPending(group.groupId)\" class=\"join-btn\" @click=\"joinGroup(group.groupId)\">Join This Group</button>\n                <button v-else-if=\"isJoinRequestPending(group.groupId)\" class=\"pending-btn\" disabled>Pending</button>\n                <button v-else-if=\"isUserPartOfGroup(group.groupId)\" class=\"leave-btn\" @click=\"leaveGroup(group.groupId)\">Leave</button>\n                <button class=\"details-btn\" @click=\"navigateToGroup(group.groupId)\">View Details</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"chat-windows-container\">\n            <ChatWindow\n              v-for=\"relation in filteredOpenChats\"\n              :key=\"relation.RoomID\"\n              :currentRoomId=\"relation.RoomID\"\n              :messages=\"messages.filter(m => m.roomId === relation.RoomID)\"\n              :currentUserId=\"currentUserId\"\n              :sendMessageFunction=\"sendChatMessage\"\n              @closeChat=\"handleCloseChat\"\n              class=\"chat-window\"\n            />\n          </div>\n        </section>\n        <!-- Reusing the user list from MainContainer.vue -->\n        <aside class=\"user-list\">\n          <h2>Contacts</h2>\n          <ul>\n            <li v-for=\"relation in followRelations\" :key=\"relation.UserID\" @click=\"handleUserClick(relation)\">\n              <img :src=\"relation.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n              {{ (relation.FirstName + ' ' + relation.LastName) }}\n              <span v-if=\"relation.UnreadCount\" class=\"unread-indicator\">\n                {{ relation.UnreadCount }}\n              </span>\n            </li>\n          </ul>\n        </aside>\n        <aside class=\"left-sidebar\">\n          <div class=\"left-sidebar-button-container\">\n            <div class=\"action-buttons-left-sidebar\">\n              <button @click=\"toggleNotificationCenter()\">Notification Center</button>\n              <button @click=\"isSidebarVisible = !isSidebarVisible\">Create New Group</button>\n            </div>\n          </div>\n        </aside>\n        <aside class=\"create-group-form\" :class=\"{ 'is-visible': isSidebarVisible }\">\n          <div class=\"create-group-sidebar-header\">\n            <button @click=\"isSidebarVisible = false\">\n              <span class=\"sidebar-back\">\n                <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                  preserveAspectRatio=\"xMidYMid meet\">\n\n                  <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                  fill=\"#000000\" stroke=\"none\">\n                  <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                  -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                  -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                  161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                  116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                  -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                  95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                  -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                  </g>\n                </svg>\n              </span>\n            </button>\n            <h2>Create New Group</h2>\n          </div>\n          <div class=\"create-group-body\">\n            <form @submit.prevent=\"submitGroup\">\n              <div class=\"form-group\">\n                <label for=\"groupName\">Group Name:</label>\n                <input type=\"text\" id=\"groupName\" v-model=\"groupName\" required>\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"groupDescription\">Description:</label>\n                <textarea id=\"groupDescription\" v-model=\"groupDescription\" rows=\"5\" required></textarea>\n              </div>\n\n              <label>User Invitations:</label>\n              <ul class=\"user-invitation-list\">\n                <li v-for=\"user in availableUsers\" :key=\"user.userID\">\n                  <input\n                    type=\"checkbox\"\n                    :id=\"`invite-${user.userID}`\"\n                    :value=\"user.userID\"\n                    v-model=\"selectedUserIds\"\n                  >\n                  <label :for=\"`invite-${user.userID}`\">\n                    {{ user.firstName + ' ' + user.lastName }}\n                  </label>\n                </li>\n              </ul>\n\n              <button type=\"submit\">Create Group</button>\n            </form>\n          </div>\n        </aside>\n        <aside class=\"notification-center\" :class=\"{ 'is-visible': isNotificationCenterVisible }\">\n          <div class=\"notification-center-header\">\n            <button @click=\"isNotificationCenterVisible = false; notifications = [];\">\n              <span class=\"sidebar-back\">\n                <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                  preserveAspectRatio=\"xMidYMid meet\">\n\n                  <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                  fill=\"#000000\" stroke=\"none\">\n                  <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                  -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                  -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                  161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                  116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                  -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                  95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                  -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                  </g>\n                </svg>\n              </span>\n            </button>\n\n            <h2>Notifications</h2>\n          </div>\n          <div class=\"notification-list\">\n            <div v-for=\"notification in notifications\" :key=\"notification.id\" class=\"notification\">\n              <div v-if=\"notification.type === 'eventInvite'\">\n                <div v-if=\"notificationMessage\" class=\"notification-message\">{{ notificationMessage }}</div>\n                <p class=\"event-invite-message\">\n                  You have been invited to <strong>{{ notification.groupName }}</strong> event <strong>\"{{ notification.title }}\"</strong>\n                  by <strong>{{ notification.creatorFirstName }} {{ notification.creatorLastName }}</strong>\n                </p>\n                <div class=\"response-buttons\">\n                  <button class=\"going\" @click=\"handleResponse(notification, 'Going', 'event')\">Going</button>\n                  <button class=\"notGoing\" @click=\"handleResponse(notification, 'Not Going', 'event')\">Not Going</button>\n                </div>\n              </div>\n\n              <div v-else-if=\"notification.type === 'groupInvite'\">\n                <!-- New groupInvite notification UI -->\n                <p class=\"group-invite-message\">\n                  You have been invited to join the group <strong>\"{{ notification.groupName }}\"</strong>\n                  by <strong>{{ notification.creatorName }}</strong>. <!-- Consider fetching user's name if possible -->\n                </p>\n                <div class=\"response-buttons\">\n                  <button class=\"accept\" @click=\"handleResponse(notification, true, 'group')\">Accept</button>\n                  <button class=\"decline\" @click=\"handleResponse(notification, false, 'group')\">Decline</button>\n                </div>\n              </div>\n\n              <div v-else-if=\"notification.type === 'followRequest'\">\n                <p class=\"follow-request-message\">\n                    <strong>{{ notification.firstName }} {{ notification.lastName }}</strong> wants to follow you.\n                </p>\n                <div class=\"response-buttons\">\n                  <button class=\"accept\" @click=\"handleResponse(notification, true, 'follow')\">Accept</button>\n                  <button class=\"decline\" @click=\"handleResponse(notification, false, 'follow')\">Decline</button>\n                </div>\n              </div>\n\n              <div v-if=\"notification.type === 'groupJoinRequest'\">\n                <p class=\"group-join-request-message\">\n                  <strong>{{ notification.FirstName }} {{ notification.LastName }}</strong> wants to join your group <strong>\"{{ notification.groupName }}\"</strong>.\n                </p>\n                <div class=\"response-buttons\">\n                  <button class=\"accept\" @click=\"handleResponse(notification, true, 'groupJoinRequest')\">Accept</button>\n                  <button class=\"decline\" @click=\"handleResponse(notification, false, 'groupJoinRequest')\">Decline</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </aside>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport ChatWindow from '@/components/ChatWindow.vue';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '@/constants'; // Adjust path as necessary\n\nexport default {\n  name: 'GroupsPage',\n  components: {\n    ChatWindow,\n  },\n  data() {\n    return {\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      ws: null,\n      serverUrl: \"ws://localhost:8091/ws\",\n      messages: [],\n      newMessage: \"\",\n      unreadMessagesCount: {},\n      currentRoomId: null,\n      openChats: {},\n      followRelations: [],\n      groupName: '',\n      groupDescription: '',\n      groups: [],\n      availableUsers: [],\n      selectedUserIds: [],\n      isSidebarVisible: false,\n      isNotificationCenterVisible: false,\n      notifications: [],\n      notificationMessage: '',\n      userGroups: JSON.parse(localStorage.getItem('userGroups') || '{}'),\n      groupJoinRequests: JSON.parse(localStorage.getItem('groupJoinRequests') || '{}'),\n    };\n  },\n  computed: {\n    ...mapState(['isLoggedIn', 'currentUser']),\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      return user ? user.userID : null;\n    },\n    filteredOpenChats() {\n      return this.followRelations.filter(relation => this.openChats[relation.RoomID]);\n    },\n    isUserPartOfGroup() {\n      return (groupId) => {\n        return !!this.userGroups[groupId];\n      };\n    },\n    isJoinRequestPending() {\n      return (groupId) => {\n        return !!this.groupJoinRequests[groupId];\n      };\n    },\n  },\n  methods: {\n    ...mapActions(['logOut']),\n    handleLogout() {\n      this.$axios.post('/api/logout')\n      .then(() => {\n        this.logOut(); \n        this.$cookies.remove('session_id');\n        localStorage.clear();\n        this.$router.push('/welcome');\n      })\n      .catch(error => {\n        console.error('Logout failed:', error);\n      });\n    },\n    connectToWebsocket() {\n      console.log(\"Attempting to connect to WebSocket\");\n      this.ws = new WebSocket(this.serverUrl);\n      this.ws.addEventListener('open', this.onWebsocketOpen);\n      this.ws.addEventListener('message', (event) => { this.handleNewMessage(event) });\n      this.ws.addEventListener('error', this.onWebsocketError);\n      this.ws.addEventListener('close', this.onWebsocketClose);\n    },\n\n    onWebsocketOpen() {\n      console.log(\"Connected to WS!\");\n      // Handle WebSocket open event\n    },\n\n    onWebsocketError(error) {\n      // Handle WebSocket errors\n      console.error(\"WebSocket Error: \", error);\n    },\n\n    onWebsocketClose() {\n      // Handle WebSocket close event\n      console.log(\"WebSocket connection closed\");\n    },\n\n    handleNewMessage(event) {\n      console.log(\"Received WebSocket message:\", event.data);\n\n      // Split the received data by newline and filter out any empty strings\n      const messages = event.data.split('\\n').filter(msg => msg.trim());\n\n      let data;\n\n      // Process each message individually\n      messages.forEach((message) => {\n        try {\n          data = JSON.parse(message);\n          // Now handle the parsed data object as before\n          switch (data.type) {\n            case 'chatMessage':\n              if (data.payload.roomId === this.currentRoomId) {\n                this.messages.push(data.payload);\n              } else {\n                // Increment unread message count if ChatWindow is not open\n                if (!this.openChats[data.payload.roomId]) {\n                  this.updateUnreadCount(data.payload.roomId);\n                }\n              }\n            break;\n            case 'fetchMessagesResponse':\n              console.log(\"Fetched messages:\", data.payload);\n              if (data.payload.roomId === this.currentRoomId) {\n                // Check if messages are present in the payload\n                if (data.payload.messages && data.payload.messages.length > 0) {\n                  const fetchedMessages = data.payload.messages.reverse();\n                  this.messages = [...fetchedMessages, ...this.messages];\n                }\n              }\n            break;\n            case 'eventInviteResponse':\n              console.log(\"Event invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Check if a notification with the same responseId already exists in the array\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return (\n                      notification.type === 'eventInvite' &&\n                      notification.responseId === invite.responseId\n                    );\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push({\n                      type: 'eventInvite',\n                      ...invite,\n                    });\n                  } else {\n                    // If a duplicate is found, you can update the existing notification or skip it\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...invite,\n                    };\n                  }\n                });\n              } else {\n                if (data.payload.message) {\n                  this.notificationMessage = (data.payload.message);\n                }\n              }\n            break;\n            case 'groupInviteResponse':\n              console.log(\"Group invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Construct a notification object for the group invite\n                  const groupInviteNotification = {\n                    type: 'groupInvite', // This is the type for group invite notifications\n                    groupId: invite.GroupID,\n                    groupName: invite.Name,\n                    groupDescription: invite.Description,\n                    creatorUserId: invite.CreatorUserID,\n                    creatorName: invite.CreatorName\n                  };\n                  // Check if a notification for the same group already exists\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'groupInvite' && notification.groupId === invite.GroupID;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(groupInviteNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...groupInviteNotification,\n                    };\n                  }\n                });\n              } else {\n                // If the payload is not an array and contains a message, handle it (e.g., show a message to the user)\n                if (data.payload.message) {\n                  this.notificationMessage = data.payload.message;\n                }\n              }\n            break;\n            case 'followRequestResponse':\n              console.log(\"Follow request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(followRequest => {\n                  // Construct a notification object for the follow request\n                  const followRequestNotification = {\n                    type: 'followRequest', // This is the type for follow request notifications\n                    followerUserId: followRequest.followerUserId,\n                    firstName: followRequest.firstName,\n                    lastName: followRequest.lastName,\n                    // Add any other fields you need for the notification\n                  };\n\n                  // Check if a notification for the same follow request already exists\n                  // You might use a unique identifier, like followerUserId, to check for duplicates\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'followRequest' && notification.followerUserId === followRequest.followerUserId;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(followRequestNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...followRequestNotification,\n                    };\n                  }\n                });\n              }\n\n            break;\n            case 'groupJoinRequestResponse':\n              console.log(\"Group join request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(request => {\n                  // Construct a notification object for the group join request\n                  const groupJoinRequestNotification = {\n                    type: 'groupJoinRequest',\n                    requestId: request.requestId,\n                    groupId: request.groupId,\n                    groupName: request.groupName,\n                    requesterUserId: request.userId,\n                    LastName: request.lastName,\n                    FirstName: request.firstName,\n                  };\n\n                  // Add the new notification\n                  this.notifications.push(groupJoinRequestNotification);\n                });\n              }\n            break;\n            }\n        } catch (error) {\n          console.error(\"Error parsing individual message:\", error);\n        }\n      });\n      if (data.userRelations) {\n        // Handle and save userRelations\n        console.log(\"User relations received:\", data.userRelations);\n        const userRelationsArray = Object.values(data.userRelations);\n        localStorage.setItem('userRelations', JSON.stringify(userRelationsArray));\n        this.loadUserRelations();\n\n      }\n      if (data.followingMap) {\n        // Handle and save followingMap\n        console.log(\"Following map received:\", data.followingMap);\n        localStorage.setItem('followingMap', JSON.stringify(data.followingMap));\n      }\n      if (data.followersMap) {\n        // Handle and save followersMap\n        console.log(\"Followers map received:\", data.followersMap);\n        localStorage.setItem('followersMap', JSON.stringify(data.followersMap));\n      }\n      if (data.pendingRequests) {\n        console.log(\"Requests map received:\", data.pendingRequests);\n        localStorage.setItem('pendingRequests', JSON.stringify(data.pendingRequests));\n      }\n      if (data.userGroups) {\n        console.log(\"User groups received:\", data.userGroups);\n        localStorage.setItem('userGroups', JSON.stringify(data.userGroups));\n      }\n      if (data.groupJoinRequests) {\n        console.log(\"Group join requests received:\", data.groupJoinRequests);\n        localStorage.setItem('groupJoinRequests', JSON.stringify(data.groupJoinRequests));\n      }\n    },\n    handleUserClick(relation) {\n      console.log('Opening chat for room:', relation.RoomID);\n      this.currentRoomId = relation.RoomID;\n      this.currentRelationUserId = relation.UserID;\n\n      // Reset unread message count when opening the chat\n      this.unreadMessagesCount[relation.RoomID] = 0;\n\n      // Update the followRelations to trigger reactivity\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === relation.RoomID) {\n          return { ...rel, UnreadCount: 0 };\n        }\n        return rel;\n      });\n\n      this.fetchMessages(relation.RoomID);\n\n      // Toggle the state of the chat window\n      if (this.openChats[relation.RoomID] === undefined) {\n        this.openChats[relation.RoomID] = true;\n      } else {\n        this.openChats[relation.RoomID] = !this.openChats[relation.RoomID];\n      }\n    },\n    fetchMessages(roomId) {\n      let fetchPayload = {\n        type: \"fetchMessages\", // Updated type to reflect the new functionality\n        payload: {\n          roomId: roomId\n        }\n      };\n\n      console.log(\"Fetching messages for room:\", roomId);\n      this.ws.send(JSON.stringify(fetchPayload));\n    },\n    sendChatMessage(message, roomId) {\n      const currentUser = JSON.parse(localStorage.getItem('user'));\n      const senderUserId = currentUser.userID;\n      // Create a new Date object for the current time\n      const timestamp = new Date();\n      let messagePayload = {\n        type: \"chatMessage\",\n        payload: {\n          senderUserId: senderUserId,\n          receiverUserId: this.currentRelationUserId,\n          content: message,\n          roomId: roomId,\n          // Add the timestamp to the payload\n          timestamp: timestamp.toISOString() // Convert to ISO string format\n        }\n      };\n      console.log(\"Sending chat message with timestamp:\", messagePayload);\n      this.ws.send(JSON.stringify(messagePayload));\n    },\n    handleCloseChat(roomId) {\n      // Set the chat window state to closed for the given room ID\n      if (this.openChats[roomId] !== undefined) {\n        this.openChats[roomId] = false;\n        this.messages = [];\n      }\n    },\n    updateUnreadCount(roomId) {\n      // Initialize or increment the unread count\n      this.unreadMessagesCount[roomId] = (this.unreadMessagesCount[roomId] || 0) + 1;\n\n      // Update the followRelations to reflect the changes\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === roomId) {\n          return { ...rel, UnreadCount: this.unreadMessagesCount[roomId] };\n        }\n        return rel;\n      });\n    },\n    loadUserRelations() {\n      const relations = localStorage.getItem('userRelations');\n      if (relations) {\n        try {\n          const parsedRelations = JSON.parse(relations);\n          this.followRelations = parsedRelations.map(relation => {\n            // Initialize unreadMessagesCount for the room if it doesn't exist\n            if (this.unreadMessagesCount[relation.RoomID] === undefined) {\n              this.unreadMessagesCount[relation.RoomID] = relation.UnreadCount || 0;\n            }\n            return {\n              ...relation,\n              UnreadCount: this.unreadMessagesCount[relation.RoomID]\n            };\n          });\n        } catch (error) {\n          console.error('Error parsing followRelations from localStorage:', error);\n        }\n      } else {\n        console.log('No followRelations found in localStorage');\n        this.followRelations = [];\n      }\n    },\n\n    submitGroup() {\n      console.log('Submitting group data:', this.groupName, this.groupDescription, this.selectedUserIds);\n\n      const groupData = {\n        group: {\n          name: this.groupName,\n          description: this.groupDescription\n        },\n        invitedUserIds: this.selectedUserIds,\n      };\n\n      this.$axios.post('/api/createGroup', groupData)\n        .then(response => {\n          // Handle successful group creation\n          console.log('Group created:', response.data);\n          \n          // Add the newly created group to the groups array to display it instantly\n          this.groups.push(response.data);\n\n          // Update userGroups in both localStorage and component state\n          const groupId = response.data.groupId; // Assuming this is how you get groupId from response\n          this.userGroups[groupId] = true;\n          localStorage.setItem('userGroups', JSON.stringify(this.userGroups));\n\n          // Clear the form\n          this.groupName = '';\n          this.groupDescription = '';\n          this.selectedUserIds = [];\n\n         location.reload();\n          // Optionally, refresh the UI or redirect the user to the newly created group's page\n        })\n        .catch(error => {\n          console.error('Error creating group:', error);\n        });\n    },\n\n    fetchGroups() {\n      this.$axios.get('/api/groups')\n      .then(response => {\n        console.log(\"These are the fetched groups:\", response)\n        this.groups = response.data;\n      })\n      .catch(error => {\n        console.error('Error fetching groups:', error);\n      });\n    },\n\n    fetchUsers() {\n      this.$axios.get('/api/users')\n        .then(response => {\n          this.availableUsers = response.data;\n          console.log(\"These are the users available:\", this.availableUsers);\n        })\n        .catch(error => {\n          console.error('Error fetching users:', error);\n        });\n    },\n    navigateToGroup(groupId) {\n      console.log('Navigating to group:', groupId);\n      // Ensure \"groupId\" matches the parameter name expected by the route\n      this.$router.push({ name: 'GroupDetail', params: { groupId: groupId } });\n    },\n    \n    joinGroup(groupId) {\n      const userId = this.currentUserId;\n      if (!userId) {\n        alert(\"Please log in to join groups.\");\n        return;\n      }\n\n      const payload = { userId, groupId };\n\n      this.$axios.post('/api/joinGroup', payload)\n        .then(response => {\n          console.log(response);\n          alert(\"Request to join group has been sent.\");\n\n          // Update groupJoinRequests in localStorage\n          let groupJoinRequests = JSON.parse(localStorage.getItem('groupJoinRequests') || '{}');\n          groupJoinRequests[groupId] = true;\n          localStorage.setItem('groupJoinRequests', JSON.stringify(groupJoinRequests));\n\n          this.$forceUpdate();\n          location.reload();\n          // Optionally, refresh the UI to indicate the join request is pending\n        })\n        .catch(error => {\n          console.error('Error joining group:', error);\n          alert(\"Failed to send join group request.\");\n        });\n    },\n\n    leaveGroup(groupId) {\n      const userId = this.currentUserId;\n      if (!userId) {\n        alert(\"Please log in to leave groups.\");\n        return;\n      }\n\n      const payload = { userId, groupId };\n\n      this.$axios.post('/api/leaveGroup', payload)\n        .then(response => {\n          console.log(response);\n            alert(\"You have left the group.\");\n\n            // Remove groupId from userGroups in localStorage\n            let userGroups = JSON.parse(localStorage.getItem('userGroups') || '{}');\n            delete userGroups[groupId];\n            localStorage.setItem('userGroups', JSON.stringify(userGroups));\n\n            this.$forceUpdate();\n            location.reload();\n          // Optionally, refresh the UI to reflect that the user has left the group\n        })\n        .catch(error => {\n          console.error('Error leaving group:', error);\n          alert(\"Failed to send leave group request.\");\n        });\n    },\n\n    toggleNotificationCenter() {\n      this.isNotificationCenterVisible = !this.isNotificationCenterVisible;\n      // If opening the notification center, check for new notifications\n      if (this.isNotificationCenterVisible) {\n        // List of notification types to check\n        const notificationTypes = [\"eventInvite\", \"groupInvite\", \"followRequestCheck\", \"groupJoinRequestCheck\"];\n        notificationTypes.forEach(type => {\n          const payload = {\n            type: type,\n            payload: {\n              userId: this.currentUserId\n            }\n          };\n          console.log(\"Notifications payload for \" + type + \":\", payload);\n          this.ws.send(JSON.stringify(payload));\n        });\n      }\n    },\n\n    handleResponse(notification, userResponse, responseType) {\n      let responsePayload;\n\n      if (responseType === \"event\") {\n        responsePayload = {\n          type: \"eInviteResponse\",\n          payload: {\n            responseId: notification.responseId,\n            userId: this.currentUserId,\n            response: userResponse,\n          },\n        };\n      } else if (responseType === \"group\") {\n        responsePayload = {\n          type: \"gInviteResponse\",\n          payload: {\n            groupId: notification.groupId,\n            userId: this.currentUserId,\n            accept: userResponse,\n          },\n        };\n      } else if (responseType === \"follow\") {\n        responsePayload = {\n          type: userResponse ? \"acceptFollowRequest\" : \"declineFollowRequest\",\n          payload: {\n            userId: this.currentUserId,\n            followerUserId: notification.followerUserId,\n          },\n        };\n\n        // Send the WebSocket message\n        this.ws.send(JSON.stringify(responsePayload));\n\n        // This includes removing the pending follow request notification\n        this.notifications = this.notifications.filter(item => item.type !== 'followRequest' || item.followerUserId !== notification.followerUserId);\n\n      } else if (responseType === \"groupJoinRequest\") {\n        responsePayload = {\n          type: userResponse ? \"acceptGroupJoinRequest\" : \"declineGroupJoinRequest\",\n          payload: {\n            userId: this.currentUserId,\n            requestId: notification.requestId,\n          },\n        };\n      }\n\n\n      console.log(`${responseType} response payload going to backend`, responsePayload);\n      this.ws.send(JSON.stringify(responsePayload));\n\n      if (responseType === \"groupJoinRequest\") {\n        this.notifications = this.notifications.filter(item => item.requestId !== notification.requestId);\n      } else if (responseType === \"event\" || responseType === \"group\") {\n        this.notifications = this.notifications.filter(item => responseType === \"event\" ? item.responseId !== notification.responseId : item.groupId !== notification.groupId);\n      }\n    },\n\n\n\n  },\n  mounted() {\n    this.connectToWebsocket();\n    this.fetchGroups();\n    this.fetchUsers();\n  },\n}\n\n\n</script>\n\n<style scoped>\n.action-buttons-left-sidebar {\n  display: flex;\n  flex-direction: column;\n  background: none;\n\n}\n.content-wrapper {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n}\n.groups-content {\n  display: flex;\n  flex-direction: column;\n  max-width: 50%;\n}\n\n.group-list-container {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px; /* Spacing between cards */\n  justify-content: space-around; /* Distribute space around the cards */\n}\n\n.group-card {\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  width: 250px; /* Fixed width or use max-width for responsive design */\n  margin-bottom: 20px; /* Space between the rows */\n  text-align: center; /* Center the text */\n}\n\n.group-title {\n  font-size: 1.2em;\n  margin: 0 0 10px;\n  color: #333;\n}\n\n.group-description {\n  font-size: 0.9em;\n  color: #666;\n  margin-bottom: 15px;\n}\n\n.join-btn {\n  background-color: #5cb85c;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  font-size: 0.9em;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.leave-btn {\n  background-color: #f44336;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  font-size: 0.9em;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.pending-btn {\n  background-color: #5cb85c;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  font-size: 0.9em;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  opacity: 0.6;\n}\n\n.details-btn {\n  color: black;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 15px;\n  font-size: 0.9em;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  background-color: lightgray;\n}\n\n.action-buttons {\n  display: flex;\n  gap: px;\n  justify-content: center;\n}\n\n.action-buttons button:hover {\n  opacity: 0.8;\n}\n\n.create-group-sidebar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  background-color: #f5f5f5;\n  border-bottom: 1px solid #ddd;\n  height: 60px;\n  box-sizing: border-box;\n}\n\n.create-group-sidebar-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  margin-right: 5rem;\n}\n\n.create-group-sidebar-header button {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n\nbutton {\n  background: none;\n  color: black;\n  font-size: 1rem;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\nbutton:hover {\n  background-color: #cacaca;\n}\n.create-group-body {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n}\n\n.create-group-form {\n  transition: transform 0.3s ease-in-out;\n  transform: translateX(-100%);\n  width: 350px; /* Adjust based on your design */\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 1000; /* Ensures the sidebar appears above other elements */\n  background-color: white;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.create-group-form.is-visible {\n  transform: translateX(0);\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.form-group input[type=\"text\"],\n.form-group textarea {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  resize: none;\n  box-sizing: border-box;\n}\n\n.user-invitation-list {\n  list-style: none;\n  padding: 0;\n  margin-top: 15px;\n}\n\n.user-invitation-list li {\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  align-items: center;\n}\n\n.user-invitation-list input[type=\"checkbox\"] {\n  margin-right: 10px;\n}\n\n.user-invitation-list label {\n  margin: 0;\n  cursor: pointer;\n}\n\nbutton[type=\"submit\"] {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  margin-top: 20px;\n  cursor: pointer;\n  font-size: 1rem;\n}\n\nbutton[type=\"submit\"]:hover {\n  background-color: #0069d9;\n}\n\n.sidebar-back {\n  font-size: 2rem;\n  margin-left: 10px;\n  font-weight: 400;\n}\n</style>\n\n","import { render } from \"./GroupsPage.vue?vue&type=template&id=6a92fc40&scoped=true\"\nimport script from \"./GroupsPage.vue?vue&type=script&lang=js\"\nexport * from \"./GroupsPage.vue?vue&type=script&lang=js\"\n\nimport \"./GroupsPage.vue?vue&type=style&index=0&id=6a92fc40&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a92fc40\"]])\n\nexport default __exports__","<template>\n  <header>\n    <div class=\"header-element-wrapper\">\n    </div>\n    <div class=\"header-element-wrapper\">\n      <nav class=\"navbar\">\n        <router-link to=\"/\" class=\"nav-item\">HOME</router-link>\n        <router-link to=\"/groups\" class=\"nav-item\">GROUPS</router-link>\n        <router-link to=\"/users\" class=\"nav-item\">USERS</router-link> \n        <router-link :to=\"`/profile/${currentUserId}`\" class=\"nav-item\">PROFILE</router-link>\n      </nav>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <button @click=\"handleLogout\">Log Out</button>\n    </div>\n  </header>\n  <div class=\"main-container\">\n    <div class=\"content-wrapper\">\n      <section class=\"users-content\">\n        <h1>Users</h1>\n        <div class=\"users-page-container\">\n          <div v-for=\"user in users\" :key=\"user.userID\">\n            <template v-if=\"user.userID !== currentUserId\">\n              <div class=\"user-card\">\n                <img :src=\"user.profilePicture || defaultProfilePic\" alt=\"Profile Picture\">\n                <div class=\"user-name\">{{ user.firstName }} {{ user.lastName }}</div>\n                <button v-if=\"!isFollowing(user.userID) && !isFollower(user.userID) && !isPending(user.userID)\" @click=\"followUser(user.userID)\" class=\"follow-btn\">Follow</button>\n                <button v-if=\"!isFollowing(user.userID) && isFollower(user.userID) && !isPending(user.userID)\" @click=\"followUser(user.userID)\" class=\"follow-btn\">Follow Back</button>\n                <button v-if=\"isPending(user.userID)\" @click=\"cancelFollowRequest(user.userID)\" class=\"pending-btn\">Pending</button>\n                <button v-if=\"isFollowing(user.userID)\" @click=\"unfollowUser(user.userID)\" class=\"unfollow-btn\">Unfollow</button>\n                <button @click=\"navigateToUserProfile(user.userID)\" class=\"details-button\">View Profile</button>\n                <div v-if=\"user.profilePrivacy === 'Private'\" class=\"profile-privacy\">Private Profile</div>\n              </div>\n            </template>\n          </div>\n        </div>\n        <div class=\"chat-windows-container\">\n          <ChatWindow\n            v-for=\"relation in filteredOpenChats\"\n            :key=\"relation.RoomID\"\n            :currentRoomId=\"relation.RoomID\"\n            :messages=\"messages.filter(m => m.roomId === relation.RoomID)\"\n            :currentUserId=\"currentUserId\"\n            :sendMessageFunction=\"sendChatMessage\"\n            @closeChat=\"handleCloseChat\"\n            class=\"chat-window\"\n          />\n        </div>\n        <aside class=\"user-list\">\n          <h2>Contacts</h2>\n          <ul>\n            <li v-for=\"relation in followRelations\" :key=\"relation.UserID\" @click=\"handleUserClick(relation)\">\n              <img :src=\"relation.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n              {{ (relation.FirstName + ' ' + relation.LastName) }}\n              <span v-if=\"relation.UnreadCount\" class=\"unread-indicator\">\n                {{ relation.UnreadCount }}\n              </span>\n            </li>\n          </ul>\n        </aside>\n        <aside class=\"left-sidebar\">\n          <div class=\"action-buttons-left-sidebar\">\n            <button @click=\"toggleNotificationCenter()\">Notification Center</button>\n          </div>\n        </aside>\n        <aside class=\"notification-center\" :class=\"{ 'is-visible': isNotificationCenterVisible }\">\n        <div class=\"notification-center-header\">\n          <button @click=\"isNotificationCenterVisible = false; notifications = [];\">\n            <span class=\"sidebar-back\">\n              <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                preserveAspectRatio=\"xMidYMid meet\">\n\n                <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                fill=\"#000000\" stroke=\"none\">\n                <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                </g>\n              </svg>\n            </span>\n          </button>\n\n          <h2>Notifications</h2>\n        </div>\n        <div class=\"notification-list\">\n          <div v-for=\"notification in notifications\" :key=\"notification.id\" class=\"notification\">\n            <div v-if=\"notification.type === 'eventInvite'\">\n              <div v-if=\"notificationMessage\" class=\"notification-message\">{{ notificationMessage }}</div>\n              <p class=\"event-invite-message\">\n                You have been invited to <strong>{{ notification.groupName }}</strong> event <strong>\"{{ notification.title }}\"</strong>\n                by <strong>{{ notification.creatorFirstName }} {{ notification.creatorLastName }}</strong>\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"going\" @click=\"handleResponse(notification, 'Going', 'event')\">Going</button>\n                <button class=\"notGoing\" @click=\"handleResponse(notification, 'Not Going', 'event')\">Not Going</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'groupInvite'\">\n              <!-- New groupInvite notification UI -->\n              <p class=\"group-invite-message\">\n                You have been invited to join the group <strong>\"{{ notification.groupName }}\"</strong>\n                by <strong>{{ notification.creatorName }}</strong>. <!-- Consider fetching user's name if possible -->\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'group')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'group')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'followRequest'\">\n              <p class=\"follow-request-message\">\n                  <strong>{{ notification.firstName }} {{ notification.lastName }}</strong> wants to follow you.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'follow')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'follow')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-if=\"notification.type === 'groupJoinRequest'\">\n              <p class=\"group-join-request-message\">\n                <strong>{{ notification.FirstName }} {{ notification.LastName }}</strong> wants to join your group <strong>\"{{ notification.groupName }}\"</strong>.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'groupJoinRequest')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'groupJoinRequest')\">Decline</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </aside>\n      </section>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { mapState } from 'vuex';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '@/constants';\nimport ChatWindow from '@/components/ChatWindow.vue';\n\nexport default {\n  name: 'UsersPage',\n  components: {\n    ChatWindow, \n  },\n  data() {\n    return {\n      users: [],\n      isSidebarVisible: false,\n      availableUsers: [],\n      selectedUserIds: [],\n      groupName: '',\n      groupDescription: '',\n      followRelations: [],\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      ws: null, // WebSocket instance\n      serverUrl: \"ws://localhost:8091/ws\",\n      messages: [],\n      unreadMessagesCount: {},\n      newMessage: \"\",\n      currentRoomId: null,\n      openChats: {},\n      followingMap: JSON.parse(localStorage.getItem('followingMap') || '{}'),\n      followersMap: JSON.parse(localStorage.getItem('followersMap') || '{}'),\n      pendingRequestsMap: JSON.parse(localStorage.getItem('pendingRequests') || '{}'),\n      notifications: [],\n      notificationMessage: '',\n      isNotificationCenterVisible: false,\n    };\n  },\n  mounted: function() {\n    this.connectToWebsocket()\n    this.loadUserRelations();\n    this.fetchUsers();\n\n  },\n  computed: {\n    ...mapState(['isLoggedIn']),\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      return user ? user.userID : null;\n    },\n\n    filteredOpenChats() {\n      if (!Array.isArray(this.followRelations)) {\n        return []; // Return an empty array if followRelations is not an array\n      }\n      return this.followRelations.filter(relation => this.openChats[relation.RoomID]);\n    },\n    isFollowing() {\n      return (userId) => {\n        return this.followingMap[this.currentUserId]?.includes(userId);\n      };\n    },\n    isFollower() {\n      return (userId) => {\n        return this.followersMap[userId]?.includes(this.currentUserId);\n      };\n    },\n    isPending() {\n      return (userId) => {\n        return this.pendingRequestsMap[userId] === 'pending';\n      };\n    },\n    \n  },\n  created() {\n    this.connectToWebsocket();\n  },\n  watch: {\n    users: {\n      handler(newValue, oldValue) {\n        console.log(`Users ARRAY changed`, newValue, oldValue);\n      },\n      deep: true\n    }\n  },\n  methods: {\n    ...mapActions(['logOut']),\n    handleLogout() {\n      this.$axios.post('/api/logout')\n      .then(() => {\n        this.logOut(); \n        this.$cookies.remove('session_id');\n        localStorage.clear();\n        this.$router.push('/welcome');\n      })\n      .catch(error => {\n        console.error('Logout failed:', error);\n      });\n    },\n\n    navigateToUserProfile(userId) {\n      this.$router.push({ name: 'ProfilePage', params: { userId } });\n    },\n\n    handleUserClick(relation) {\n      console.log('Opening chat for room:', relation.RoomID);\n      this.currentRoomId = relation.RoomID;\n      this.currentRelationUserId = relation.UserID;\n\n      // Reset unread message count when opening the chat\n      this.unreadMessagesCount[relation.RoomID] = 0;\n\n      // Update the followRelations to trigger reactivity\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === relation.RoomID) {\n          return { ...rel, UnreadCount: 0 };\n        }\n        return rel;\n      });\n\n      this.fetchMessages(relation.RoomID);\n\n      // Toggle the state of the chat window\n      if (this.openChats[relation.RoomID] === undefined) {\n        this.openChats[relation.RoomID] = true;\n      } else {\n        this.openChats[relation.RoomID] = !this.openChats[relation.RoomID];\n      }\n    },\n\n    connectToWebsocket() {\n      console.log(\"Attempting to connect to WebSocket\");\n      this.ws = new WebSocket(this.serverUrl);\n      this.ws.addEventListener('open', this.onWebsocketOpen);\n      this.ws.addEventListener('message', (event) => { this.handleNewMessage(event) });\n      this.ws.addEventListener('error', this.onWebsocketError);\n      this.ws.addEventListener('close', this.onWebsocketClose);\n    },\n\n    onWebsocketOpen() {\n      console.log(\"Connected to WS!\");\n      // Handle WebSocket open event\n    },\n\n    onWebsocketError(error) {\n      // Handle WebSocket errors\n      console.error(\"WebSocket Error: \", error);\n    },\n\n    onWebsocketClose() {\n      // Handle WebSocket close event\n      console.log(\"WebSocket connection closed\");\n    },\n\n    handleNewMessage(event) {\n      console.log(\"Received WebSocket message:\", event.data);\n\n      // Split the received data by newline and filter out any empty strings\n      const messages = event.data.split('\\n').filter(msg => msg.trim());\n\n      let data;\n\n      // Process each message individually\n      messages.forEach((message) => {\n        try {\n          data = JSON.parse(message);\n          // Now handle the parsed data object as before\n          switch (data.type) {\n            case 'followRequestAccepted':\n            // Update the follow status to 'following' and remove from pending\n            if (data.payload.targetUserId === this.currentUserId) {\n              this.followingMap[this.currentUserId].push(data.payload.requesterUserId);\n              delete this.pendingRequestsMap[data.payload.requesterUserId];\n            }\n          break;\n            case 'followRequestDenied':\n              // Remove from pending requests\n              delete this.pendingRequestsMap[data.payload.requesterUserId];\n            break;\n            case 'chatMessage':\n              if (data.payload.roomId === this.currentRoomId) {\n                this.messages.push(data.payload);\n              } else {\n                // Increment unread message count if ChatWindow is not open\n                if (!this.openChats[data.payload.roomId]) {\n                  this.updateUnreadCount(data.payload.roomId);\n                }\n              }\n            break;\n            case 'fetchMessagesResponse':\n              console.log(\"Fetched messages:\", data.payload);\n              if (data.payload.roomId === this.currentRoomId) {\n                // Check if messages are present in the payload\n                if (data.payload.messages && data.payload.messages.length > 0) {\n                  const fetchedMessages = data.payload.messages.reverse();\n                  this.messages = [...fetchedMessages, ...this.messages];\n                }\n              }\n            break;\n            case 'eventInviteResponse':\n              console.log(\"Event invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Check if a notification with the same responseId already exists in the array\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return (\n                      notification.type === 'eventInvite' &&\n                      notification.responseId === invite.responseId\n                    );\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push({\n                      type: 'eventInvite',\n                      ...invite,\n                    });\n                  } else {\n                    // If a duplicate is found, you can update the existing notification or skip it\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...invite,\n                    };\n                  }\n                });\n              } else {\n                if (data.payload.message) {\n                  this.notificationMessage = (data.payload.message);\n                }\n              }\n            break;\n            case 'groupInviteResponse':\n              console.log(\"Group invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Construct a notification object for the group invite\n                  const groupInviteNotification = {\n                    type: 'groupInvite', // This is the type for group invite notifications\n                    groupId: invite.GroupID,\n                    groupName: invite.Name,\n                    groupDescription: invite.Description,\n                    creatorUserId: invite.CreatorUserID,\n                    creatorName: invite.CreatorName\n                  };\n                  // Check if a notification for the same group already exists\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'groupInvite' && notification.groupId === invite.GroupID;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(groupInviteNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...groupInviteNotification,\n                    };\n                  }\n                });\n              } else {\n                // If the payload is not an array and contains a message, handle it (e.g., show a message to the user)\n                if (data.payload.message) {\n                  this.notificationMessage = data.payload.message;\n                }\n              }\n            break;\n            case 'followRequestResponse':\n              console.log(\"Follow request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(followRequest => {\n                  // Construct a notification object for the follow request\n                  const followRequestNotification = {\n                    type: 'followRequest', // This is the type for follow request notifications\n                    followerUserId: followRequest.followerUserId,\n                    firstName: followRequest.firstName,\n                    lastName: followRequest.lastName,\n                    // Add any other fields you need for the notification\n                  };\n\n                  // Check if a notification for the same follow request already exists\n                  // You might use a unique identifier, like followerUserId, to check for duplicates\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'followRequest' && notification.followerUserId === followRequest.followerUserId;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(followRequestNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...followRequestNotification,\n                    };\n                  }\n                });\n              }\n\n            break;\n            case 'groupJoinRequestResponse':\n              console.log(\"Group join request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(request => {\n                  // Construct a notification object for the group join request\n                  const groupJoinRequestNotification = {\n                    type: 'groupJoinRequest',\n                    requestId: request.requestId,\n                    groupId: request.groupId,\n                    groupName: request.groupName,\n                    requesterUserId: request.userId,\n                    LastName: request.lastName,\n                    FirstName: request.firstName,\n                  };\n\n                  // Add the new notification\n                  this.notifications.push(groupJoinRequestNotification);\n                });\n              }\n            break;\n            }\n        } catch (error) {\n          console.error(\"Error parsing individual message:\", error);\n        }\n      });\n      localStorage.setItem('followingMap', JSON.stringify(this.followingMap));\n      localStorage.setItem('pendingRequests', JSON.stringify(this.pendingRequestsMap));\n      this.fetchUsers();\n      if (data.userRelations) {\n        // Handle and save userRelations\n        console.log(\"User relations received:\", data.userRelations);\n        const userRelationsArray = Object.values(data.userRelations);\n        localStorage.setItem('userRelations', JSON.stringify(userRelationsArray));\n        this.loadUserRelations();\n\n      }\n      if (data.followingMap) {\n        // Handle and save followingMap\n        console.log(\"Following map received:\", data.followingMap);\n        localStorage.setItem('followingMap', JSON.stringify(data.followingMap));\n      }\n      if (data.followersMap) {\n        // Handle and save followersMap\n        console.log(\"Followers map received:\", data.followersMap);\n        localStorage.setItem('followersMap', JSON.stringify(data.followersMap));\n      }\n      if (data.pendingRequests) {\n        console.log(\"Requests map received:\", data.pendingRequests);\n        localStorage.setItem('pendingRequests', JSON.stringify(data.pendingRequests));\n      }\n      if (data.userGroups) {\n        console.log(\"User groups received:\", data.userGroups);\n        localStorage.setItem('userGroups', JSON.stringify(data.userGroups));\n      }\n      if (data.groupJoinRequests) {\n        console.log(\"Group join requests received:\", data.groupJoinRequests);\n        localStorage.setItem('groupJoinRequests', JSON.stringify(data.groupJoinRequests));\n      }\n    },\n\n    updateUnreadCount(roomId) {\n      // Initialize or increment the unread count\n      this.unreadMessagesCount[roomId] = (this.unreadMessagesCount[roomId] || 0) + 1;\n\n      // Update the followRelations to reflect the changes\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === roomId) {\n          return { ...rel, UnreadCount: this.unreadMessagesCount[roomId] };\n        }\n        return rel;\n      });\n    },\n\n    loadUserRelations() {\n      const relations = localStorage.getItem('userRelations');\n      if (relations) {\n        try {\n          const parsedRelations = JSON.parse(relations);\n          this.followRelations = parsedRelations.map(relation => {\n            // Initialize unreadMessagesCount for the room if it doesn't exist\n            if (this.unreadMessagesCount[relation.RoomID] === undefined) {\n              this.unreadMessagesCount[relation.RoomID] = relation.UnreadCount || 0;\n            }\n            return {\n              ...relation,\n              UnreadCount: this.unreadMessagesCount[relation.RoomID]\n            };\n          });\n        } catch (error) {\n          console.error('Error parsing followRelations from localStorage:', error);\n        }\n      } else {\n        console.log('No followRelations found in localStorage');\n        this.followRelations = [];\n      }\n    },\n\n    sendChatMessage(message, roomId) {\n      const currentUser = JSON.parse(localStorage.getItem('user'));\n      const senderUserId = currentUser.userID;\n      // Create a new Date object for the current time\n      const timestamp = new Date();\n      let messagePayload = {\n        type: \"chatMessage\",\n        payload: {\n          senderUserId: senderUserId,\n          receiverUserId: this.currentRelationUserId,\n          content: message,\n          roomId: roomId,\n          // Add the timestamp to the payload\n          timestamp: timestamp.toISOString() // Convert to ISO string format\n        }\n      };\n      console.log(\"Sending chat message with timestamp:\", messagePayload);\n      this.ws.send(JSON.stringify(messagePayload));\n    },\n\n    fetchMessages(roomId) {\n      let fetchPayload = {\n        type: \"fetchMessages\", // Updated type to reflect the new functionality\n        payload: {\n          roomId: roomId\n        }\n      };\n\n      console.log(\"Fetching messages for room:\", roomId);\n      this.ws.send(JSON.stringify(fetchPayload));\n    },\n\n    handleCloseChat(roomId) {\n      // Set the chat window state to closed for the given room ID\n      if (this.openChats[roomId] !== undefined) {\n        this.openChats[roomId] = false;\n        this.messages = [];\n      }\n    },\n\n    followUser(userId) {\n      const isPrivateUser = this.users.find(user => user.userID === userId)?.isPrivate;\n\n      if (isPrivateUser) {\n        const followRequest = {\n          type: 'followRequest',\n          payload: {\n            targetUserId: userId,\n            requesterUserId: this.currentUserId,\n          },\n        };\n        this.ws.send(JSON.stringify(followRequest));\n\n        // Update the pendingRequestsMap optimistically\n        this.pendingRequestsMap[userId] = 'pending'; // Direct assignment works in Vue 3 due to improved reactivity\n        localStorage.setItem('pendingRequests', JSON.stringify(this.pendingRequestsMap));\n      } else {\n        console.log(\"Following user:\", userId);\n        this.$axios.post('/api/following', {\n          userId: userId,\n          action: 'follow'\n        }).then(() => {\n          // On success, update the local state and localStorage\n          if (!this.followingMap[this.currentUserId]) {\n            this.followingMap[this.currentUserId] = []; // Direct assignment\n          }\n          this.followingMap[this.currentUserId].push(userId);\n          localStorage.setItem('followingMap', JSON.stringify(this.followingMap));\n          this.loadUserRelations();\n          // Update component state to reflect changes\n          this.fetchUsers();\n        }).catch(error => console.error('Error following user:', error));\n      }\n    },\n\n    unfollowUser(userId) {\n      console.log(\"Unfollowing user:\", userId);\n      this.$axios.post('/api/following', {\n        userId: userId,\n        action: 'unfollow'\n      }).then(() => {\n        // On success, update the local state and localStorage\n        const index = this.followingMap[this.currentUserId]?.indexOf(userId);\n        if (index > -1) {\n          this.followingMap[this.currentUserId].splice(index, 1);\n          localStorage.setItem('followingMap', JSON.stringify(this.followingMap));\n        }\n\n        // Update component state to reflect changes\n        this.fetchUsers();\n      }).catch(error => console.error('Error unfollowing user:', error));\n    },\n\n    cancelFollowRequest(userId) {\n      // Example with WebSocket\n      const cancelRequest = {\n        type: 'cancelFollowRequest',\n        payload: {\n          targetUserId: userId,\n          requesterUserId: this.currentUserId,\n        },\n      };\n      this.ws.send(JSON.stringify(cancelRequest));\n\n      // Optimistically remove the pending status\n      if (this.pendingRequestsMap[userId]) {\n        delete this.pendingRequestsMap[userId];\n        // Trigger reactivity update\n        this.pendingRequestsMap = { ...this.pendingRequestsMap };\n        localStorage.setItem('pendingRequests', JSON.stringify(this.pendingRequestsMap));\n      }\n\n      // Optionally, refetch or update the users list to reflect the change\n      this.fetchUsers();\n    },\n\n\n    fetchUsers() {\n      this.$axios.get('/api/users')\n      .then(response => {\n        this.users = response.data.map(user => ({\n          ...user,\n          isPrivate: user.profilePrivacy === 'Private',\n          followStatus: 'none', // 'none', 'pending', or 'following'\n        }));\n      })\n      .catch(error => {\n        console.error('Error fetching users:', error);\n      });\n    },\n\n    updateFollowStatus(userId, status) {\n      // Update the followStatus for the specific user\n      this.users = this.users.map(user => {\n        if (user.userID === userId) {\n          return { ...user, followStatus: status };\n        }\n        return user;\n      });\n    },\n\n    submitGroup() {\n      // Log the groupData before sending the request\n      console.log('Submitting group data:', this.groupName, this.groupDescription, this.selectedUserIds);\n\n      const groupData = {\n        group: {\n          name: this.groupName,\n          description: this.groupDescription\n        },\n        invitedUserIds: this.selectedUserIds,\n      };\n\n      this.$axios.post('/api/createGroup', groupData)\n      .then(response => {\n        // Handle successful group creation\n        console.log('Group created:', response.data);\n        \n        // Add the newly created group to the groups array to display it instantly\n        this.groups.push(response.data);\n\n        // Clear the form\n        this.groupName = '';\n        this.groupDescription = '';\n        this.selectedUserIds = [];\n\n        // Optionally, you can redirect to the groups page\n        // this.$router.push('/groups');\n      })\n      .catch(error => {\n        console.error('Error creating group:', error);\n      });\n    },\n\n    toggleNotificationCenter() {\n      this.isNotificationCenterVisible = !this.isNotificationCenterVisible;\n      // If opening the notification center, check for new notifications\n      if (this.isNotificationCenterVisible) {\n        // List of notification types to check\n        const notificationTypes = [\"eventInvite\", \"groupInvite\", \"followRequestCheck\", \"groupJoinRequestCheck\"];\n        notificationTypes.forEach(type => {\n          const payload = {\n            type: type,\n            payload: {\n              userId: this.currentUserId\n            }\n          };\n          console.log(\"Notifications payload for \" + type + \":\", payload);\n          this.ws.send(JSON.stringify(payload));\n        });\n      }\n    },\n\n    handleResponse(notification, userResponse, responseType) {\n      let responsePayload;\n\n      if (responseType === \"event\") {\n        responsePayload = {\n          type: \"eInviteResponse\",\n          payload: {\n            responseId: notification.responseId,\n            userId: this.currentUserId,\n            response: userResponse,\n          },\n        };\n      } else if (responseType === \"group\") {\n        responsePayload = {\n          type: \"gInviteResponse\",\n          payload: {\n            groupId: notification.groupId,\n            userId: this.currentUserId,\n            accept: userResponse,\n          },\n        };\n      } else if (responseType === \"follow\") {\n        responsePayload = {\n          type: userResponse ? \"acceptFollowRequest\" : \"declineFollowRequest\",\n          payload: {\n            userId: this.currentUserId,\n            followerUserId: notification.followerUserId,\n          },\n        };\n\n        // Send the WebSocket message\n        this.ws.send(JSON.stringify(responsePayload));\n\n        // This includes removing the pending follow request notification\n        this.notifications = this.notifications.filter(item => item.type !== 'followRequest' || item.followerUserId !== notification.followerUserId);\n\n      } else if (responseType === \"groupJoinRequest\") {\n        responsePayload = {\n          type: userResponse ? \"acceptGroupJoinRequest\" : \"declineGroupJoinRequest\",\n          payload: {\n            userId: this.currentUserId,\n            requestId: notification.requestId,\n          },\n        };\n      }\n\n\n      console.log(`${responseType} response payload going to backend`, responsePayload);\n      this.ws.send(JSON.stringify(responsePayload));\n\n      if (responseType === \"groupJoinRequest\") {\n        this.notifications = this.notifications.filter(item => item.requestId !== notification.requestId);\n      } else if (responseType === \"event\" || responseType === \"group\") {\n        this.notifications = this.notifications.filter(item => responseType === \"event\" ? item.responseId !== notification.responseId : item.groupId !== notification.groupId);\n      }\n    },\n\n\n  }\n};\n</script>\n\n<style scoped>\n.action-buttons-left-sidebar {\n  display: flex;\n  flex-direction: column;\n  background: none;\n\n}\n\nbutton {\n  background: none;\n  color: black;\n  font-size: 1rem;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\nbutton:hover {\n  background-color: #cacaca;\n}\n\n.content-wrapper {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n}\n.users-content {\n  display: flex;\n  flex-direction: column;\n  max-width: 50%;\n}\n.users-page-container {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px; /* Spacing between cards */\n  justify-content: space-around; /* Distribute space around the cards */\n}\n.users-page-container ul {\n  list-style-type: none;\n  padding: 0;\n}\n\n.user-card {\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  width: 250px; /* Fixed width or use max-width for responsive design */\n  margin-bottom: 20px; /* Space between the rows */\n  text-align: center; /* Center the text */\n}\n\n.details-button {\n  background-color: lightgray;\n}\n.user-card img {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  margin: auto;\n  display: block;\n}\n\n.user-card .user-name {\n  margin-top: 10px;\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.user-card .follow-btn {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  cursor: pointer;\n  padding: 10px 20px;\n  margin-top: 10px;\n  border-radius: 5px;\n}\n\n.user-card .unfollow-btn {\n  background-color: #f44336;\n  color: white;\n  border: none;\n  cursor: pointer;\n  padding: 10px 20px;\n  margin-top: 10px;\n  border-radius: 5px;\n}\n\n.user-card .pending-btn {\n  background-color: #d3d3d3;\n  color: black;\n  border: none;\n  cursor: pointer;\n  padding: 10px 20px;\n  margin-top: 10px;\n  border-radius: 5px;\n}\n\n.user-card .profile-privacy {\n  margin-top: 10px;\n  font-style: italic;\n  color: #666;\n}\n\n</style>\n","import { render } from \"./UsersPage.vue?vue&type=template&id=1f2ff3cd&scoped=true\"\nimport script from \"./UsersPage.vue?vue&type=script&lang=js\"\nexport * from \"./UsersPage.vue?vue&type=script&lang=js\"\n\nimport \"./UsersPage.vue?vue&type=style&index=0&id=1f2ff3cd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f2ff3cd\"]])\n\nexport default __exports__","<template>\n  <header>\n    <div class=\"header-element-wrapper\">\n      <h1>Welcome to {{ groupName }}</h1>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <nav class=\"navbar\">\n        <router-link to=\"/\" class=\"nav-item\">HOME</router-link>\n        <router-link to=\"/groups\" class=\"nav-item\">GROUPS</router-link>\n        <router-link to=\"/users\" class=\"nav-item\">USERS</router-link> \n        <router-link :to=\"`/profile/${currentUserId}`\" class=\"nav-item\">PROFILE</router-link>\n      </nav>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <button @click=\"handleLogout\">Log Out</button>\n    </div>\n  </header>\n\n  <div class=\"main-container\">\n    <div class=\"content-wrapper\">\n      <div class=\"group-detail-content\">\n        <ContentContainer \n        :currentUserId=\"currentUserId\" \n        :groupID=\"groupId\"\n        />\n      </div>\n      <aside class=\"user-list\">\n        <h2>Group Members</h2>\n        <ul>\n          <li v-for=\"member in groupMembers\" :key=\"member.UserID\">\n            <img :src=\"member.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n            {{ member.firstName + ' ' + member.lastName }}\n          </li>\n        </ul>\n        <GroupChatWindow\n          :isVisible=\"showGroupChat\"\n          :groupId=\"groupId\"\n          :groupName=\"groupName\"\n          :messages=\"messages.filter(m => m.roomId === currentRoomId)\"\n          :currentUserId=\"currentUserId\"\n          @close=\"showGroupChat = false\"\n          @sendMessage=\"sendChatMessage\"\n        />\n        <button v-if=\"isGroupMember\" @click=\"connectToGroupChat(groupId)\" class=\"join-groupchat-btn\">Join Group Chat</button>\n      </aside>\n      <aside class=\"left-sidebar\">\n        <div class=\"action-buttons-left-sidebar\">\n          <button @click=\"toggleNotificationCenter()\">Notification Center</button>\n          <div v-if=\"isGroupMember\">\n            <button @click=\"isCreatEventVisible = !isCreatEventVisible\">Create New Event</button>\n            <button @click=\"toggleInviteList\">Invite Users</button>\n          </div>\n        </div>\n          \n        <div v-if=\"showInviteList\" class=\"invite-users-list\">\n          <ul>\n            <li v-for=\"user in filteredUsers\" :key=\"user.userID\">\n              <input type=\"checkbox\" :id=\"`invite-${user.userID}`\" :value=\"user.userID\" v-model=\"selectedUserIds\">\n              <label :for=\"`invite-${user.userID}`\">{{ user.firstName + ' ' + user.lastName }}</label>\n            </li>\n          </ul>\n          <button @click=\"submitInvitations\" class=\"invite-button\">Send Invites</button>\n        </div>\n        <div class=\"event-list\">\n          <div v-if=\"events && events.length > 0\">\n            <h3>Events</h3>\n            <br>\n            <div v-for=\"event in events\" :key=\"event.EventID\" @click=\"toggleEvent(event.EventID)\" :class=\"{ 'event': true, 'expanded': expandedEventId === event.EventID }\">\n            <div>\n              <h3>{{ event.Title }}</h3>\n              <p>{{ new Date(event.EventDateTime).toLocaleString() }}</p>\n            </div>\n            <div class=\"event-details\" v-if=\"expandedEventId === event.EventID\">\n              <p>Created by: {{ event.FirstName }} {{ event.LastName }}</p>\n              <p>{{ event.Description }}</p>\n              <div v-if=\"event.Going.length > 0\">\n                <p>Going:</p>\n                <ul>\n                  <li v-for=\"user in event.Going\" :key=\"user\">{{ user }}</li>\n                </ul>\n              </div>\n              <div v-if=\"event.NotGoing.length > 0\">\n                <p>Not Going:</p>\n                <ul>\n                  <li v-for=\"user in event.NotGoing\" :key=\"user\">{{ user }}</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          </div>\n        </div>\n      </aside>\n\n\n      <aside class=\"event-creation-form\" :class=\"{ 'is-visible': isCreatEventVisible }\">\n        <div class=\"event-creation-sidebar-header\">\n          <button @click=\"isCreatEventVisible = false\">\n            <span class=\"sidebar-back\">\n              <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                preserveAspectRatio=\"xMidYMid meet\">\n\n                <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                fill=\"#000000\" stroke=\"none\">\n                <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                </g>\n              </svg>\n            </span>\n          </button>\n          <h2>Create New Event</h2>\n        </div>\n        <div class=\"create-event-body\">\n          <form @submit.prevent=\"submitEvent\">\n            <div class=\"form-group\">\n              <label for=\"eventName\">Event Title:</label>\n              <input type=\"text\" id=\"eventName\" v-model=\"eventName\" required>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"eventDescription\">Description:</label>\n              <textarea id=\"eventDescription\" v-model=\"eventDescription\" rows=\"5\" required></textarea>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"eventDateTime\">Day/Time:</label>\n              <input type=\"datetime-local\" id=\"eventDateTime\" v-model=\"eventDateTime\" required>\n            </div>\n\n            <label>Invite Group Members:</label>\n            <ul class=\"user-invitation-list\">\n              <li v-for=\"member in groupMembers\" :key=\"member.userID\">\n                <input\n                  type=\"checkbox\"\n                  :id=\"`invite-${member.userID}`\"\n                  :value=\"member.userID\"\n                  v-model=\"selectedUserIds\"\n                >\n                <label :for=\"`invite-${member.userID}`\">\n                  {{ member.firstName + ' ' + member.lastName }}\n                </label>\n              </li>\n            </ul>\n\n            <button type=\"submit\">Create Event</button>\n          </form>\n        </div>\n      </aside>\n      <aside class=\"notification-center\" :class=\"{ 'is-visible': isNotificationCenterVisible }\">\n        <div class=\"notification-center-header\">\n          <button @click=\"isNotificationCenterVisible = false; notifications = [];\">\n            <span class=\"sidebar-back\">\n              <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                preserveAspectRatio=\"xMidYMid meet\">\n\n                <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                fill=\"#000000\" stroke=\"none\">\n                <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                </g>\n              </svg>\n            </span>\n          </button>\n\n          <h2>Notifications</h2>\n        </div>\n        <div class=\"notification-list\">\n          <div v-for=\"notification in notifications\" :key=\"notification.id\" class=\"notification\">\n            <div v-if=\"notification.type === 'eventInvite'\">\n              <div v-if=\"notificationMessage\" class=\"notification-message\">{{ notificationMessage }}</div>\n              <p class=\"event-invite-message\">\n                You have been invited to <strong>{{ notification.groupName }}</strong> event <strong>\"{{ notification.title }}\"</strong>\n                by <strong>{{ notification.creatorFirstName }} {{ notification.creatorLastName }}</strong>\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"going\" @click=\"handleResponse(notification, 'Going', 'event')\">Going</button>\n                <button class=\"notGoing\" @click=\"handleResponse(notification, 'Not Going', 'event')\">Not Going</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'groupInvite'\">\n              <!-- New groupInvite notification UI -->\n              <p class=\"group-invite-message\">\n                You have been invited to join the group <strong>\"{{ notification.groupName }}\"</strong>\n                by <strong>{{ notification.creatorName }}</strong>. <!-- Consider fetching user's name if possible -->\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'group')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'group')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'followRequest'\">\n              <p class=\"follow-request-message\">\n                  <strong>{{ notification.firstName }} {{ notification.lastName }}</strong> wants to follow you.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'follow')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'follow')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-if=\"notification.type === 'groupJoinRequest'\">\n              <p class=\"group-join-request-message\">\n                <strong>{{ notification.FirstName }} {{ notification.LastName }}</strong> wants to join your group <strong>\"{{ notification.groupName }}\"</strong>.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'groupJoinRequest')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'groupJoinRequest')\">Decline</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '@/constants';\nimport ContentContainer from '@/components/ContentContainer.vue';\nimport GroupChatWindow from '@/components/GroupChatWindow.vue';\n\nexport default {\n  name: 'GroupDetail',\n  components: {\n    ContentContainer,\n    GroupChatWindow,\n  },\n  data() {\n    return {\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      group: null,\n      groupId: this.$route.params.groupId,\n      ws: null, // WebSocket instance\n      serverUrl: \"ws://localhost:8091/ws\",\n      messages: [],\n      unreadMessagesCount: {},\n      newMessage: \"\",\n      currentRoomId: null,\n      openChats: {},\n      followRelations: [],\n      isCreatEventVisible: false,\n      availableUsers: [],\n      events: [],\n      expandedEventId: null,\n      eventName: '',\n      eventDescription: '',\n      eventDateTime: '',\n      selectedUserIds: [],\n      groupName: '',\n      groupDescription: '',\n      groupMembers: [],\n      showGroupChat: false,\n      invitedUserIds: [],\n      filteredUsers: [],\n      showInviteList: false,\n      notifications: [],\n      notificationMessage: '',\n      isNotificationCenterVisible: false,\n    };\n  },\n  watch: {\n    // Watch for changes in `groupId` and log the change\n    currentRoomId(newValue, oldValue) {\n      console.log(`currenRoomId changed from ${oldValue} to ${newValue}`);\n    },\n    'group.name'(newValue, oldValue) {\n      console.log(`Group name changed from ${oldValue} to ${newValue}`);\n    },\n    messages: {\n      handler(newValue) {\n        console.log('Messages array changed.', newValue);\n      },\n      deep: true\n    },\n    showGroupChat(newValue) {\n      console.log(`showGroupChat changed to ${newValue}`);\n    },\n    events: {\n      handler(newValue, oldValue) {\n        console.log(`Events changed`, newValue, oldValue);\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    this.loadUserRelations();\n    this.connectToWebsocket();\n    this.fetchGroupDetail();\n    this.fetchGroupMembers();\n    this.fetchEvents();\n    const joinGroupChatData = JSON.parse(localStorage.getItem('joinGroupChatData'));\n    if (joinGroupChatData) {\n      // Handle the join group chat response data\n      console.log(\"Group chatroom ID:\", joinGroupChatData);\n      // Optionally, clear the storage if it's a one-time read\n      localStorage.removeItem('joinGroupChatData');\n    }\n  },\n  computed: {\n    ...mapState(['isLoggedIn', 'currentUser']),\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      return user ? user.userID : null;\n    },\n\n    filteredOpenChats() {\n      if (!Array.isArray(this.followRelations)) {\n        return []; // Return an empty array if followRelations is not an array\n      }\n      return this.followRelations.filter(relation => this.openChats[relation.RoomID]);\n    },\n    isGroupMember() {\n      return this.groupMembers.includes(this.currentUserId);\n    },\n  },\n  methods: {\n    ...mapActions(['logOut']),\n    handleLogout() {\n      this.$axios.post('/api/logout')\n      .then(() => {\n        this.logOut(); \n        this.$cookies.remove('session_id');\n        localStorage.clear();\n        this.$router.push('/welcome');\n      })\n      .catch(error => {\n        console.error('Logout failed:', error);\n      });\n    },\n\n    loadUserRelations() {\n      const relations = localStorage.getItem('userRelations');\n      if (relations) {\n        try {\n          const parsedRelations = JSON.parse(relations);\n          this.followRelations = parsedRelations.map(relation => {\n            // Initialize unreadMessagesCount for the room if it doesn't exist\n            if (this.unreadMessagesCount[relation.RoomID] === undefined) {\n              this.unreadMessagesCount[relation.RoomID] = relation.UnreadCount || 0;\n            }\n            return {\n              ...relation,\n              UnreadCount: this.unreadMessagesCount[relation.RoomID]\n            };\n          });\n        } catch (error) {\n          console.error('Error parsing followRelations from localStorage:', error);\n        }\n      } else {\n        console.log('No followRelations found in localStorage');\n        this.followRelations = [];\n      }\n    },\n\n    connectToWebsocket() {\n      // Check if an existing WebSocket connection is open\n      if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n        console.log(\"WebSocket already open.\");\n        return; // Exit if connection is already established\n      }\n\n      console.log(\"Attempting to connect to WebSocket\");\n      this.ws = new WebSocket(this.serverUrl);\n\n      // Attach event listeners\n      this.ws.addEventListener('open', this.onWebsocketOpen);\n      this.ws.addEventListener('message', (event) => { this.handleNewMessage(event) });\n      this.ws.addEventListener('error', this.onWebsocketError);\n      this.ws.addEventListener('close', this.onWebsocketClose);\n    },\n\n    onWebsocketOpen() {\n      console.log(\"Connected to WS!\");\n      // Handle WebSocket open event\n    },\n\n    onWebsocketError(error) {\n      // Handle WebSocket errors\n      console.error(\"WebSocket Error: \", error);\n    },\n\n    onWebsocketClose() {\n      // Handle WebSocket close event\n      console.log(\"WebSocket connection closed\");\n    },\n\n    handleNewMessage(event) {\n      console.log(\"Received WebSocket message:\", event.data);\n\n      // Split the received data by newline and filter out any empty strings\n      const messages = event.data.split('\\n').filter(msg => msg.trim());\n\n      let data;\n\n      // Process each message individually\n      messages.forEach((message) => {\n        try {\n          data = JSON.parse(message);\n          // Now handle the parsed data object as before\n          switch (data.type) {\n            case 'joinGroupChatResponse':\n              this.handleJoinGroupChatResponse(data.payload);\n            break;\n            case 'chatMessage':\n              if (data.payload.roomId === this.currentRoomId) {\n                this.messages.push(data.payload);\n              } else {\n                // Increment unread message count if ChatWindow is not open\n                if (!this.openChats[data.payload.roomId]) {\n                  this.updateUnreadCount(data.payload.roomId);\n                }\n              }\n            break;\n            case 'fetchMessagesResponse':\n              console.log(\"Fetched messages:\", data.payload);\n              if (data.payload.roomId === this.currentRoomId) {\n                // Check if messages are present in the payload\n                if (data.payload.messages && data.payload.messages.length > 0) {\n                  const fetchedMessages = data.payload.messages.reverse();\n                  this.messages = [...fetchedMessages, ...this.messages];\n                }\n              }\n            break;\n            case 'eventInviteResponse':\n              console.log(\"Event invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Check if a notification with the same responseId already exists in the array\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return (\n                      notification.type === 'eventInvite' &&\n                      notification.responseId === invite.responseId\n                    );\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push({\n                      type: 'eventInvite',\n                      ...invite,\n                    });\n                  } else {\n                    // If a duplicate is found, you can update the existing notification or skip it\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...invite,\n                    };\n                  }\n                });\n              } else {\n                if (data.payload.message) {\n                  this.notificationMessage = (data.payload.message);\n                }\n              }\n            break;\n            case 'groupInviteResponse':\n              console.log(\"Group invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Construct a notification object for the group invite\n                  const groupInviteNotification = {\n                    type: 'groupInvite', // This is the type for group invite notifications\n                    groupId: invite.GroupID,\n                    groupName: invite.Name,\n                    groupDescription: invite.Description,\n                    creatorUserId: invite.CreatorUserID,\n                    creatorName: invite.CreatorName\n                  };\n                  // Check if a notification for the same group already exists\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'groupInvite' && notification.groupId === invite.GroupID;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(groupInviteNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...groupInviteNotification,\n                    };\n                  }\n                });\n              } else {\n                // If the payload is not an array and contains a message, handle it (e.g., show a message to the user)\n                if (data.payload.message) {\n                  this.notificationMessage = data.payload.message;\n                }\n              }\n            break;\n            case 'followRequestResponse':\n              console.log(\"Follow request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(followRequest => {\n                  // Construct a notification object for the follow request\n                  const followRequestNotification = {\n                    type: 'followRequest', // This is the type for follow request notifications\n                    followerUserId: followRequest.followerUserId,\n                    firstName: followRequest.firstName,\n                    lastName: followRequest.lastName,\n                    // Add any other fields you need for the notification\n                  };\n\n                  // Check if a notification for the same follow request already exists\n                  // You might use a unique identifier, like followerUserId, to check for duplicates\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'followRequest' && notification.followerUserId === followRequest.followerUserId;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(followRequestNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...followRequestNotification,\n                    };\n                  }\n                });\n              }\n\n            break;\n            case 'groupJoinRequestResponse':\n              console.log(\"Group join request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(request => {\n                  // Construct a notification object for the group join request\n                  const groupJoinRequestNotification = {\n                    type: 'groupJoinRequest',\n                    requestId: request.requestId,\n                    groupId: request.groupId,\n                    groupName: request.groupName,\n                    requesterUserId: request.userId,\n                    LastName: request.lastName,\n                    FirstName: request.firstName,\n                  };\n\n                  // Add the new notification\n                  this.notifications.push(groupJoinRequestNotification);\n                });\n              }\n            break;\n            }\n        } catch (error) {\n          console.error(\"Error parsing individual message:\", error);\n        }\n      });\n      if (data.userRelations) {\n        // Handle and save userRelations\n        console.log(\"User relations received:\", data.userRelations);\n        const userRelationsArray = Object.values(data.userRelations);\n        localStorage.setItem('userRelations', JSON.stringify(userRelationsArray));\n      }\n      if (data.followingMap) {\n        // Handle and save followingMap\n        console.log(\"Following map received:\", data.followingMap);\n        localStorage.setItem('followingMap', JSON.stringify(data.followingMap));\n      }\n      if (data.followersMap) {\n        // Handle and save followersMap\n        console.log(\"Followers map received:\", data.followersMap);\n        localStorage.setItem('followersMap', JSON.stringify(data.followersMap));\n      }\n      if (data.pendingRequests) {\n        console.log(\"Requests map received:\", data.pendingRequests);\n        localStorage.setItem('pendingRequests', JSON.stringify(data.pendingRequests));\n      }\n      if (data.userGroups) {\n        console.log(\"User groups received:\", data.userGroups);\n        localStorage.setItem('userGroups', JSON.stringify(data.userGroups));\n      }\n      if (data.groupJoinRequests) {\n        console.log(\"Group join requests received:\", data.groupJoinRequests);\n        localStorage.setItem('groupJoinRequests', JSON.stringify(data.groupJoinRequests));\n      }\n    },\n\n\n    fetchGroupDetail() {\n      const groupId = this.$route.params.groupId;\n      this.$axios.post(`/api/group/details`, { groupId: groupId }, { withCredentials: true })\n        .then(response => {\n          console.log(response)\n            this.group = response.data;\n            const groupData = response.data\n            this.groupName = groupData.name;\n            this.groupDescription = groupData.description;\n        })\n        .catch(error => {\n            console.error('Failed to fetch group details:', error);\n        });\n    },\n\n    sendChatMessage(messageObject) {\n      const currentUser = JSON.parse(localStorage.getItem('user'));\n      const senderUserId = currentUser.userID;\n      const timestamp = new Date();\n\n      // Ensure groupId is an integer if it exists\n      const groupId = messageObject.groupId ? parseInt(messageObject.groupId, 10) : undefined;\n      // Add a check to ensure groupId is a number before including it\n      const payloadGroupId = !isNaN(groupId) ? groupId : undefined;\n\n      // Construct the message payload\n      let messagePayload = {\n        type: \"chatMessage\",\n        payload: {\n          senderUserId: senderUserId,\n          content: messageObject.content,\n          timestamp: timestamp.toISOString(),\n          groupId: payloadGroupId,\n          roomId: this.currentRoomId ? this.currentRoomId : undefined\n        }\n      };\n\n      console.log(\"Sending chat message:\", JSON.stringify(messagePayload));\n      this.ws.send(JSON.stringify(messagePayload));\n    },\n\n    toggleInviteList() {\n      this.showInviteList = !this.showInviteList;\n      if (this.showInviteList) {\n        this.prepareInviteList();\n      }\n    },\n    prepareInviteList() {\n      Promise.all([this.fetchUsers(), this.fetchGroupMembers(), this.fetchInvitedUsers()])\n        .then(() => {\n          this.filterOutGroupMembersAndInvitedUsers();\n        })\n        .catch(error => console.error(\"Error preparing invite list:\", error));\n    },\n\n\n    fetchMessages(roomId) {\n      const groupIdInt = this.groupId ? parseInt(this.groupId, 10) : null;\n      let fetchPayload = {\n        type: \"fetchMessages\", // Updated type to reflect the new functionality\n        payload: {\n          roomId: roomId,\n          ...(Number.isInteger(groupIdInt) && { groupId: groupIdInt })\n        }\n      };\n\n      console.log(\"Fetching messages for room:\", roomId);\n      console.log(\"Fetching messages with payload:\", fetchPayload);\n      this.ws.send(JSON.stringify(fetchPayload));\n    },\n\n    handleCloseChat(roomId) {\n      // Set the chat window state to closed for the given room ID\n      if (this.openChats[roomId] !== undefined) {\n        this.openChats[roomId] = false;\n      }\n    },\n\n    fetchUsers() {\n      return this.$axios.get('/api/users')\n        .then(response => {\n          // Assuming response.data is an array of user objects\n          this.availableUsers = response.data;\n        })\n        .catch(error => {\n          console.error('Error fetching users:', error);\n          throw error; // Rethrow to be caught in prepareInviteList\n        });\n    },\n\n    fetchInvitedUsers() {\n      const payload = { groupId: parseInt(this.groupId, 10) };\n      return this.$axios.post('/api/invitedUsers', payload) // Adjust the endpoint as necessary\n        .then(response => {\n          // Assuming response.data is an array of user IDs\n          this.invitedUserIds = response.data.map(invite => invite.userID);\n        })\n        .catch(error => {\n          console.error('Error fetching invited users:', error);\n          throw error; // Rethrow to be caught in prepareInviteList\n        });\n    },\n\n\n    filterOutGroupMembersAndInvitedUsers() {\n      const excludedUserIDs = new Set([...this.groupMembers.map(member => member.userID), ...this.invitedUserIds]);\n      this.filteredUsers = this.availableUsers.filter(user => !excludedUserIDs.has(user.userID));\n    },\n\n\n    submitInvitations() {\n      const payload = {\n        groupId: parseInt(this.groupId, 10), // Assuming this.groupId holds the current group's ID\n        invitedUserIds: this.selectedUserIds // Assuming this.selectedUserIds holds the array of user IDs to invite\n      };\n\n      console.log(typeof(payload.invitedUserIds), payload.invitedUserIds);\n      console.log(typeof(payload.groupId), payload.groupId);\n\n      this.$axios.post('/api/inviteUsers', payload)\n        .then(response => {\n          console.log('Invitations sent successfully:', response.data);\n          alert('Invitations sent successfully.');\n          // Handle successful invitation sending here (e.g., clear selection)\n          this.selectedUserIds = [];\n          location.reload();\n        })\n        .catch(error => {\n          console.error('Error sending invitations:', error);\n          // Handle errors here\n        });\n    },\n\n    submitGroup() {\n      // Log the groupData before sending the request\n      console.log('Submitting group data:', this.groupName, this.groupDescription, this.selectedUserIds);\n\n      const groupData = {\n        group: {\n          name: this.groupName,\n          description: this.groupDescription\n        },\n        invitedUserIds: this.selectedUserIds,\n      };\n\n      this.$axios.post('/api/createGroup', groupData)\n      .then(response => {\n        // Handle successful group creation\n        console.log('Group created:', response.data);\n        \n        // Add the newly created group to the groups array to display it instantly\n        this.groups.push(response.data);\n\n        // Clear the form\n        this.groupName = '';\n        this.groupDescription = '';\n        this.selectedUserIds = [];\n\n        // Optionally, you can redirect to the groups page\n        // this.$router.push('/groups');\n      })\n      .catch(error => {\n        console.error('Error creating group:', error);\n      });\n    },\n\n    fetchGroupMembers() {\n      this.$axios.get(`/api/groupMembers?groupID=${this.groupId}`)\n        .then(response => {\n          if (response.data) {\n            console.log(\"Fetched group members\", response.data);\n            this.groupMembers = response.data;\n          } else {\n            console.log(\"No memebers found or the response is null\");\n            this.groupMembers = [];\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching group members:', error);\n        });\n    },\n\n    connectToGroupChat(groupId) {\n      console.log(`Attempting to join group chat with ID: ${groupId}`);\n      const joinGroupPayload = {\n        type: \"joinGroupChat\",\n        payload: {\n          groupId\n        }\n      };\n      this.showGroupChat = true;\n      this.ws.send(JSON.stringify(joinGroupPayload));\n    },\n\n    handleJoinGroupChatResponse(data) {\n      console.log(\"Handling data: \", data);\n      // Update the state to indicate the user has joined the group chat\n      this.currentRoomId = data.roomId;\n      // You can also fetch existing messages here if needed\n      this.fetchMessages(this.currentRoomId);\n    },\n\n    submitEvent() {\n      // Construct the event object\n      const event = {\n        title: this.eventName,\n        description: this.eventDescription,\n        dateTime: this.eventDateTime + \":00Z\",\n        invitedMembers: this.selectedUserIds,\n        eventCreator: this.currentUserId,\n        groupId: parseInt(this.groupId, 10),\n      };\n\n      // Call the API to create the event, passing the event object\n      this.createEvent(event);\n    },\n\n    createEvent(event) {\n      // Placeholder for API call to create the event\n      console.log('Creating event:', event);\n      this.$axios.post('/api/createEvent', event)\n      .then(response => {\n        console.log('Created event:', response.data);\n\n        this.eventName = '';\n        this.eventDescription = '';\n        this.eventDateTime = '';\n        this.selectedUserIds = [];\n        this.isCreatEventVisible = false;\n      })\n      .catch(error => {\n        console.error('Error creating event:', error);\n      });\n      \n    },\n\n    fetchEvents() {\n      const groupID = this.groupId;\n      console.log(`Fetching events for GroupID: ${groupID}`);\n      this.$axios.get(`api/events?groupID=${groupID}`) // Adjust URL as needed\n      .then(response => {\n        if (response.data) {\n          console.log(\"These are the fetched events:\", response.data);\n          this.events = response.data;\n        } else {\n          // Handle the case where there are no events or response is null\n          console.log(\"No events found or the response is null\");\n          this.events = []; // Reset to an empty array or handle accordingly\n        }\n      })\n      .catch(error => {\n        console.error(\"There was an error fetching the events:\", error);\n      });\n    },\n\n    toggleEvent(eventId) {\n      this.expandedEventId = this.expandedEventId === eventId ? null : eventId;\n    },\n\n    toggleNotificationCenter() {\n      this.isNotificationCenterVisible = !this.isNotificationCenterVisible;\n      // If opening the notification center, check for new notifications\n      if (this.isNotificationCenterVisible) {\n        // List of notification types to check\n        const notificationTypes = [\"eventInvite\", \"groupInvite\", \"followRequestCheck\", \"groupJoinRequestCheck\"];\n        notificationTypes.forEach(type => {\n          const payload = {\n            type: type,\n            payload: {\n              userId: this.currentUserId\n            }\n          };\n          console.log(\"Notifications payload for \" + type + \":\", payload);\n          this.ws.send(JSON.stringify(payload));\n        });\n      }\n    },\n\n    handleResponse(notification, userResponse, responseType) {\n      let responsePayload;\n\n      if (responseType === \"event\") {\n        responsePayload = {\n          type: \"eInviteResponse\",\n          payload: {\n            responseId: notification.responseId,\n            userId: this.currentUserId,\n            response: userResponse,\n          },\n        };\n      } else if (responseType === \"group\") {\n        responsePayload = {\n          type: \"gInviteResponse\",\n          payload: {\n            groupId: notification.groupId,\n            userId: this.currentUserId,\n            accept: userResponse,\n          },\n        };\n      } else if (responseType === \"follow\") {\n        responsePayload = {\n          type: userResponse ? \"acceptFollowRequest\" : \"declineFollowRequest\",\n          payload: {\n            userId: this.currentUserId,\n            followerUserId: notification.followerUserId,\n          },\n        };\n\n        // Send the WebSocket message\n        this.ws.send(JSON.stringify(responsePayload));\n\n        // This includes removing the pending follow request notification\n        this.notifications = this.notifications.filter(item => item.type !== 'followRequest' || item.followerUserId !== notification.followerUserId);\n\n      } else if (responseType === \"groupJoinRequest\") {\n        responsePayload = {\n          type: userResponse ? \"acceptGroupJoinRequest\" : \"declineGroupJoinRequest\",\n          payload: {\n            userId: this.currentUserId,\n            requestId: notification.requestId,\n          },\n        };\n      }\n\n\n      console.log(`${responseType} response payload going to backend`, responsePayload);\n      this.ws.send(JSON.stringify(responsePayload));\n\n      if (responseType === \"groupJoinRequest\") {\n        this.notifications = this.notifications.filter(item => item.requestId !== notification.requestId);\n      } else if (responseType === \"event\" || responseType === \"group\") {\n        this.notifications = this.notifications.filter(item => responseType === \"event\" ? item.responseId !== notification.responseId : item.groupId !== notification.groupId);\n      }\n    },\n\n\n\n  }\n}\n\n</script>\n\n<style scoped>\n.group-detail-content {\n  flex: 1;\n  margin: 0 auto;\n  width: 80%;\n  height: 100%;\n  padding: 10px;\n  padding-top: 0;\n  display: flex;\n  flex-direction: column;\n  background-color: #F0F2F5;\n  box-shadow: 0px 1px 10px rgba(0, 0, 0, 0.1) inset;\n  box-sizing: border-box;\n}\n.user-list ul li:hover {\n  background-color: #F0F2F5;\n  cursor: context-menu;\n}\n\n.event-creation-sidebar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  background-color: #f5f5f5;\n  border-bottom: 1px solid #ddd;\n  height: 60px;\n  box-sizing: border-box;\n}\n\n.event-creation-sidebar-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  margin-right: 4rem;\n}\n\n.event-creation-sidebar-header button {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  margin: 0;\n}\n\n.create-event-body {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n}\n\n.event-creation-form {\n  transition: transform 0.3s ease-in-out;\n  transform: translateX(-100%);\n  width: 350px; /* Adjust based on your design */\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 1000; /* Ensures the sidebar appears above other elements */\n  background-color: white;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.event-creation-form.is-visible {\n  transform: translateX(0);\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.form-group input[type=\"text\"],\n.form-group input[type=\"datetime-local\"],\n.form-group textarea {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  resize: none;\n  box-sizing: border-box;\n}\n\n.form-group input[type=\"datetime-local\"] {\n  cursor: pointer;\n}\n\n.user-invitation-list {\n  list-style: none;\n  padding: 0;\n  margin-top: 15px;\n}\n\n.user-invitation-list li {\n  padding: 8px 0;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  align-items: center;\n}\n\n.user-invitation-list input[type=\"checkbox\"] {\n  margin-right: 10px;\n}\n\n.user-invitation-list label {\n  margin: 0;\n  cursor: pointer;\n}\n\nbutton[type=\"submit\"] {\n  width: 100%;\n  padding: 10px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  margin-top: 20px;\n  cursor: pointer;\n  font-size: 1rem;\n}\n\nbutton[type=\"submit\"]:hover {\n  background-color: #0069d9;\n}\n.sidebar-back {\n  font-size: 2rem;\n  margin-left: 10px;\n  font-weight: 400;\n}\n\n.event-list {\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  overflow-y: auto;\n  gap: 10px;\n}\n\n.event-list h3 {\n  margin: 0;\n}\n\n.event {\n  cursor: pointer;\n  border: 1px solid #eee; /* Adjust as needed */\n  border-radius: 4px; /* Rounded corners */\n  overflow: hidden; /* Ensures child elements do not overflow the rounded corners */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */\n  background-color: #fff;\n}\n\n.event > div:first-child {\n  background-color: #f7f7f7; /* Light grey background for the title area */\n  padding: 10px;\n  border-bottom: 1px solid #ddd; /* Separator line */\n}\n\n.event h3 {\n  margin: 0;\n  color: #333; /* Dark font color for title */\n  font-size: 1.2em;\n}\n\n.event p {\n  margin: 0;\n  color: #666; /* Lighter font color for other text */\n}\n\n.event-details {\n  display: none; /* Start with details hidden */\n  padding: 10px;\n  background-color: #fff;\n}\n\n.event-details p {\n  margin-bottom: 10px;\n}\n\n/* Style when event details are shown */\n.event.expanded .event-details {\n  display: block;\n}\n\n.event.expanded > div:first-child {\n  background-color: #ffc978; /* Slightly darker title area when expanded */\n}\n\n.action-buttons-left-sidebar {\n  display: flex;\n  flex-direction: column;\n  background: none;\n\n}\n\n.invite-users-list {\n  width: 100%;\n  background-color: #fff;\n  box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n  z-index: 10;\n  padding: 10px;\n  box-sizing: border-box;\n}\n\n.invite-users-list ul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.invite-users-list li {\n  padding: 8px 5px;\n  display: flex;\n  align-items: center;\n}\n\n.invite-users-list input[type=\"checkbox\"] {\n  margin-right: 10px;\n}\n\n.invite-users-list label {\n  margin: 0;\n  flex-grow: 1;\n}\n\nbutton {\n  background: none;\n  color: black;\n  font-size: 1rem;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\nbutton:hover {\n  background-color: #cacaca;\n}\n\n/* Additional styling for the \"Invite Users\" button to differentiate it */\nbutton.invite-button {\n  background-color: #28a745;\n  color: white;\n}\n\nbutton.invite-button:hover {\n  background-color: #218838;\n}\n\n.join-groupchat-btn {\n  background-color: #28a745;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background-color 0.3s ease;\n}\n</style>","<template>\n  <transition name=\"slide\">\n    <div class=\"group-chat-window\" v-if=\"isVisible\">\n      <div class=\"header\">\n        <h3>{{ groupName }} - Group Chat</h3> \n        <button @click=\"closeChat\">x</button>\n      </div>\n      <div class=\"messages\" ref=\"messagesContainer\">\n        <div v-for=\"(message, index) in messages\" :key=\"index\" \n          :class=\"{'message-sent': message.senderUserId === currentUserId, 'message-received': message.senderUserId !== currentUserId}\">\n          <div class=\"message-content-container\">\n            <div class=\"message-sender\">{{ message.senderFirstName }} {{ message.senderLastName }}</div>\n            <div class=\"message-content\">{{ message.content }}</div>\n          </div>\n          <div class=\"message-timestamp\">{{ new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) }}</div>\n        </div>\n      </div>\n      <div class=\"input-area\">\n        <div v-if=\"showEmojiPicker\" class=\"emoji-picker\">\n          <button v-for=\"emoji in emojis\" :key=\"emoji\" @click=\"addEmoji(emoji)\">\n            {{ emoji }}\n          </button>\n        </div>\n        <input type=\"text\" placeholder=\"Type a message...\" v-model=\"newMessage\" @keyup.enter=\"sendMessage\">\n        <div class=\"input-area-button-container\">\n          <button @click=\"toggleEmojiPicker\"> <span class=\"emoji\"></span></button>\n          <button @click=\"sendMessage\">Send</button>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\n\nexport default {\n  name: 'GroupChatWindow',\n  props: {\n    isVisible: {\n      type: Boolean,\n      required: true\n    },\n    groupId: {\n      type: String,\n      required: true\n    },\n    groupName: {\n      type: String,\n      required: true\n    },\n    messages: Array,\n    currentUserId: [String, Number],\n  },\n  components: {\n  },\n  data() {\n    return {\n      newMessage: '',\n      showEmojiPicker: false,\n      emojis: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '','', '', '', '', '', '', '', ''],\n    }\n  },\n  watch: {\n    messages() {\n      this.scrollToBottom();\n    }\n  },\n  mounted() {\n    this.scrollToBottom();\n  },\n  methods: {\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const messagesContainer = this.$refs.messagesContainer;\n        if (messagesContainer) {\n          messagesContainer.scrollTop = messagesContainer.scrollHeight;\n        }\n      });\n    },\n    sendMessage() {\n      if (!this.newMessage.trim()) return;\n\n      // Construct the message object to emit to the parent\n      const messageObject = {\n        content: this.newMessage,\n        groupId: this.groupId\n      };\n\n      // Emit an event to the parent component with the message object\n      this.$emit('sendMessage', messageObject);\n\n      // Clear the message input\n      this.newMessage = '';\n    },\n\n    toggleEmojiPicker() {\n      this.showEmojiPicker = !this.showEmojiPicker;\n    },\n    addEmoji(emoji) {\n      this.newMessage += emoji;\n      this.toggleEmojiPicker(); // Optionally close the picker after an emoji is selected\n    },\n\n    closeChat() {\n      this.$emit('close');\n    },\n  }\n}\n</script>\n\n<style scoped>\n.group-chat-window {\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, -50%);\n  width: 40%; /* Adjust width as needed */\n  height: 65%; /* Adjust height as needed */\n  background-color: white;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  z-index: 1000; /* Ensure it's above other content */\n  /* Rest of your styling */\n}\n\n.header {\n  padding: 10px;\n  background-color: #f3f3f3;\n  border-bottom: 1px solid #ccc;\n  text-align: center;\n  display: flex;\n  justify-content: space-between;\n}\n\n.header h3 {\n  margin: 0;\n}\n\n.header button {\n  cursor: pointer;\n}\n\n.messages {\n  flex-grow: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n\n.input-area {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  border-top: 1px solid #ccc;\n  position: relative;\n}\n\n.input-area input {\n  width: calc(100% - 90px); /* Adjust width based on your Send button width */\n  padding: 10px;\n  margin-right: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.input-area input:focus {\n  outline: none; /* Removes the default focus outline */\n  border-color: #aaa; \n}\n\n.input-area button {\n  padding: 7px 10px;\n  background-color: #0078ff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.message-sent {\n  display: flex;\n  flex-direction: row-reverse;\n  align-self: flex-end;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.message-received {\n  display: flex;\n  flex-direction: row;\n  align-self: flex-end;\n  justify-content: space-between;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.message-content-container {\n  display: flex;\n  flex-direction: column;\n  max-width: 70%;\n  margin-bottom: 5px;\n  align-items: flex-end;\n}\n\n.message-sender {\n  font-size: 0.8rem;\n  color: #666;\n  margin-bottom: 5px;\n  display: inline-block;\n}\n\n.message-content {\n  background-color: #0084ff;\n  color: white;\n  text-align: left;\n  word-wrap: break-word;\n  padding: 5px 10px;\n  border-radius: 15px 15px 5px 15px;\n  font-size: 1rem;\n  display: inline-block;\n  line-height: 1.4;\n}\n\n.message-received .message-content {\n  background-color: #dfdfdf;\n  border-radius: 15px 15px 15px 5px;\n  color: #333;\n}\n\n.message-received .message-content-container {\n  display: flex;\n  flex-direction: column;\n  max-width: 70%;\n  margin-bottom: 5px;\n  align-items: flex-start;\n}\n\n.message-timestamp {\n  font-size: 0.8rem;\n  opacity: 0;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.message-sent:hover .message-timestamp {\n  opacity: 1;\n}\n\n.message-received:hover .message-timestamp {\n  opacity: 1;\n}\n\n.chat-messages li[data-tooltip]:hover:after {\n  content: attr(data-tooltip);\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  z-index: 1;\n  background: black;\n  color: white;\n  padding: 5px;\n  border-radius: 5px;\n  white-space: nowrap;\n  pointer-events: none;\n}\n\n.emoji-picker {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px;\n  background-color: #f2f2f2;\n  border: 1px solid #e2e2e2;\n  border-radius: 4px;\n  position: absolute;\n  bottom: 50px; /* Adjust based on your layout */\n  left: 0;\n}\n\n.emoji-picker button {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n.input-area-button-container {\n  display: flex;\n  gap: 5px;\n}\n\n.input-area-button-container button:nth-child(1) {\n  background: none;\n  border: none;\n  cursor: pointer;\n  box-sizing: border-box;\n  padding: 0;\n}\n\n.input-area-button-container button:nth-child(1) .emoji {\n  font-size: 24px; /* or any size you want */\n}\n\n</style>","import { render } from \"./GroupChatWindow.vue?vue&type=template&id=2f366b68&scoped=true\"\nimport script from \"./GroupChatWindow.vue?vue&type=script&lang=js\"\nexport * from \"./GroupChatWindow.vue?vue&type=script&lang=js\"\n\nimport \"./GroupChatWindow.vue?vue&type=style&index=0&id=2f366b68&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f366b68\"]])\n\nexport default __exports__","import { render } from \"./GroupDetail.vue?vue&type=template&id=78cf67d8&scoped=true\"\nimport script from \"./GroupDetail.vue?vue&type=script&lang=js\"\nexport * from \"./GroupDetail.vue?vue&type=script&lang=js\"\n\nimport \"./GroupDetail.vue?vue&type=style&index=0&id=78cf67d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78cf67d8\"]])\n\nexport default __exports__","<template>\n    <header>\n    <div class=\"header-element-wrapper\">\n    </div>\n    <div class=\"header-element-wrapper\">\n      <nav class=\"navbar\">\n      <router-link to=\"/\" class=\"nav-item\">HOME</router-link>\n      <router-link to=\"/groups\" class=\"nav-item\">GROUPS</router-link>\n      <router-link to=\"/users\" class=\"nav-item\">USERS</router-link> \n      <router-link :to=\"`/profile/${currentUserId}`\" class=\"nav-item\">PROFILE</router-link>\n    </nav>\n    </div>\n    <div class=\"header-element-wrapper\">\n      <button @click=\"handleLogout\">Log Out</button>\n    </div>\n  </header>\n  <div class=\"main-container\">\n    <div class=\"content-wrapper\">\n      <section class=\"content-body\">\n        <div class=\"chat-windows-container\">\n          <ChatWindow\n            v-for=\"relation in filteredOpenChats\"\n            :key=\"relation.RoomID\"\n            :currentRoomId=\"relation.RoomID\"\n            :messages=\"messages.filter(m => m.roomId === relation.RoomID)\"\n            :currentUserId=\"currentUserId\"\n            :sendMessageFunction=\"sendChatMessage\"\n            @closeChat=\"handleCloseChat\"\n            class=\"chat-window\"\n          />\n        </div>\n\n        <ContentContainer \n        :currentUserId=\"currentUserId\"\n        />\n\n\n      </section>\n\n      <aside class=\"user-list\">\n        <h2>Contacts</h2>\n        <ul>\n          <li v-for=\"relation in followRelations\" :key=\"relation.UserID\" @click=\"handleUserClick(relation)\">\n            <img :src=\"relation.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n            {{ (relation.FirstName + ' ' + relation.LastName) }}\n            <span v-if=\"relation.UnreadCount\" class=\"unread-indicator\">\n              {{ relation.UnreadCount }}\n            </span>\n          </li>\n        </ul>\n      </aside>\n      <aside class=\"left-sidebar\">\n        <button v-if=\"isAllowedToSeeDetails\" @click=\"isUserDataVisible = !isUserDataVisible\">Profile Details</button>\n        <button @click=\"toggleNotificationCenter()\">Notification Center</button>\n      </aside>\n      <aside class=\"notification-center\" :class=\"{ 'is-visible': isNotificationCenterVisible }\">\n        <div class=\"notification-center-header\">\n          <button @click=\"isNotificationCenterVisible = false\">\n            <span class=\"sidebar-back\">\n              <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                preserveAspectRatio=\"xMidYMid meet\">\n\n                <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                fill=\"#000000\" stroke=\"none\">\n                <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                </g>\n              </svg>\n            </span>\n          </button>\n\n          <h2>Notifications</h2>\n        </div>\n        <div class=\"notification-list\">\n          <div v-for=\"notification in notifications\" :key=\"notification.id\" class=\"notification\">\n            <div v-if=\"notification.type === 'eventInvite'\">\n              <div v-if=\"notificationMessage\" class=\"notification-message\">{{ notificationMessage }}</div>\n              <p class=\"event-invite-message\">\n                You have been invited to <strong>{{ notification.groupName }}</strong> event <strong>\"{{ notification.title }}\"</strong>\n                by <strong>{{ notification.creatorFirstName }} {{ notification.creatorLastName }}</strong>\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"going\" @click=\"handleResponse(notification, 'Going', 'event')\">Going</button>\n                <button class=\"notGoing\" @click=\"handleResponse(notification, 'Not Going', 'event')\">Not Going</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'groupInvite'\">\n              <!-- New groupInvite notification UI -->\n              <p class=\"group-invite-message\">\n                You have been invited to join the group <strong>\"{{ notification.groupName }}\"</strong>\n                by <strong>{{ notification.creatorName }}</strong>. <!-- Consider fetching user's name if possible -->\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'group')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'group')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-else-if=\"notification.type === 'followRequest'\">\n              <p class=\"follow-request-message\">\n                  <strong>{{ notification.firstName }} {{ notification.lastName }}</strong> wants to follow you.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'follow')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'follow')\">Decline</button>\n              </div>\n            </div>\n\n            <div v-if=\"notification.type === 'groupJoinRequest'\">\n              <p class=\"group-join-request-message\">\n                <strong>{{ notification.FirstName }} {{ notification.LastName }}</strong> wants to join your group <strong>\"{{ notification.groupName }}\"</strong>.\n              </p>\n              <div class=\"response-buttons\">\n                <button class=\"accept\" @click=\"handleResponse(notification, true, 'groupJoinRequest')\">Accept</button>\n                <button class=\"decline\" @click=\"handleResponse(notification, false, 'groupJoinRequest')\">Decline</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </aside>\n      <aside v-show=\"isUserDataVisible\" class=\"profile-container\" :class=\"{ 'is-visible': isUserDataVisible }\">\n        <div class=\"notification-center-header\">\n            <button @click=\"isUserDataVisible = false; notifications = [];\">\n              <span class=\"sidebar-back\">\n                <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"512.000000pt\" height=\"512.000000pt\" viewBox=\"0 0 512.000000 512.000000\"\n                  preserveAspectRatio=\"xMidYMid meet\">\n\n                  <g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"\n                  fill=\"#000000\" stroke=\"none\">\n                  <path d=\"M2058 4727 c-31 -13 -74 -38 -95 -55 -77 -62 -1882 -1878 -1907\n                  -1920 -38 -61 -60 -154 -52 -225 14 -132 -40 -73 1014 -1129 795 -796 975\n                  -971 1020 -994 78 -39 202 -46 285 -14 89 34 153 90 191 169 28 60 31 75 31\n                  161 0 165 16 144 -562 729 -274 278 -534 536 -579 575 -45 40 -118 91 -167\n                  116 l-86 45 1837 5 1837 5 57 23 c81 33 160 108 200 190 30 60 33 75 33 152\n                  -1 70 -5 95 -27 142 -35 76 -99 143 -173 181 l-60 32 -1855 5 -1855 5 95 50\n                  95 49 576 576 c665 664 634 624 634 795 0 89 -3 106 -28 156 -15 31 -50 78\n                  -77 103 -72 68 -126 89 -235 93 -77 3 -98 0 -147 -20z\"/>\n                  </g>\n                </svg>\n              </span>\n            </button>\n\n            <h2>Notifications</h2>\n          </div>\n        <h2>User Profile</h2>\n        <img :src=\"userData.profilePicture || defaultProfilePic\" alt=\"Profile Picture\" class=\"profile-details-image\">\n        <p>Nickname: {{ userData.nickname }}</p>\n        <p>Name: {{ userData.firstName }} {{ userData.lastName }}</p>\n        <p>Email: {{ userData.email }}</p>\n        <p>Date of Birth: {{ formatDOB(userData.dateOfBirth) }}</p>\n        <p>Gender: {{ userData.gender }}</p>\n        <p>About Me: {{ userData.aboutMe }}</p>\n        <p>Profile Privacy: {{ userData.profilePrivacy }}</p>\n        <p>Account Created: {{ formatTimestamp(userData.createdAt) }}</p>\n        <button v-if=\"currentUserId === userData.userID\" @click=\"toggleProfilePrivacy\">\n          {{ userData.profilePrivacy === 'Public' ? 'Make Private' : 'Make Public' }}\n        </button>\n\n        <div @click=\"showFollowing = !showFollowing\">\n          Following {{ following.length }}\n        </div>\n        <ul v-if=\"showFollowing\">\n          <li v-for=\"user in following\" :key=\"user.userID\">\n            {{ user.firstName + ' ' + user.lastName }}\n          </li>\n        </ul>\n\n        <div @click=\"showFollowers = !showFollowers\">\n          Followers {{ followers.length }}\n        </div>\n        <ul v-if=\"showFollowers\">\n          <li v-for=\"follower in followers\" :key=\"follower.userID\">\n            {{ follower.firstName + ' ' + follower.lastName }}\n          </li>\n        </ul>\n\n      </aside>\n  \n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex';\nimport { DEFAULT_PROFILE_PICTURE_URL } from '@/constants';\nimport ChatWindow from '@/components/ChatWindow.vue';\nimport ContentContainer from '@/components/ProfileContentContainer.vue';\n\nexport default {\n  name: 'ProfilePage',\n  components: {\n    ChatWindow,\n    ContentContainer,\n  },\n  data() {\n    return {\n      defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n      ws: null, // WebSocket instance\n      serverUrl: \"ws://localhost:8091/ws\", // Adjust as needed\n      followRelations: [],\n      isNotificationCenterVisible: false,\n      messages: [],\n      unreadMessagesCount: {},\n      newMessage: \"\",\n      currentRoomId: null,\n      openChats: {},\n      groupName: '',\n      groupDescription: '',\n      notifications: [],\n      notificationMessage: '',\n      isUserDataVisible: false,\n      userData: {},\n      followers: [],\n      following: [],\n      showFollowers: false,\n      showFollowing: false,\n      profilePrivacy: 'public',\n    };\n  },\n  mounted() {\n    this.connectToWebsocket();\n    this.loadUserRelations();\n    this.fetchFollowing();\n    this.fetchUserDetails()\n    const currentUser = JSON.parse(localStorage.getItem('currentUser')); // Adjust according to how you store this info\n    if (currentUser && currentUser.userID) {\n      this.currentUserId = currentUser.userID;\n    }\n  },\n  computed: {\n    ...mapState(['isLoggedIn']),\n    currentUserId() {\n      const user = JSON.parse(localStorage.getItem('user'));\n      return user ? user.userID : null;\n    },\n    filteredOpenChats() {\n      if (!Array.isArray(this.followRelations)) {\n        return []; // Return an empty array if followRelations is not an array\n      }\n      return this.followRelations.filter(relation => this.openChats[relation.RoomID]);\n    },\n    isAllowedToSeeDetails() {\n      const isOwner = this.currentUserId === this.userData.userID;\n      const isFollower = this.followers.some(follower => follower.userID === this.currentUserId);\n      const isPublicProfile = this.userData.profilePrivacy === 'public';\n\n      return isPublicProfile || isOwner || isFollower;\n    }\n  },\n  methods: {\n    ...mapActions(['logOut']),\n    handleLogout() {\n      this.$axios.post('/api/logout')\n        .then(() => {\n          this.logOut();\n          this.$cookies.remove('session_id');\n          localStorage.clear();\n          this.$router.push('/welcome');\n        })\n        .catch(error => {\n          console.error('Logout failed:', error);\n        });\n    },\n\n    handleUserClick(relation) {\n      console.log('Opening chat for room:', relation.RoomID);\n      this.currentRoomId = relation.RoomID;\n      this.currentRelationUserId = relation.UserID;\n\n      // Reset unread message count when opening the chat\n      this.unreadMessagesCount[relation.RoomID] = 0;\n\n      // Update the followRelations to trigger reactivity\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === relation.RoomID) {\n          return { ...rel, UnreadCount: 0 };\n        }\n        return rel;\n      });\n\n      this.fetchMessages(relation.RoomID);\n\n      // Toggle the state of the chat window\n      if (this.openChats[relation.RoomID] === undefined) {\n        this.openChats[relation.RoomID] = true;\n      } else {\n        this.openChats[relation.RoomID] = !this.openChats[relation.RoomID];\n      }\n    },\n\n    handleCloseChat(roomId) {\n      // Set the chat window state to closed for the given room ID\n      if (this.openChats[roomId] !== undefined) {\n        this.openChats[roomId] = false;\n      }\n    },\n\n    fetchMessages(roomId) {\n      let fetchPayload = {\n        type: \"fetchMessages\", // Updated type to reflect the new functionality\n        payload: {\n          roomId: roomId\n        }\n      };\n\n      console.log(\"Fetching messages for room:\", roomId);\n      this.ws.send(JSON.stringify(fetchPayload));\n    },\n\n    connectToWebsocket() {\n      console.log(\"Attempting to connect to WebSocket\");\n      this.ws = new WebSocket(this.serverUrl);\n      this.ws.addEventListener('open', () => { console.log(\"Connected to WS!\"); });\n      this.ws.addEventListener('message', this.handleNewMessage);\n      this.ws.addEventListener('error', error => { console.error(\"WebSocket Error: \", error); });\n      this.ws.addEventListener('close', () => { console.log(\"WebSocket connection closed\"); });\n    },\n\n    sendChatMessage(message, roomId) {\n      const messagePayload = {\n        type: \"chatMessage\",\n        payload: {\n          senderUserId: this.currentUserId,\n          content: message,\n          roomId: roomId,\n          timestamp: new Date().toISOString()\n        }\n      };\n      console.log(\"Sending chat message:\", messagePayload);\n      this.ws.send(JSON.stringify(messagePayload));\n    },\n\n    loadUserRelations() {\n      // Assuming user relations are stored in localStorage\n      const relations = localStorage.getItem('userRelations');\n      if (relations) {\n        this.followRelations = JSON.parse(relations);\n      } else {\n        console.log('No user relations found');\n      }\n    },\n\n    updateUnreadCount(roomId) {\n      // Initialize or increment the unread count\n      this.unreadMessagesCount[roomId] = (this.unreadMessagesCount[roomId] || 0) + 1;\n\n      // Update the followRelations to reflect the changes\n      this.followRelations = this.followRelations.map(rel => {\n        if (rel.RoomID === roomId) {\n          return { ...rel, UnreadCount: this.unreadMessagesCount[roomId] };\n        }\n        return rel;\n      });\n    },\n\n    toggleNotificationCenter() {\n      this.isNotificationCenterVisible = !this.isNotificationCenterVisible;\n      // If opening the notification center, check for new notifications\n      if (this.isNotificationCenterVisible) {\n        // List of notification types to check\n        const notificationTypes = [\"eventInvite\", \"groupInvite\", \"followRequestCheck\", \"groupJoinRequestCheck\"];\n        notificationTypes.forEach(type => {\n          const payload = {\n            type: type,\n            payload: {\n              userId: this.currentUserId\n            }\n          };\n          console.log(\"Notifications payload for \" + type + \":\", payload);\n          this.ws.send(JSON.stringify(payload));\n        });\n      }\n    },\n\n    handleResponse(notification, userResponse, responseType) {\n      let responsePayload;\n\n      if (responseType === \"event\") {\n        responsePayload = {\n          type: \"eInviteResponse\",\n          payload: {\n            responseId: notification.responseId,\n            userId: this.currentUserId,\n            response: userResponse,\n          },\n        };\n      } else if (responseType === \"group\") {\n        responsePayload = {\n          type: \"gInviteResponse\",\n          payload: {\n            groupId: notification.groupId,\n            userId: this.currentUserId,\n            accept: userResponse,\n          },\n        };\n      } else if (responseType === \"follow\") {\n        responsePayload = {\n          type: userResponse ? \"acceptFollowRequest\" : \"declineFollowRequest\",\n          payload: {\n            userId: this.currentUserId,\n            followerUserId: notification.followerUserId,\n          },\n        };\n\n        // Send the WebSocket message\n        this.ws.send(JSON.stringify(responsePayload));\n\n        // This includes removing the pending follow request notification\n        this.notifications = this.notifications.filter(item => item.type !== 'followRequest' || item.followerUserId !== notification.followerUserId);\n\n      } else if (responseType === \"groupJoinRequest\") {\n        responsePayload = {\n          type: userResponse ? \"acceptGroupJoinRequest\" : \"declineGroupJoinRequest\",\n          payload: {\n            userId: this.currentUserId,\n            requestId: notification.requestId,\n          },\n        };\n      }\n\n\n      console.log(`${responseType} response payload going to backend`, responsePayload);\n      this.ws.send(JSON.stringify(responsePayload));\n\n      if (responseType === \"groupJoinRequest\") {\n        this.notifications = this.notifications.filter(item => item.requestId !== notification.requestId);\n      } else if (responseType === \"event\" || responseType === \"group\") {\n        this.notifications = this.notifications.filter(item => responseType === \"event\" ? item.responseId !== notification.responseId : item.groupId !== notification.groupId);\n      }\n    },\n\n    handleNewMessage(event) {\n      console.log(\"Received WebSocket message:\", event.data);\n\n      // Split the received data by newline and filter out any empty strings\n      const messages = event.data.split('\\n').filter(msg => msg.trim());\n\n      let data;\n\n      // Process each message individually\n      messages.forEach((message) => {\n        try {\n          data = JSON.parse(message);\n          // Now handle the parsed data object as before\n          switch (data.type) {\n            case 'chatMessage':\n              if (data.payload.roomId === this.currentRoomId) {\n                this.messages.push(data.payload);\n              } else {\n                // Increment unread message count if ChatWindow is not open\n                if (!this.openChats[data.payload.roomId]) {\n                  this.updateUnreadCount(data.payload.roomId);\n                }\n              }\n            break;\n            case 'fetchMessagesResponse':\n              console.log(\"Fetched messages:\", data.payload);\n              if (data.payload.roomId === this.currentRoomId) {\n                // Check if messages are present in the payload\n                if (data.payload.messages && data.payload.messages.length > 0) {\n                  const fetchedMessages = data.payload.messages.reverse();\n                  this.messages = [...fetchedMessages, ...this.messages];\n                }\n              }\n            break;\n            case 'eventInviteResponse':\n              console.log(\"Event invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Check if a notification with the same responseId already exists in the array\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return (\n                      notification.type === 'eventInvite' &&\n                      notification.responseId === invite.responseId\n                    );\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push({\n                      type: 'eventInvite',\n                      ...invite,\n                    });\n                  } else {\n                    // If a duplicate is found, you can update the existing notification or skip it\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...invite,\n                    };\n                  }\n                });\n              } else {\n                if (data.payload.message) {\n                  this.notificationMessage = (data.payload.message);\n                }\n              }\n            break;\n            case 'groupInviteResponse':\n              console.log(\"Group invite response payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(invite => {\n                  // Construct a notification object for the group invite\n                  const groupInviteNotification = {\n                    type: 'groupInvite', // This is the type for group invite notifications\n                    groupId: invite.GroupID,\n                    groupName: invite.Name,\n                    groupDescription: invite.Description,\n                    creatorUserId: invite.CreatorUserID,\n                    creatorName: invite.CreatorName\n                  };\n                  // Check if a notification for the same group already exists\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'groupInvite' && notification.groupId === invite.GroupID;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(groupInviteNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...groupInviteNotification,\n                    };\n                  }\n                });\n              } else {\n                // If the payload is not an array and contains a message, handle it (e.g., show a message to the user)\n                if (data.payload.message) {\n                  this.notificationMessage = data.payload.message;\n                }\n              }\n            break;\n            case 'followRequestResponse':\n              console.log(\"Follow request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(followRequest => {\n                  // Construct a notification object for the follow request\n                  const followRequestNotification = {\n                    type: 'followRequest', // This is the type for follow request notifications\n                    followerUserId: followRequest.followerUserId,\n                    firstName: followRequest.firstName,\n                    lastName: followRequest.lastName,\n                    // Add any other fields you need for the notification\n                  };\n\n                  // Check if a notification for the same follow request already exists\n                  // You might use a unique identifier, like followerUserId, to check for duplicates\n                  const existingNotificationIndex = this.notifications.findIndex(notification => {\n                    return notification.type === 'followRequest' && notification.followerUserId === followRequest.followerUserId;\n                  });\n\n                  if (existingNotificationIndex === -1) {\n                    // If no duplicate is found, add the new notification\n                    this.notifications.push(followRequestNotification);\n                  } else {\n                    // If a duplicate is found, you can decide to update the existing notification or simply skip\n                    // For example, updating the existing notification with new data\n                    this.notifications[existingNotificationIndex] = {\n                      ...this.notifications[existingNotificationIndex],\n                      ...followRequestNotification,\n                    };\n                  }\n                });\n              }\n\n            break;\n            case 'groupJoinRequestResponse':\n              console.log(\"Group join request payload:\", data.payload);\n              if (Array.isArray(data.payload)) {\n                data.payload.forEach(request => {\n                  // Construct a notification object for the group join request\n                  const groupJoinRequestNotification = {\n                    type: 'groupJoinRequest',\n                    requestId: request.requestId,\n                    groupId: request.groupId,\n                    groupName: request.groupName,\n                    requesterUserId: request.userId,\n                    LastName: request.lastName,\n                    FirstName: request.firstName,\n                  };\n\n                  // Add the new notification\n                  this.notifications.push(groupJoinRequestNotification);\n                });\n              }\n            break;\n            }\n        } catch (error) {\n          console.error(\"Error parsing individual message:\", error);\n        }\n      });\n      if (data.userRelations) {\n        // Handle and save userRelations\n        console.log(\"User relations received:\", data.userRelations);\n        const userRelationsArray = Object.values(data.userRelations);\n        localStorage.setItem('userRelations', JSON.stringify(userRelationsArray));\n      }\n      if (data.followingMap) {\n        // Handle and save followingMap\n        console.log(\"Following map received:\", data.followingMap);\n        localStorage.setItem('followingMap', JSON.stringify(data.followingMap));\n      }\n      if (data.followersMap) {\n        // Handle and save followersMap\n        console.log(\"Followers map received:\", data.followersMap);\n        localStorage.setItem('followersMap', JSON.stringify(data.followersMap));\n      }\n      if (data.pendingRequests) {\n        console.log(\"Requests map received:\", data.pendingRequests);\n        localStorage.setItem('pendingRequests', JSON.stringify(data.pendingRequests));\n      }\n      if (data.userGroups) {\n        console.log(\"User groups received:\", data.userGroups);\n        localStorage.setItem('userGroups', JSON.stringify(data.userGroups));\n      }\n      if (data.groupJoinRequests) {\n        console.log(\"Group join requests received:\", data.groupJoinRequests);\n        localStorage.setItem('groupJoinRequests', JSON.stringify(data.groupJoinRequests));\n      }\n    },\n\n    formatDOB(date) {\n      return new Date(date).toLocaleDateString(\"en-US\", {\n        year: 'numeric', month: 'long', day: 'numeric'\n      });\n    },\n\n    formatTimestamp(timestamp) {\n      // Format the timestamp using a method of your choice. Here's an example using the JavaScript Date object:\n      const date = new Date(timestamp);\n      return date.toLocaleDateString(\"en-US\"); // Format as needed\n    },\n\n    fetchFollowing() {\n      // Access the userId from the route parameters\n      const userId = this.$route.params.userId;\n\n      // Use the userId from the route to fetch the following/followers list\n      this.$axios.get(`api/userFollowing?userId=${userId}`)\n        .then(response => {\n          console.log(\"These are the fetched followings:\", response.data);\n          \n          // Clear previous state\n          this.following = [];\n          this.followers = [];\n\n          // Check if the response data is not null and is an array before proceeding\n          if (response.data && Array.isArray(response.data)) {\n            // Process the followings and followers\n            response.data.forEach(user => {\n              if (user.relationType === \"following\") {\n                this.following.push(user);\n              } else if (user.relationType === \"follower\") {\n                this.followers.push(user);\n              }\n            });\n          } else {\n            // Handle the case where no followings/followers are returned\n            console.log(\"No followings/followers data found for userId:\", userId);\n          }\n        })\n        .catch(error => {\n          console.error(\"Error fetching followings:\", error.response ? error.response.data : error.message);\n        });\n    },\n\n\n      fetchUserDetails() {\n        // Obtain userId from URL\n        const userId = this.$route.params.userId; // Ensure you have userId in your route params\n\n        // Fetch user details from API\n        this.$axios.get(`api/userDetails?userId=${userId}`)\n          .then(response => {\n            console.log(response.data);\n            this.userData = response.data;\n          })\n          .catch(error => {\n            console.error(\"Error fetching user details:\", error);\n          });\n      },\n\n      toggleProfilePrivacy() {\n        const newPrivacySetting = this.userData.profilePrivacy === 'Public' ? 'Private' : 'Public';\n\n        this.$axios.post('/api/toggleProfilePrivacy', {\n          userId: this.userData.userID,\n          profilePrivacy: newPrivacySetting\n        })\n        .then(response => {\n          console.log('Profile privacy updated:', response.data);\n          // Update local userData to reflect the new privacy setting\n          this.userData.profilePrivacy = newPrivacySetting;\n        })\n        .catch(error => {\n          console.error('Error toggling profile privacy:', error);\n        });\n      }\n\n\n  }\n}\n</script>\n\n\n<style scoped>\n.profile-container {\n  transition: transform 0.3s ease-in-out;\n  transform: translateX(-100%); /* Hide by default */\n  width: 350px;\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 1000;\n  background-color: white;\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.profile-container.is-visible {\n  transform: translateX(0); /* Show */\n}\n\n.profile-details-image {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n}\n\n.profile-container  ul {\n  list-style: none;\n}\n\n</style>\n","<template>\n\n\n  <div class=\"content-container\">\n  \n    <div class=\"posts-display-area\">\n      <div v-if=\"posts.length > 0\" class=\"post-container\">\n       <div v-for=\"post in posts\" :key=\"post.postID\" class=\"post-card\">\n          <div class=\"post-header\">\n            <img :src=\"post.profilePicture || defaultProfilePic\" alt=\"Profile Image\" class=\"profile-image\">\n            <div class=\"user-info\">\n              <span class=\"user-name\">{{ post.firstName }} {{ post.lastName }}</span>\n              <span class=\"post-date\">{{ formatTimestamp(post.timestamp) }}</span>\n            </div>\n          </div>\n  \n          <div class=\"post-body\">\n            <p v-if=\"post.content\" class=\"post-content\">{{ post.content }}</p>\n            <img v-if=\"post.imageURL\" :src=\"post.imageURL\" alt=\"Post image\" class=\"post-image\">\n          </div>\n  \n        </div>\n      </div>\n      <div v-else>\n        <p>No posts available.</p>\n      </div>\n    </div>\n\n  </div>\n  \n  </template>\n  \n  <script>\n  import { DEFAULT_PROFILE_PICTURE_URL } from '../constants';\n  \n  export default {\n    data() {\n      return {\n        defaultProfilePic: DEFAULT_PROFILE_PICTURE_URL,\n        userProfile: JSON.parse(localStorage.getItem('user')) || {},\n        followRelations: JSON.parse(localStorage.getItem('followRelations')) || [],\n        posts: [],\n      };\n    },\n    mounted() {\n      this.fetchPosts();\n      this.userProfile = JSON.parse(localStorage.getItem('user')) || {};\n    },\n    computed: {\n      userImage() {\n        // Return the profile picture URL from the user profile or the default if not present\n        return this.userProfile.profilePicture || DEFAULT_PROFILE_PICTURE_URL;\n      }\n    },\n    props: {\n      currentUserId: Number,\n      groupID: {\n        type: [Number, String, null], // Accept number, string, or null\n        default: null, // Default to null if not provided\n      },\n    },\n    methods: {\n      formatTimestamp(timestamp) {\n        // Format the timestamp using a method of your choice. Here's an example using the JavaScript Date object:\n        const date = new Date(timestamp);\n        return date.toLocaleDateString(\"en-US\"); // Format as needed\n      },\n  \n      fetchPosts() {\n        // Access the userId from the route parameters\n        const userId = this.$route.params.userId;\n\n        // Use the userId from the route to fetch the posts\n        this.$axios.get(`api/profilePosts?userId=${userId}`)\n          .then(response => {\n            console.log(\"These are the fetched posts:\", response.data);\n            this.posts = Array.isArray(response.data) ? response.data : [];\n          })\n          .catch(error => {\n            console.error(\"Error fetching posts:\", error.response ? error.response.data : error.message);\n          });\n      }\n\n\n\n    }\n  }\n  </script>\n  \n  <style scoped>\n  \n  .posts-display-area {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .post-card {\n    border-radius: 10px;\n    margin-bottom: 16px;\n    overflow: hidden;\n    background-color: #fff;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .post-header {\n    display: flex;\n    align-items: center;\n    padding: 12px 12px 12px 16px;\n    border-bottom: 1px solid #e1e4e8;\n  }\n  \n  .profile-image {\n    width: 40px; /* adjust size as needed */\n    height: 40px; /* adjust size as needed */\n    border-radius: 50%; /* makes it circular */\n    object-fit: cover; /* ensures the image covers the area */\n    margin-right: 12px;\n  }\n  \n  .user-info {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 10px;\n  }\n  \n  .user-name {\n    font-weight: bold;\n  }\n  \n  .post-date {\n    color: #586069;\n    font-size: 0.8rem;\n  }\n  \n  .post-content {\n    display: block;\n    word-break: break-word;\n    overflow-wrap: break-word;\n    text-align: left;\n    margin: 0px;\n    margin-bottom: 12px;\n  }\n  \n  .post-image {\n    max-height: 800px;\n    max-width: 100%;\n    object-fit: fill;\n  }\n  \n  .post-body {\n    padding: 16px 16px 0px 16px;\n  }\n  \n  .content-container {\n    display: flex;\n    flex-direction: column;\n    width: 40%;\n    margin-left: 30%;\n  }\n  .post-container {\n    padding-top: 20px;\n  }\n  \n  </style>\n  ","import { render } from \"./ProfileContentContainer.vue?vue&type=template&id=040c21d0&scoped=true\"\nimport script from \"./ProfileContentContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileContentContainer.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileContentContainer.vue?vue&type=style&index=0&id=040c21d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-040c21d0\"]])\n\nexport default __exports__","import { render } from \"./ProfilePage.vue?vue&type=template&id=171fc8f8&scoped=true\"\nimport script from \"./ProfilePage.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=js\"\n\nimport \"./ProfilePage.vue?vue&type=style&index=0&id=171fc8f8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-171fc8f8\"]])\n\nexport default __exports__","// src/router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\nimport AuthenticationModal from '@/views/AuthenticationModal.vue';\nimport MainContainer from '@/views/MainContainer.vue';\nimport GroupsPage from '@/views/GroupsPage.vue';\nimport UsersPage from '@/views/UsersPage.vue';\nimport GroupDetail from '@/views/GroupDetail.vue';\nimport ProfilePage from '@/views/ProfilePage.vue';\n// Import other components as needed\n\nconst routes = [\n  {\n    path: '/welcome',\n    name: 'Welcome',\n    component: AuthenticationModal,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/',\n    name: 'Home',\n    component: MainContainer,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/groups',\n    name: 'Groups',\n    component: GroupsPage,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/users',\n    name: 'Users',\n    component: UsersPage,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/group/:groupId',\n    name: 'GroupDetail',\n    component: GroupDetail,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/profile/:userId?',\n    name: 'ProfilePage',\n    component: ProfilePage,\n    meta: { requiresAuth: true }\n  },\n\n\n  // Define other routes\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  // Check if the route requires authentication and if the user is logged in\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  const isLoggedIn = store.state.isLoggedIn;\n\n  if (requiresAuth && !isLoggedIn) {\n    next('/welcome');\n  } else if (!requiresAuth && isLoggedIn) {\n    next('/');\n  } else {\n    next();\n  }\n});\n\nexport default router;","// src/main.js\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport axios from 'axios';\nimport VueCookies from 'vue-cookies'\n\n\naxios.defaults.baseURL = 'http://localhost:8091';\naxios.defaults.withCredentials = true;\n\nconst app = createApp(App);\n\napp.use(VueCookies)\napp.use(router);\napp.use(store);\n\napp.config.globalProperties.$axios = axios;\n\napp.mount('#app');\n\nif (!app.config.globalProperties.$cookies.isKey('session_id')) {\n  localStorage.clear();\n  store.dispatch('logOut');\n  router.push('/welcome');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksocial_network\"] = self[\"webpackChunksocial_network\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7571); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","name","created","this","checkCookie","methods","sessionIdCookie","document","cookie","split","find","row","trim","startsWith","localStorage","clear","$store","dispatch","$router","push","__exports__","render","savedLoggedInStatus","getItem","createStore","state","isLoggedIn","JSON","parse","mutations","setLoggedIn","status","setItem","stringify","actions","logIn","commit","router","logOut","key","class","_createElementVNode","type","value","_hoisted_10","_hoisted_11","disabled","selected","hidden","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","$data","showModal","_hoisted_2","_hoisted_3","_normalizeClass","active","showForm","onClick","_cache","$event","onSubmit","_withModifiers","args","$options","handleSignIn","_hoisted_4","placeholder","signInUser","credential","required","password","_hoisted_5","_hoisted_6","signInError","_hoisted_7","_toDisplayString","_createCommentVNode","handleSignUp","_hoisted_8","signUpStep","_hoisted_9","signUpUser","email","firstName","lastName","dateOfBirth","profilePrivacy","_hoisted_12","nextStep","_hoisted_13","signUpError","_hoisted_14","_hoisted_15","_hoisted_16","onChange","handleFileUpload","nickname","gender","_hoisted_21","aboutMe","previousStep","_hoisted_22","_hoisted_23","_hoisted_24","data","avatar","computed","mapState","mapActions","event","file","target","files","$axios","post","then","response","user","console","log","catch","error","formData","FormData","append","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","_Fragment","_component_router_link","to","default","_withCtx","_createTextVNode","_","currentUserId","handleLogout","_component_ContentContainer","_renderList","filteredOpenChats","relation","_createBlock","_component_ChatWindow","RoomID","currentRoomId","messages","filter","m","roomId","sendMessageFunction","sendChatMessage","onCloseChat","handleCloseChat","followRelations","UserID","handleUserClick","src","profilePicture","defaultProfilePic","alt","FirstName","LastName","UnreadCount","toggleNotificationCenter","isNotificationCenterVisible","notifications","notification","notificationMessage","groupName","title","creatorFirstName","creatorLastName","handleResponse","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","creatorName","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","ref","$props","chatPartnerName","closeChat","messagesForCurrentRoom","message","messageId","isCurrentUserSender","content","Date","timestamp","toLocaleTimeString","hour","minute","showEmojiPicker","emojis","emoji","addEmoji","newMessage","onKeyup","_withKeys","sendMessage","toggleEmojiPicker","props","String","Array","Function","Number","senderUserId","length","firstMessage","receiverFirstName","receiverLastName","senderFirstName","senderLastName","watch","scrollToBottom","mounted","$nextTick","messagesContainer","$refs","scrollTop","scrollHeight","checkMessageSender","senderUserID","$emit","submitPost","newPost","handleImageUpload","privacy","isSelected","toggleSelection","filteredPosts","postID","formatTimestamp","imageURL","openModal","activePost","submitComment","enctype","userImage","newComment","rows","handleCommentImageUpload","comments","comment","commentID","commentMedia","_hoisted_42","_hoisted_43","_hoisted_44","closeModal","DEFAULT_PROFILE_PICTURE_URL","userProfile","image","selectedUserIds","posts","fetchPosts","isAllowedToView","groupID","date","toLocaleDateString","userId","index","indexOf","splice","includes","apiUrl","get","fetchComments","params","currentUserID","privacySetting","some","allowedViewers","commentImage","axios","components","ChatWindow","ContentContainer","ws","serverUrl","unreadMessagesCount","openChats","loadingFollowRelations","groupDescription","pendingRequests","connectToWebsocket","userID","isArray","handler","newValue","oldValue","deep","$cookies","remove","currentRelationUserId","map","rel","fetchMessages","undefined","WebSocket","addEventListener","onWebsocketOpen","handleNewMessage","onWebsocketError","onWebsocketClose","msg","forEach","payload","updateUnreadCount","fetchedMessages","reverse","invite","existingNotificationIndex","findIndex","responseId","groupInviteNotification","groupId","GroupID","Name","Description","creatorUserId","CreatorUserID","CreatorName","followRequest","followRequestNotification","followerUserId","request","groupJoinRequestNotification","requestId","requesterUserId","userRelations","userRelationsArray","Object","values","loadUserRelations","followingMap","followersMap","userGroups","groupJoinRequests","relations","parsedRelations","currentUser","messagePayload","receiverUserId","toISOString","send","fetchPayload","notificationTypes","userResponse","responseType","responsePayload","accept","item","for","groups","group","description","isUserPartOfGroup","isJoinRequestPending","leaveGroup","joinGroup","navigateToGroup","isSidebarVisible","submitGroup","availableUsers","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","groupData","invitedUserIds","location","reload","fetchGroups","fetchUsers","alert","$forceUpdate","users","isFollowing","isFollower","isPending","followUser","cancelFollowRequest","unfollowUser","navigateToUserProfile","pendingRequestsMap","targetUserId","isPrivateUser","isPrivate","action","cancelRequest","followStatus","updateFollowStatus","groupMembers","member","_component_GroupChatWindow","isVisible","showGroupChat","onClose","onSendMessage","isGroupMember","connectToGroupChat","isCreatEventVisible","toggleInviteList","showInviteList","filteredUsers","submitInvitations","events","EventID","toggleEvent","expandedEventId","Title","EventDateTime","toLocaleString","Going","NotGoing","submitEvent","eventName","eventDescription","eventDateTime","_hoisted_67","_hoisted_68","_Transition","Boolean","messageObject","GroupChatWindow","$route","fetchGroupDetail","fetchGroupMembers","fetchEvents","joinGroupChatData","removeItem","readyState","OPEN","handleJoinGroupChatResponse","withCredentials","parseInt","payloadGroupId","isNaN","prepareInviteList","Promise","all","fetchInvitedUsers","filterOutGroupMembersAndInvitedUsers","groupIdInt","isInteger","excludedUserIDs","Set","has","joinGroupPayload","dateTime","invitedMembers","eventCreator","createEvent","eventId","isAllowedToSeeDetails","isUserDataVisible","userData","formatDOB","createdAt","toggleProfilePrivacy","showFollowing","following","showFollowers","followers","follower","fetchFollowing","fetchUserDetails","isOwner","isPublicProfile","year","month","day","relationType","newPrivacySetting","routes","path","component","AuthenticationModal","meta","requiresAuth","MainContainer","GroupsPage","UsersPage","GroupDetail","ProfilePage","createRouter","history","createWebHistory","beforeEach","from","next","matched","record","store","defaults","baseURL","app","createApp","App","use","VueCookies","config","globalProperties","mount","isKey","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}